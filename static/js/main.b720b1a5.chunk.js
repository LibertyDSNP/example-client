(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1064:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(61),c=n.n(o),i=n(3),l=n.n(i),s=n(27),u=n(133),d=n.n(u),m=n(510),f=(n(530),n(306)),p=n.n(f),v=n(45),b=n.n(v),h=n(132),g=n.n(h),E=n(85),_=n(24),O=n(202),w=function(){return Object(O.b)()},y=O.c,k=n(22),N=n(108),I=n(233),S=n.n(I),j=window.ethereum;j&&(j.autoRefreshOnNetworkChange=!1);var P,C=j,x=new S.a(C),A=function(){return Boolean(null===C||void 0===C?void 0:C.isMetaMask)},R=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===C||void 0===C?void 0:C.request({method:"eth_requestAccounts"});case 2:if(t=e.sent){e.next=5;break}throw new Error("Metamask not installed");case 5:return e.abrupt("return",t.result?t.result[0]:t[0]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L={icon:"https://cdn.iconscout.com/icon/free/png-512/metamask-2728406-2261817.png",login:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A()){e.next=2;break}throw new Error("Metamask not installed");case 2:return e.abrupt("return",R());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){},reload:function(){},getAddress:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getWeb3:function(){return function(){if(!A())throw new Error("Metamask not installed");return x}()}};!function(e){e.NONE="NONE",e.METAMASK="METAMASK"}(P||(P={}));var T,B,D,U,F,M=function(e){return e===P.METAMASK?L:H},H={icon:"https://icons.veryicon.com/png/o/business/business-style-icon/wallet-62.png",login:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"";case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){},reload:function(){},getAddress:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"";case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getWeb3:function(){return new S.a}},W=function(e){return sessionStorage.setItem("session",JSON.stringify(e)),e},G=function(){try{var e=sessionStorage.getItem("session");return e?JSON.parse(e):null}catch(t){return null}},Y=function(e){var t=G()||{id:void 0,walletType:P.NONE};W(Object(k.a)(Object(k.a)({},t),{},{walletType:e}))},z=function(){return!!sessionStorage.getItem("session")},V={id:z()?null===(T=G())||void 0===T?void 0:T.id:void 0,displayId:z()?null===(B=G())||void 0===B?void 0:B.id:void 0,walletType:null!==(D=null===(U=G())||void 0===U?void 0:U.walletType)&&void 0!==D?D:P.NONE},q=Object(N.b)({name:"user",initialState:V,reducers:{userLogin:function(e,t){return Object(k.a)(Object(k.a)({},e),t.payload)},userLogout:function(e){return{walletType:P.NONE}},userUpdateId:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{id:t.payload,displayId:t.payload})},userUpdateWalletType:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{walletType:t.payload})},setDisplayId:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{displayId:t.payload})},setTempIconUri:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{tempIconUri:t.payload})}}}),J=q.actions,K=(J.userLogin,J.userLogout),Q=J.userUpdateId,$=J.userUpdateWalletType,X=J.setDisplayId,Z=J.setTempIconUri,ee=q.reducer,te=n(32),ne=n(128),ae=n(58),re=n(6),oe=n(7),ce=function(e){return"function"==typeof e},ie=function(e){return"object"==typeof e&&e.constructor===Uint8Array},le=function(e,t){return(null===t||void 0===t?void 0:t.name)||(null===e||void 0===e?void 0:e.handle)&&"@".concat(null===e||void 0===e?void 0:e.handle)||(null===e||void 0===e?void 0:e.fromId)||""},se=function(e){return new URL(e,"http://localhost:8080")},ue=function(){function e(){Object(re.a)(this,e)}return Object(oe.a)(e,[{key:"put",value:function(e,t){return Promise.resolve(se(e))}},{key:"putStream",value:function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new de(t),e.next=3,n(a);case 3:return e.abrupt("return",se(t));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),de=function(){function e(t){Object(re.a)(this,e),Object(ae.a)(this,"chunks",[]),Object(ae.a)(this,"targetPath",void 0),this.targetPath=t}return Object(oe.a)(e,[{key:"write",value:function(e,t,n){var a="string"==typeof t?n:t;return this.chunks.push(e),a&&a(null),!0}},{key:"end",value:function(){var e;ie(arguments.length<=0?void 0:arguments[0])&&this.chunks.push(arguments.length<=0?void 0:arguments[0]),e=ce(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:ce(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2];for(var t=this.chunks.reduce((function(e,t){return e+t.length}),0),n=new ArrayBuffer(t),a=new Uint8Array(n),r=0,o=0;r<this.chunks.length;r++)a.set(this.chunks[r],o),o+=this.chunks[r].length;fetch(se("/upload?filename=".concat(encodeURIComponent(this.targetPath))).toString(),{method:"POST",mode:"cors",body:n}).then((function(t){if(201!==t.status)throw Error("failed to post stream: ".concat(t.status," ").concat(t.statusText));e&&e()}))}}]),e}(),me=function(e,t){if("false"!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAIN_ID:"31337",REACT_APP_CHAIN_HOST:"http://localhost:8545",REACT_APP_CHAIN_NAME:"Localchain",REACT_APP_TORUS_BUILD_ENV:"testing",REACT_APP_UPLOAD_HOST:"http://localhost:8080"}).REACT_APP_SHOW_LOGGING){var n={walletConnection:["Successfully connect to wallet: ",null===t||void 0===t?void 0:t.walletAddress],registrationSearch:["Searching for available handle: ",null===t||void 0===t?void 0:t.handle],selectedHandle:["You have more than one registration associated with you wallet: ",null===t||void 0===t?void 0:t.registrations],createHandle:["Successfully created registration: ",null===t||void 0===t?void 0:t.uri],logout:["Successfully logged out.","All of your data has been reset."],postActivityContentCreated:["Post activity content created: ",null===t||void 0===t?void 0:t.note],postActivityContentStored:["Post activity content stored with hash: ",null===t||void 0===t?void 0:t.hash],postAnnouncementCreated:["Post announcement built and signed: ",null===t||void 0===t?void 0:t.announcement],replyActivityContentCreated:["Reply activity content created: ",null===t||void 0===t?void 0:t.reply],replyActivityContentStored:["Reply activity content stored with hash: ",null===t||void 0===t?void 0:t.hash],replyAnnouncementCreated:["Reply announcement built and signed: ",null===t||void 0===t?void 0:t.announcement],graphChangeAnnouncementCreated:["Graph change announcement built and signed: ",null===t||void 0===t?void 0:t.announcement],profileActivityContentStored:["Profile activity content stored with hash: ",null===t||void 0===t?void 0:t.hash],profileAnnouncementCreated:["Profile announcement built and signed: ",null===t||void 0===t?void 0:t.announcement],batchCreated:["Batch announcement created: ",null===t||void 0===t?void 0:t.batch],batchPublished:["Batch announcement publishing to chain: ",null===t||void 0===t?void 0:t.publication]};n[e]&&console.log(n[e][0],n[e][1])}},fe=function(e){switch(e){case 4:return{dsnpStartBlockNumber:9211311,contracts:{Publisher:"0xeF7B5d418128fB8C1645Dd31270BE2cCAF9015e4",Beacon:"0xe3B7Fb9c43F9E62910Ae2763AA64aec07ec8F308",BeaconFactory:"0xC1F8593D46356B98c5DC7f7E8DF35247A68ED7D8",Identity:"0xa067CEa2859d27CA83700c7E17414f111C1BF561",IdentityCloneFactory:"0xDf962f3C24863A0fb8fb77B3144E31fE2859b9B8",Registry:"0x5d8266342aAfe19CB8EC25A6637f385893389A35"}};case 3:return{dsnpStartBlockNumber:10959123,contracts:{Publisher:"0x9828b9c8E8863267508eB0235370Eb26914D6a78",Beacon:"0x307748fF8c3547a6768B0CD37c1b0F35fFB0ca47",BeaconFactory:"0x024a03CFE1e8EE563382C08C1aB359830c39Cf20",Identity:"0x33707b57CE4Af9f970fb04a4D6CFF15B8342D938",IdentityCloneFactory:"0x61F57538a2621Dd2ba36E513e11cDe4f5936bCe9",Registry:"0xEBF48cE1EE0e727C2E23cb977799B93fD2EbFfda"}};default:return{}}},pe=function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a,r,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==P.METAMASK){e.next=7;break}if(a=window,n=a.ethereum){e.next=5;break}throw new Error("Could not create provider, because ethereum has not been set");case 5:e.next=8;break;case 7:throw new Error("Unknown walletType attempting to setup provider: ".concat(t));case 8:return r=new ne.providers.Web3Provider(n),o=r.getSigner(),e.next=12,o.getChainId();case 12:c=e.sent,Object(te.setConfig)(Object(k.a)({provider:r,signer:o,store:new ue},fe(c)));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=te.core.contracts.registry.getRegistrationsByWalletAddress,be=te.createRegistration,he=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.core.contracts.subscription.subscribeToBatchPublications((function(e){t(e)}),{fromBlock:"dsnp-start-block"});case 2:return a=e.sent,e.next=5,te.core.contracts.subscription.subscribeToRegistryUpdates((function(e){n(e)}),{fromBlock:"dsnp-start-block"});case 5:return r=e.sent,e.abrupt("return",(function(){r(),a()}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,e.prev=1,e.next=4,te.core.batch.openURL(t.fileUrl.toString());case 4:return r=e.sent,me("readBatchAnnouncement",{batchAnnouncement:t}),e.next=8,te.core.batch.readFile(r,(function(e){return n(e,a++)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Failed to read batch: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.core.batch.createFile(t,[n]);case 2:return a=e.sent,me("batchCreated",{batch:a}),r={announcementType:n.announcementType,fileUrl:a.url.toString(),fileHash:a.hash},e.next=7,te.core.contracts.publisher.publish([r]);case 7:me("batchPublished",{publication:r});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.core.announcements.sign(te.core.announcements.createBroadcast(te.core.identifiers.convertToDSNPUserURI(t),n,a)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.core.announcements.sign(te.core.announcements.createReply(t,a,r,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),we=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.core.announcements.sign(te.core.announcements.createProfile(te.core.identifiers.convertToDSNPUserURI(t),n,a)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(s.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.core.announcements.sign(te.core.announcements.createFollowGraphChange(te.core.identifiers.convertToDSNPUserURI(t),te.core.identifiers.convertToDSNPUserURI(n))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(s.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te.core.announcements.sign(te.core.announcements.createUnfollowGraphChange(te.core.identifiers.convertToDSNPUserURI(t),te.core.identifiers.convertToDSNPUserURI(n))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ne=n(502),Ie=n.n(Ne),Se=n(501),je={feedItems:[],replies:{},isPostLoading:{loading:!1,currentUserId:void 0},isReplyLoading:{loading:!1,parent:void 0}},Pe=function(e,t){return e.loading&&e.currentUserId===t.fromId?{loading:!1,currentUserId:void 0}:e},Ce=function(e,t){return e.loading&&e.parent===t.inReplyTo?{loading:!1,parent:void 0}:e},xe=Object(N.b)({name:"feed",initialState:je,reducers:{addFeedItem:function(e,t){var n=t.payload;return Object(k.a)(Object(k.a)({},e),{},{feedItems:[].concat(Object(E.a)(e.feedItems),[n]),isPostLoading:Pe(e.isPostLoading,n)})},addReply:function(e,t){var n=t.payload;return Object(k.a)(Object(k.a)({},e),{},{replies:Object(k.a)(Object(k.a)({},e.replies),{},Object(ae.a)({},n.inReplyTo,[].concat(Object(E.a)(e.replies[n.inReplyTo]||[]),[n]))),isReplyLoading:Ce(e.isReplyLoading,n)})},clearFeedItems:function(e){return je},postLoading:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{isPostLoading:{loading:t.payload.loading,currentUserId:t.payload.currentUserId}})},replyLoading:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{isReplyLoading:{loading:t.payload.loading,parent:t.payload.parent}})}}}),Ae=xe.actions,Re=Ae.addFeedItem,Le=Ae.addReply,Te=Ae.clearFeedItems,Be=Ae.postLoading,De=Ae.replyLoading,Ue=xe.reducer,Fe=n(511),Me=n(512),He=function(e,t){return e&&void 0!==e.blockNumber?t&&void 0!==t.blockNumber?t.blockNumber!==e.blockNumber?t.blockNumber>e.blockNumber?1:-1:t.blockIndex!==e.blockIndex?t.blockIndex>e.blockIndex?1:-1:t.batchIndex!==e.batchIndex?t.batchIndex>e.batchIndex?1:-1:0:-1:1},We=function(e,t){return He(e,t)>0?t:e},Ge={profiles:{}},Ye=Object(N.b)({name:"profiles",initialState:Ge,reducers:{upsertProfile:function(e,t){var n=t.payload.fromId,a=e.profiles[n],r=a?Object(k.a)(Object(k.a)({},a),t.payload):t.payload;return{profiles:Object(k.a)(Object(k.a)({},e.profiles),{},Object(ae.a)({},n,We(a,r)))}},removeProfile:function(e,t){var n=e.profiles,a=t.payload;n[a];return{profiles:Object(Fe.a)(n,[a].map(Me.a))}},clearProfiles:function(e){return Ge}}}),ze=Ye.actions,Ve=ze.upsertProfile,qe=(ze.removeProfile,ze.clearProfiles),Je=Ye.reducer,Ke=n(51),Qe=n(80);!function(e){e[e.FOLLOWING=0]="FOLLOWING",e[e.UNFOLLOWING=1]="UNFOLLOWING",e[e.UPDATING=2]="UPDATING"}(F||(F={}));var $e={following:{},followers:{}},Xe=Object(N.b)({name:"graphs",initialState:$e,reducers:{upsertGraph:function(e,t){var n=t.payload,a=n.follower,r=n.followee,o=n.unfollow,c=e.following[a]||{},i=e.followers[r]||{},l=We({status:o?F.UNFOLLOWING:F.FOLLOWING,blockNumber:t.payload.blockNumber,blockIndex:t.payload.blockIndex,batchIndex:t.payload.batchIndex},c[r]);return l===c[r]?e:{following:Object(k.a)(Object(k.a)({},e.following),{},Object(ae.a)({},a,Object(k.a)(Object(k.a)({},c),{},Object(ae.a)({},r,l)))),followers:Object(k.a)(Object(k.a)({},e.followers),{},Object(ae.a)({},r,Object(k.a)(Object(k.a)({},i),{},Object(ae.a)({},a,l))))}},updateRelationshipStatus:function(e,t){var n=t.payload,a=n.follower,r=n.followee,o=n.status,c=(e.following[a]||{})[a]||{status:F.UPDATING,blockNumber:-1,blockIndex:-1,batchNumber:-1},i=Object(k.a)(Object(k.a)({},c),{},{status:o});return{following:Object(k.a)(Object(k.a)({},e.following),{},Object(ae.a)({},a,Object(k.a)(Object(k.a)({},e.following[a]||{}),{},Object(ae.a)({},r,i)))),followers:Object(k.a)(Object(k.a)({},e.followers),{},Object(ae.a)({},r,Object(k.a)(Object(k.a)({},e.followers[r]||{}),{},Object(ae.a)({},a,i))))}},clearGraph:function(e){return $e}}}),Ze=Xe.actions,et=Ze.upsertGraph,tt=Ze.updateRelationshipStatus,nt=Ze.clearGraph,at=Xe.reducer,rt=n(78),ot=n(170),ct=n(143),it=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Te()),e.abrupt("return",he(bt(t),vt(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(n);case 2:return a=e.sent,me("postActivityContentStored",{hash:a}),e.next=6,_e(t,se("".concat(a,".json")).toString(),a);case 6:return r=e.sent,me("postAnnouncementCreated",{announcement:r}),e.next=10,Ee("".concat(a,".parquet"),r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),st=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a){var r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(n);case 2:return r=e.sent,me("replyActivityContentStored",{hash:r}),e.next=6,Oe(t,a,se("".concat(r,".json")).toString(),r);case 6:return o=e.sent,me("replyAnnouncementCreated",{announcement:o}),e.next=10,Ee("".concat(r,".parquet"),o);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ut=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(n);case 2:return a=e.sent,me("profileActivityContentStored",{hash:a}),e.next=6,we(t,se("".concat(a,".json")).toString(),a);case 6:return r=e.sent,me("profileAnnouncementCreated",{announcement:r}),e.next=10,Ee("".concat(a,".parquet"),r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dt=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t,n);case 2:return a=e.sent,me("graphChangeAnnouncementCreated",{announcement:a}),r=te.core.announcements.serialize(a),e.next=7,Ee(r,a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mt=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t,n);case 2:return a=e.sent,me("graphChangeAnnouncementCreated",{announcement:a}),r=te.core.announcements.serialize(a),e.next=7,Ee(r,a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ft=function(e){return Object(ot.useQuery)(["activityContentPost",e.url],Object(s.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url);case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,t.prev=6,Object(Ke.requireIsActivityContentNoteType)(a),t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(6),console.log(t.t0),t.t0;case 14:return t.abrupt("return",a);case 15:case"end":return t.stop()}}),t,null,[[6,10]])}))),{staleTime:18e4})},pt=function(e){return Object(ot.useQuery)(["activityContentProfile",null===e||void 0===e?void 0:e.url],Object(s.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||void 0===e?void 0:e.url){t.next=2;break}return t.abrupt("return",Object(Ke.createProfile)({name:""}));case 2:return t.next=4,fetch(e.url);case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,t.prev=8,Object(Ke.requireIsActivityContentProfileType)(a),t.next=16;break;case 12:throw t.prev=12,t.t0=t.catch(8),console.log(t.t0),t.t0;case 16:return t.abrupt("return",a);case 17:case"end":return t.stop()}}),t,null,[[8,12]])}))),{staleTime:18e4})},vt=function(e){return function(t){e(Ve(Object(k.a)(Object(k.a)({},Object(Ke.createProfile)()),{},{fromId:te.core.identifiers.convertToDSNPUserId(t.dsnpUserURI).toString(),handle:t.handle,blockNumber:t.blockNumber,blockIndex:t.transactionIndex,batchIndex:0})))}},bt=function(e){return function(t){ge(t,function(){var n=Object(s.a)(l.a.mark((function n(a,r){var o,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,o=a,Object(Qe.isSignedAnnouncement)(o)){n.next=5;break}return console.log("batched announcement is not signed announcment",o),n.abrupt("return");case 5:return n.next=7,te.core.contracts.registry.isSignatureAuthorizedTo(o.signature,o,BigInt(o.fromId),ct.Permission.ANNOUNCE);case 7:if(n.sent){n.next=10;break}return console.log("batched announcment has unauthorized signature",o),n.abrupt("return");case 10:Object(Qe.isGraphChangeAnnouncement)(o)?e(et({follower:o.fromId.toString(),followee:o.objectId.toString(),unfollow:o.changeType===Qe.DSNPGraphChangeType.Unfollow,blockNumber:t.blockNumber,blockIndex:t.transactionIndex,batchIndex:r})):Object(Qe.isBroadcastAnnouncement)(o)?(o.createdAt<Number.MAX_SAFE_INTEGER&&(c=new Date(Number(o.createdAt)).toISOString()),e(Re({fromId:o.fromId.toString(),blockNumber:t.blockNumber,blockIndex:t.transactionIndex,batchIndex:r,contentHash:o.contentHash,url:o.url,published:c||void 0}))):Object(Qe.isReplyAnnouncement)(o)?e(Le({fromId:o.fromId.toString(),inReplyTo:o.inReplyTo,blockNumber:t.blockNumber,blockIndex:t.transactionIndex,batchIndex:r,contentHash:o.contentHash,url:o.url})):Object(Qe.isProfileAnnouncement)(o)&&e(Ve({fromId:o.fromId.toString(),url:o.url,blockNumber:t.blockNumber,blockIndex:t.transactionIndex,batchIndex:r})),r++,n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e,t){return n.apply(this,arguments)}}())}},ht=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(rt.keccak256)(JSON.stringify(t)),e.next=3,fetch(se("/upload?filename=".concat(encodeURIComponent(n+".json"))).toString(),{method:"POST",mode:"cors",body:JSON.stringify(t)});case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=n(1081),Et=new Map([["small",28],["medium",50],["large",100],["xl",150]]),_t=function(e){var t,n,a=e.user,o=e.avatarSize,c=pt(a).data,i=y((function(e){return e.user.tempIconUri})),l=void 0===a?void 0:(null===c||void 0===c||null===(t=c.icon)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.href)||Se.create({seed:null===a||void 0===a?void 0:a.fromId}).toDataURL(),s=le(a,c);return r.a.createElement(Ie.a,{className:"UserAvatar",alt:s,icon:r.a.createElement(gt.a,null),src:i||l,size:Et.get(o),style:{minWidth:Et.get(o)}})},Ot=n(313),wt=n.n(Ot),yt=n(107),kt=n.n(yt),Nt=n(246),It=n.n(Nt),St=function(e,t){var n,a="string"==typeof e?e:(null===(n=e.data)||void 0===n?void 0:n.message)||e.message||e.toString();if(a.match(/MissingContractAddressError/))return"You are trying to connect to a network that is not yet supported by DSNP.\n            Change your network settings in your wallet to connect to a supported network.";if(a.match(/User denied transaction signature/))return"Transaction canceled.";if(a.match(/Handle already exists/)){var r=t?"@".concat(t):"That handle";return"".concat(r," is not available. Please choose another.")}return a},jt=n(1082),Pt=function(e){var t=e.walletAddress,n=e.onIdResolved,a=e.setRegistrationPreview,o=e.registrationCreated,c=r.a.useState(void 0),i=Object(_.a)(c,2),u=i[0],d=i[1],m=r.a.useState(!1),f=Object(_.a)(m,2),p=f[0],v=f[1],h=It.a.useForm(),E=Object(_.a)(h,1)[0],O=function(){var e=Object(s.a)(l.a.mark((function e(r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(void 0),E.resetFields(),e.prev=2,v(!0),me("registrationSearch",{handle:r.handle}),e.next=7,be(t,r.handle);case 7:c=e.sent,me("createHandle",{uri:c}),n(te.core.identifiers.convertToDSNPUserId(c).toString()),o({contractAddr:"",dsnpUserURI:c,handle:r.handle}),v(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0),d(St(e.t0,r.handle)),v(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(It.a,{form:E,name:"createHandle",className:"CreateRegistration__createHandle",initialValues:{remember:!0},onFinish:O},r.a.createElement(It.a.Item,{name:"handle",className:"CreateRegistration__handleInput",rules:[{required:!0,message:"Handle cannot be blank"}]},r.a.createElement("div",{className:"CreateRegistration__inputWrapper"},r.a.createElement(kt.a,{className:"CreateRegistration__input",onChange:function(){return d(void 0)}}),r.a.createElement("div",{className:"CreateRegistration__inputAt"},"@"))),p&&r.a.createElement(g.a,{className:"CreateRegistration__spinner"}),u&&r.a.createElement("div",{className:"CreateRegistration__footerBtn"},r.a.createElement(jt.a,{className:"CreateRegistration__errorIcon"}),r.a.createElement("p",null,u)),r.a.createElement("div",{className:"SelectHandle__footer"},r.a.createElement(b.a,{type:"primary",htmlType:"submit",className:"CreateRegistration__footerBtn"},"Create Handle")))},Ct=function(e){var t=e.onIdResolved,n=e.registrations,a=e.setRegistrationPreview,o=r.a.useState(void 0),c=Object(_.a)(o,2),i=c[0],l=c[1],s=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}}));return r.a.createElement("div",null,r.a.createElement("p",null,"You have multiple handles associated with your account."),r.a.createElement("div",{className:"SelectHandle__registrations"},n.map((function(e){return r.a.createElement("button",{className:"SelectHandle__registration".concat(e===i?" SelectHandle__registration--selected":""),onClick:function(){l(e),a(e)},key:e.dsnpUserURI},r.a.createElement(_t,{user:s[te.core.identifiers.convertToDSNPUserId(e.dsnpUserURI).toString()],avatarSize:"small"}),"@".concat(e.handle))}))),r.a.createElement("div",{className:"SelectHandle__footer"},r.a.createElement(b.a,{className:"SelectHandle__footerBtn",key:"post",type:"primary",disabled:!i,onClick:function(){i&&(t(i.dsnpUserURI),a(void 0))}},"Select Handle")))},xt=wt.a.Panel,At=function(e){var t=e.walletAddress,n=e.onIdResolved,o=e.setRegistrationPreview,c=e.registrations,i=e.registrationCreated,l=y((function(e){return e.user.id})),s=c&&c.length>1;Object(a.useEffect)((function(){s&&me("selectedHandle",{registrations:c})}),[s,c]);return r.a.createElement(wt.a,{bordered:!1,defaultActiveKey:function(){if(!l)return 0===c.length?"0":"1"}(),expandIconPosition:"right"},r.a.createElement(xt,{header:r.a.createElement("p",{className:"EditRegistrationAccordion__panelTitle"},"Create New Handle"),key:0},r.a.createElement(Pt,{walletAddress:t,onIdResolved:n,setRegistrationPreview:o,registrationCreated:i})),s&&r.a.createElement(xt,{header:r.a.createElement("p",{className:"EditRegistrationAccordion__panelTitle"},"Select Account Handle"),key:1},r.a.createElement(Ct,{onIdResolved:n,registrations:c,setRegistrationPreview:o})))},Rt=n(79),Lt=function(e){var t=e.registrationPreview,n=t?Object(Rt.convertToDSNPUserId)(t.dsnpUserURI).toString():void 0,a=y((function(e){return e.user.id})),o=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),c=n?o[n]:a?o[a]:void 0;return r.a.createElement("div",{className:"RegistrationPreview__block"},r.a.createElement(_t,{user:c,avatarSize:"medium"}),r.a.createElement("div",{className:"RegistrationPreview__infoBlock ".concat(!c&&"RegistrationPreview__infoBlock--unselected")},r.a.createElement("div",{className:"RegistrationPreview__handle"},"@",null===c||void 0===c?void 0:c.handle),r.a.createElement("div",{className:"RegistrationPreview__id"},(null===c||void 0===c?void 0:c.name)||(null===c||void 0===c?void 0:c.fromId)||"0000")))},Tt=function(e){var t=e.logout,n=e.walletAddress,o=e.onIdResolved,c=e.registrations,i=e.registrationCreated,l=y((function(e){return e.user.id})),s=Object(a.useState)(),u=Object(_.a)(s,2),d=u[0],m=u[1];return r.a.createElement("div",{className:"EditRegistration"},l?r.a.createElement("p",{className:"EditRegistration__title"},"Edit"):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"link",className:"EditRegistration__cancel",onClick:t},"Cancel"),r.a.createElement("p",{className:"EditRegistration__title"},"Successfully connected to your wallet.")),r.a.createElement(Lt,{registrationPreview:d}),r.a.createElement(At,{walletAddress:n,onIdResolved:o,setRegistrationPreview:m,registrations:c,registrationCreated:i}),r.a.createElement(b.a,{className:"EditRegistration__logoutButton","aria-label":"Logout",onClick:t},"Sign Out"))},Bt=function(){var e=r.a.useState(!1),t=Object(_.a)(e,2),n=t[0],o=t[1],c=r.a.useState(!1),i=Object(_.a)(c,2),u=i[0],d=i[1],m=r.a.useState(""),f=Object(_.a)(m,2),v=f[0],h=f[1],O=r.a.useState([]),N=Object(_.a)(O,2),I=N[0],S=N[1],j=w(),x=y((function(e){return e.user.id})),A=y((function(e){return e.user.walletType})),R=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),L=x?R[x]:void 0,T=pt(L).data,B=function(e){var t=te.core.identifiers.convertToDSNPUserId(e);j(Q(t.toString())),function(e){var t=G()||{id:void 0,walletType:P.NONE};W(Object(k.a)(Object(k.a)({},t),{},{id:e.toString()}))}(t),d(!1)};Object(a.useEffect)((function(){if(A&&A!==P.NONE){var e=M(A);Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=h,t.next=3,e.getAddress();case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})))()}else H()}),[A]);var D=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(t),e.next=3,pe(n);case 3:return e.next=5,ve(t);case 5:a=e.sent,S(a),1===a.length?B(a[0].dsnpUserURI):d(!0);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return");case 2:return o(!0),e.prev=3,e.next=6,M(t).login();case 6:return a=e.sent,e.next=9,D(a,t);case 9:me("walletConnection",{walletAddress:a,registrations:I}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.warn("Login error",e.t0),F();case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e;(H(),h(""),sessionStorage.removeItem("session"),A!==P.NONE)&&(null===(e=M(A))||void 0===e||e.logout());!function(e){e(K()),e(Te()),e(qe()),e(nt())}(j),me("logout")};null===C||void 0===C||C.removeAllListeners("accountsChanged").on("accountsChanged",function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(),!t[0]||A===P.NONE){e.next=5;break}return o(!0),e.next=5,D(t[0],A);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null===C||void 0===C||C.removeAllListeners("chainChanged").on("chainChanged",F);var H=function(){o(!1),d(!1)};return r.a.createElement("div",{className:"ConnectWallet__block"},x||u?r.a.createElement(p.a,{placement:"bottomRight",visible:u,trigger:"click",onVisibleChange:function(e){d(e),x||e||F()},content:r.a.createElement(Tt,{logout:F,walletAddress:v,onIdResolved:B,registrations:I,registrationCreated:function(e){S([].concat(Object(E.a)(I),[e]))}})},r.a.createElement("div",{className:"ConnectWallet__userBlock"},r.a.createElement(_t,{user:L,avatarSize:"small"}),r.a.createElement("div",{className:"ConnectWallet__userTitle"},(null===L||void 0===L?void 0:L.handle)?"@"+L.handle:(null===T||void 0===T?void 0:T.name)||(null===L||void 0===L?void 0:L.fromId)))):r.a.createElement(b.a,{className:"ConnectWallet__loginButton","aria-label":"Login",onClick:function(){return e=P.METAMASK,j($(e)),Y(e),void U(e);var e}},"Connect Wallet",n&&r.a.createElement(g.a,{className:"ConnectWallet__spinner",size:"small"})))},Dt=function(){return r.a.createElement("div",{className:"Header__block"},r.a.createElement("h1",{className:"Header__title"},"Example Client"),r.a.createElement(Bt,null))},Ut=n(309),Ft=n.n(Ut),Mt=n(197),Ht=n.n(Mt),Wt=n(1085),Gt=n(1083),Yt=n(1084),zt=function(e){var t=e.uri,n=e.index,o=e.deleteImage,c=Object(a.useState)(function(e){var t=e.match(/\/\/((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w]+)(\S+)?$/i);if(t)return"https://img.youtube.com/vi/"+t[4]+"/mqdefault.jpg";var n=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);return n?"https://vumbnail.com/"+n[1]+".jpg":e}(t)),i=Object(_.a)(c,2),l=i[0],s=i[1];return r.a.createElement("div",{className:"NewPostThumbnails__imageBlock"},l?r.a.createElement("img",{alt:"",className:"NewPostThumbnails__image",src:l,onError:function(){return s("")}}):r.a.createElement("div",{className:"NewPostThumbnails__imageAlt"},r.a.createElement(Gt.a,null)),r.a.createElement(Yt.a,{className:"NewPostThumbnails__imageDelete",onClick:function(){return o(n)},twoToneColor:"#1dcf76"}))},Vt=function(e){var t=e.onNewPostImageUpload,n=r.a.useState(null),a=Object(_.a)(n,2),o=a[0],c=a[1],i=r.a.useState(""),l=Object(_.a)(i,2),s=l[0],u=l[1],d=r.a.useState([]),m=Object(_.a)(d,2),f=m[0],p=m[1],v=s&&s.match(/.+\..+\//),h=function(){if(v){var e=[].concat(Object(E.a)(f),[s]);p(e),t(e),u("")}else c("Invalid URL.")},g=function(e){var n=Object(E.a)(f);n.splice(e,1),p(n),t(n)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"NewPostThumbnails__cover"},f&&f.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(zt,{uri:e,index:t,deleteImage:g}))}))),r.a.createElement("div",{className:"NewPostImageUpload__urlInputBlock"},r.a.createElement(Wt.a,{style:{fontSize:"28px"}}),r.a.createElement(kt.a,{className:"NewPostImageUpload__urlInput",placeholder:"Content URL",value:s||"",onChange:function(e){return t=e.target.value,u(t),void c(null);var t},onPressEnter:h}),r.a.createElement(b.a,{className:"NewPostImageUpload__urlInputBtn",onClick:h},"Add")),o&&r.a.createElement(Ht.a,{className:"NewPostImageUpload__alert",type:"error",message:o}))},qt=n(196),Jt=n.n(qt),Kt=function(e){var t=Jt.a.extname(e).replace(".",""),n=new URL(e).host,a=[Object(Ke.createHash)(e)];if(/(youtu\.be|youtube\.com|vimeo\.com|soundcloud.com)$/.test(n)){var r=Object(Ke.createVideoLink)(e,"text/html",a);return Object(Ke.createVideoAttachment)([r])}switch(t){case"mp4":return Object(Ke.createVideoAttachment)([Object(Ke.createVideoLink)(e,"video/mp4",a)]);case"wmv":return Object(Ke.createVideoAttachment)([Object(Ke.createVideoLink)(e,"video/x-ms-wmv",a)]);case"mov":return Object(Ke.createVideoAttachment)([Object(Ke.createVideoLink)(e,"video/quicktime",a)]);case"webm":return Object(Ke.createVideoAttachment)([Object(Ke.createVideoLink)(e,"video/webm",a)]);case"mp3":return Object(Ke.createAudioAttachment)([Object(Ke.createAudioLink)(e,"audio/mpeg",a)]);case"ogg":return Object(Ke.createAudioAttachment)([Object(Ke.createAudioLink)(e,"audio/ogg",a)]);default:return Object(Ke.createImageAttachment)([Object(Ke.createImageLink)(e,"image/".concat(t),a)])}},Qt=function(e,t){var n=Object(Ke.createNote)(e);return t&&(n.attachment=t.map(Kt)),n},$t=function(e){var t=e.onSuccess,n=e.onCancel,a=w(),o=r.a.useState(!1),c=Object(_.a)(o,2),i=c[0],u=c[1],m=r.a.useState([]),f=Object(_.a)(m,2),p=f[0],v=f[1],h=r.a.useState(""),E=Object(_.a)(h,2),O=E[0],k=E[1],N=r.a.useState(!1),I=Object(_.a)(N,2),S=I[0],j=I[1],P=y((function(e){return e.user.id})),C=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),x=P&&C[P]||{fromId:P||"",url:void 0,blockIndex:0,blockNumber:0,batchIndex:0},A=function(){var e=Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return");case 2:return n=Qt(O,p),me("postActivityContentCreated",{note:n}),e.next=6,lt(P,n);case 6:a(Be({loading:!0,currentUserId:P})),u(!1),t();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(d.a,{className:"NewPost",visible:!0,onCancel:n,width:"535px",centered:!0,footer:[r.a.createElement(g.a,{spinning:i,key:1},r.a.createElement(Ft.a,null,r.a.createElement(b.a,{className:"NewPost__footerBtn",key:"post",type:"primary",disabled:!S||i,onClick:A},"Post")))]},r.a.createElement("div",{className:"NewPost__textAreaRow"},r.a.createElement(_t,{user:x,avatarSize:"medium"}),r.a.createElement(kt.a.TextArea,{autoFocus:!0,className:"NewPost__textArea",placeholder:"Message",value:O||"",onChange:function(e){return function(e){i||(""!==e.target.value?j(!0):j(!1),k(e.target.value))}(e)},autoSize:{minRows:2,maxRows:5}})),r.a.createElement(Vt,{onNewPostImageUpload:v}))},Xt=n(171),Zt=n.n(Xt),en=n(505),tn=n.n(en),nn=n(504),an=n.n(nn),rn=n(1086),on=n(1087);function cn(e){return"video"===e.type.toLowerCase()}var ln,sn=function(e){var t=e.attachments;return r.a.createElement(tn.a,{nextArrow:r.a.createElement(rn.a,null),prevArrow:r.a.createElement(on.a,null),dots:!0},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"PostMedia__cover"},function(e){return"image"===e.type.toLowerCase()}(e)&&r.a.createElement("a",{href:e.url[0].href,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:e.name,className:"PostMedia__img",src:e.url[0].href})),(cn(e)||function(e){return"audio"===e.type.toLowerCase()}(e))&&r.a.createElement(an.a,{controls:!0,playsinline:!0,className:"PostMedia__img",url:e.url[0].href,width:670,height:cn(e)?400:55,muted:!0}))})))},un=function(e){var t=e.published,n=e.postStyle;return r.a.createElement("p",{className:"RelativeTime ".concat(n?"RelativeTime--post":"")},function(e){var t,n=new Date(e),a=((new Date).getTime()-n.getTime())/1e3;return a<60?Math.floor(a)+"s":a<3600?Math.floor(a/60)+"m":a<=86400?Math.floor(a/3600)+"h":a>86400?"".concat((t=n.getMonth(),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][t])," ").concat(n.getDate(),", ").concat(n.getFullYear()):void 0}(t))},dn=n(506),mn=n.n(dn),fn=n(1088),pn=n(1089),vn=function(e){var t=e.hash,n=e.fromId,o=e.isReply,c=Object(a.useState)(!1),i=Object(_.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(!1),d=Object(_.a)(u,2),m=d[0],f=d[1],p=Object(Rt.buildDSNPAnnouncementURI)(n,t),v=r.a.createElement("div",{className:"PostHashDropdown__menuHash"},r.a.createElement("div",{className:"PostHashDropdown__menuHashTitle"},"DSNP Announcement URI:")," ",p);return r.a.createElement(mn.a,{className:o?"PostHashDropdown__replyBlock":"PostHashDropdown__block",overlay:v,visible:m,onVisibleChange:function(e){return f(e)},placement:"bottomRight"},r.a.createElement("button",{className:"PostHashDropdown__button",onClick:function(e){e.preventDefault(),navigator.clipboard.writeText(p),s(!0),setTimeout((function(){s(!1)}),2e3)}},l?r.a.createElement(fn.a,{twoToneColor:"#1dcf76"}):r.a.createElement(pn.a,null)," ","DSNP URI"))},bn=function(e){var t=e.userInfo,n=e.profile,a=e.isHoveringProfile,o=e.isReply,c=t.handle&&"@"+t.handle,i=(null===n||void 0===n?void 0:n.name)||t.fromId;return r.a.createElement("span",{className:"FromTitle__block"},r.a.createElement("div",{className:function(){var e="FromTitle__primary";return a&&(e+=" FromTitle__primary--active"),o&&(e+=" FromTitle__primary--reply"),e}()},c),!o&&r.a.createElement("div",{className:"FromTitle__secondary"},i))},hn=n(244),gn=function(e){var t=e.reply,n=w(),o=Object(a.useState)(!1),c=Object(_.a)(o,2),i=c[0],l=c[1],s=y((function(e){return e.profiles.profiles})),u=ft(t),d=u.isSuccess,m=u.data,f=s[t.fromId],p=pt(f).data;return r.a.createElement("div",{className:"Reply__block"},r.a.createElement(vn,{hash:t.contentHash,fromId:t.fromId,isReply:!0}),r.a.createElement("div",{className:"Reply__metaBlock",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onClick:function(){return n(X(t.fromId))}},r.a.createElement(_t,{user:f,avatarSize:"small"}),r.a.createElement("div",{className:"Reply__name"},r.a.createElement(bn,{userInfo:f,profile:p,isHoveringProfile:i,isReply:!0}))),d?(null===m||void 0===m?void 0:m.content)&&r.a.createElement("div",{className:"Reply__message"},r.a.createElement(hn.a,{target:"_blank",rel:"noreferrer noopener"},null===m||void 0===m?void 0:m.content)):r.a.createElement("div",{className:"BlankReply__messageBlock"},r.a.createElement("div",{className:"BlankReply__name"}," "),r.a.createElement("div",{className:"BlankReply__message"}," ")))},En=function(e){var t=e.parentURI,n=w(),o=y((function(e){return e.user.id})),c=r.a.useState(!1),i=Object(_.a)(c,2),u=i[0],d=i[1],m=Object(a.useState)(""),f=Object(_.a)(m,2),p=f[0],v=f[1],b=function(){var e=Object(s.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o){e.next=3;break}return e.abrupt("return");case 3:return d(!0),r=Qt(p,[]),me("replyActivityContentCreated",{reply:r}),e.next=8,st(o,r,t);case 8:n(De({loading:!0,parent:t})),v(""),d(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"ReplyInput__newReplyBlock"},r.a.createElement(kt.a.TextArea,{className:"ReplyInput__input",placeholder:"Reply...",value:p,onChange:function(e){u||v(e.target.value)},autoSize:!0,onPressEnter:function(e){return b(e)}}))},_n=function(){return r.a.createElement("div",{className:"BlankReply__block"},r.a.createElement(_t,{user:void 0,avatarSize:"small"}),r.a.createElement("div",{className:"BlankReply__messageBlock"},r.a.createElement("div",{className:"BlankReply__name"}," "),r.a.createElement("div",{className:"BlankReply__message"}," ")))},On=function(e){var t=e.parentURI,n=y((function(e){return e.feed.replies[t]})),a=y((function(e){return e.feed.isReplyLoading}));return r.a.createElement(r.a.Fragment,null,(t===(null===a||void 0===a?void 0:a.parent)||(null===n||void 0===n?void 0:n.length))&&r.a.createElement("div",{className:"ReplyBlock__repliesList"},(null===n||void 0===n?void 0:n.length)>0&&r.a.createElement(r.a.Fragment,null,n.map((function(e,t){return r.a.createElement(gn,{reply:e,key:t})}))),t===(null===a||void 0===a?void 0:a.parent)&&r.a.createElement(_n,null)),r.a.createElement(En,{parentURI:t}))},wn=function(e){var t=e.feedItem,n=w(),o=Object(a.useState)(!1),c=Object(_.a)(o,2),i=c[0],l=c[1],s=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}}))[t.fromId]||{fromId:t.fromId},u=ft(t),d=u.isSuccess,m=u.data,f=u.error,p=pt(s).data,v=(null===m||void 0===m?void 0:m.attachment)||[];return r.a.createElement(Zt.a,{key:t.contentHash,className:"Post__block",bordered:!1},r.a.createElement("div",{onClick:function(){return n(X(t.fromId))},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},className:"Post__metaBlock"},r.a.createElement(Zt.a.Meta,{className:"Post__metaInnerBlock",avatar:r.a.createElement(_t,{user:s,avatarSize:"medium"}),title:r.a.createElement(bn,{userInfo:s,profile:p,isHoveringProfile:i})})),r.a.createElement("div",{className:"Post__rightCorner"},(null===t||void 0===t?void 0:t.published)&&r.a.createElement(un,{published:null===t||void 0===t?void 0:t.published,postStyle:!0}),r.a.createElement(vn,{hash:t.contentHash,fromId:t.fromId})),d?r.a.createElement(r.a.Fragment,null,(null===m||void 0===m?void 0:m.content)&&r.a.createElement("div",{className:"Post__caption"},r.a.createElement(hn.a,{target:"_blank",rel:"noreferrer noopener"},null===m||void 0===m?void 0:m.content)),(null===m||void 0===m?void 0:m.attachment)&&r.a.createElement(sn,{attachments:v})):r.a.createElement("div",{className:f?"Post__content--error":"Post__content--loading"},r.a.createElement("div",{className:"BlankPost__contentLine1"}," "),r.a.createElement("div",{className:"BlankPost__contentLine2"}," "),r.a.createElement("div",{className:"BlankPost__contentLine3"}," ")),r.a.createElement(On,{parentURI:Object(Rt.buildDSNPAnnouncementURI)(BigInt(t.fromId),t.contentHash)}))},yn=function(){return r.a.createElement(Zt.a,{className:"BlankPost__block",bordered:!1},r.a.createElement(Zt.a.Meta,{avatar:r.a.createElement(_t,{user:void 0,avatarSize:"medium"}),title:r.a.createElement("div",{className:"BlankPost__title"}," "),description:r.a.createElement("div",{className:"BlankPost__description"}," ")}),r.a.createElement("div",{className:"BlankPost__contentLine1"}," "),r.a.createElement("div",{className:"BlankPost__contentLine2"}," "),r.a.createElement("div",{className:"BlankPost__contentLine3"}," "))},kn=n(507);!function(e){e[e.MY_FEED=0]="MY_FEED",e[e.MY_POSTS=1]="MY_POSTS",e[e.DISCOVER=2]="DISCOVER",e[e.DISPLAY_ID_POSTS=3]="DISPLAY_ID_POSTS"}(ln||(ln={}));var Nn,In=function(e){var t=e.feedType,n=r.a.useState([]),o=Object(_.a)(n,2),c=o[0],i=o[1],l=r.a.useState([]),s=Object(_.a)(l,2),u=s[0],d=s[1],m=y((function(e){return e.user.id})),f=y((function(e){return e.user.displayId})),p=y((function(e){return m?e.graphs.following[m]:void 0})),v=y((function(e){return e.feed.feedItems})),b=y((function(e){return e.feed.isPostLoading.loading}));Object(a.useEffect)((function(){var e,n=(e={},Object(ae.a)(e,ln.MY_FEED,(function(e){var t;return e.fromId===m||p&&(null===(t=p[e.fromId])||void 0===t?void 0:t.status)===F.FOLLOWING})),Object(ae.a)(e,ln.MY_POSTS,(function(e){return m===(null===e||void 0===e?void 0:e.fromId)})),Object(ae.a)(e,ln.DISPLAY_ID_POSTS,(function(e){return f===(null===e||void 0===e?void 0:e.fromId)})),Object(ae.a)(e,ln.DISCOVER,(function(e){return!0})),e)[t]||function(e){return!0},a=function(e){return e.sort(He)}(v.filter(n));i(a),d((function(e){return a.slice(0,Math.max(e.length,5))}))}),[v,t,m,f,p]);return r.a.createElement("div",{className:"PostList__block"},b&&r.a.createElement(yn,null),u.length>0?r.a.createElement(kn.a,{dataLength:u.length,next:function(){var e=c.slice(0,u.length+5);d(e)},hasMore:u.length<c.length,loader:r.a.createElement("h4",null,"Loading..."),endMessage:r.a.createElement("h4",null,"That's all your posts")},u.map((function(e,t){return r.a.createElement(wn,{key:t,feedItem:e})}))):"Empty Feed!")},Sn=n(1090),jn=function(e){var t=e.user,n=pt(t).data;return r.a.createElement(r.a.Fragment,null,le(t,n))};!function(e){e[e.MY_FEED=0]="MY_FEED",e[e.MY_POSTS=1]="MY_POSTS",e[e.DISCOVER=2]="DISCOVER",e[e.DISPLAY_ID_POSTS=3]="DISPLAY_ID_POSTS"}(Nn||(Nn={}));var Pn,Cn=function(){var e=w(),t=y((function(e){return e.user.id})),n=y((function(e){return e.user.displayId})),o=Object(a.useState)(!1),c=Object(_.a)(o,2),i=c[0],l=c[1],s=Object(a.useState)(Nn.DISCOVER),u=Object(_.a)(s,2),d=u[0],m=u[1],f=Object(a.useState)(!1),p=Object(_.a)(f,2),v=p[0],h=p[1],g=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),E=n?g[n]:{fromId:"unknown",blockNumber:0,blockIndex:0,batchIndex:0},O=function(e){return d===e?"Feed__navigationItem Feed__navigationItem--active":"Feed__navigationItem"};return Object(a.useEffect)((function(){t&&n&&n!==t&&h(!0)}),[t,n]),Object(a.useEffect)((function(){v&&m(Nn.DISPLAY_ID_POSTS)}),[v,n]),r.a.createElement("div",{className:"Feed__block"},r.a.createElement("div",{className:"Feed__header"},r.a.createElement("nav",{className:"Feed__navigation"},v&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Feed__backArrow",onClick:function(){return t&&e(X(t)),h(!1),void m(Nn.DISCOVER)}},r.a.createElement(Sn.a,null)),r.a.createElement("div",{className:O(Nn.DISPLAY_ID_POSTS),onClick:function(){return m(Nn.DISPLAY_ID_POSTS)}},r.a.createElement(jn,{user:E}),"'s Posts"),r.a.createElement("div",{className:"Feed__navigationSpacer"})),r.a.createElement("div",{className:O(Nn.DISCOVER),onClick:function(){return m(Nn.DISCOVER)}},"Discover"),r.a.createElement("div",{className:"Feed__navigationSpacer"}),r.a.createElement("div",{className:O(Nn.MY_FEED),onClick:function(){return m(Nn.MY_FEED)}},"My Feed"),r.a.createElement("div",{className:"Feed__navigationSpacer"}),r.a.createElement("div",{className:O(Nn.MY_POSTS),onClick:function(){return m(Nn.MY_POSTS)}},"My Posts")),t&&r.a.createElement(b.a,{className:"Feed__newPostButton",onClick:function(){return l(!0)}},"New Post"),i&&r.a.createElement($t,{onSuccess:function(){return l(!1)},onCancel:function(){return l(!1)}})),r.a.createElement(In,{feedType:d}))},xn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ProfileBlock__loginHeaderText"}," Login Quick Start"),r.a.createElement("p",null,"To use the Example Client, you must connect with MetaMask"),r.a.createElement("div",{className:"ProfileBlock__loginTitleText"},"MetaMask Connection Guide"),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Before we can access the browser we need to install the MetaMask browser extension to give us a cryptowallet. Pin MetaMask to your extension bar."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en",target:"_blank",rel:"noreferrer"},"Download For Chrome")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://addons.mozilla.org/en-US/firefox/addon/ether-metamask/",target:"_blank",rel:"noreferrer"},"Download For Firefox"))),r.a.createElement("p",null,"Setup MetaMask by following these steps."),r.a.createElement("p",null,"For local development:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Clone"," ",r.a.createElement("a",{href:"https://github.com/LibertyDSNP/contracts",target:"_blank",rel:"noreferrer"},"the contracts repository")," ","and follow the instructions to build and launch the local Hardhat node and deploy the contracts."),r.a.createElement("li",null,"In Metamask, import Secret Recovery Phrase:"," ",r.a.createElement("code",null,"test test test test test test test test test test test junk")," ","and click ",r.a.createElement("code",null,"Restore"),"."),r.a.createElement("li",null,"Click on the Networks dropdown in the top right corner and select"," ",r.a.createElement("code",null,"Localhost 8545"),"."),r.a.createElement("li",null,"Go to Settings \u2192 Networks, then change the Chain ID of Localhost 8545 to ",r.a.createElement("code",null,"31337"),".")),r.a.createElement("p",null,"For Rinkeby:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Click ",r.a.createElement("code",null,"Create Account")," and set an account name."),r.a.createElement("li",null,"Click on the Networks dropdown in the top right corner and select"," ",r.a.createElement("code",null,"Rinkeby Test Network"),"."),r.a.createElement("li",null,"If it displays ",r.a.createElement("code",null,"Not Connected"),", click on that and select"," ",r.a.createElement("code",null,"Connect")," on your desired account."),r.a.createElement("li",null,"Use a faucet to transfer ETH to your account. We recommend"," ",r.a.createElement("a",{href:"http://rinkeby-faucet.com/",target:"_blank",rel:"noreferrer"},"this one"),".")),r.a.createElement("p",null,r.a.createElement("b",null,"You should now see ETH in your account and are ready to use the Example Client!")),r.a.createElement("aside",null,"Note: look to"," ",r.a.createElement("a",{href:"https://github.com/LibertyDSNP/example-client",target:"_blank",rel:"noreferrer"},"the README")," ","for more details.")))},An=function(e){var t=e.userId,n=e.user,a=e.following,o=w(),c=function(e){var t;return[F.FOLLOWING,F.UPDATING].includes(null===(t=a[e.fromId])||void 0===t?void 0:t.status)},i=function(e){var t;return(null===(t=a[e.fromId])||void 0===t?void 0:t.status)===F.UPDATING},u=function(e){return i(e)?"updating":c(e)?"Unfollow":"Follow"},d=function(){var e=Object(s.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c(n)){e.next=5;break}return e.next=3,mt(BigInt(t),BigInt(n.fromId));case 3:e.next=7;break;case 5:return e.next=7,dt(BigInt(t),BigInt(n.fromId));case 7:o(tt({follower:t,followee:n.fromId,status:F.UPDATING}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(b.a,{className:"GraphChangeButton",name:u(n),onClick:function(){return d(n)},disabled:i(n)},u(n),i(n)?r.a.createElement(g.a,null):r.a.createElement("div",{className:"Follow"===u(n)?"GraphChangeButton__followIcon":"GraphChangeButton__unfollowIcon"},"\u2715"))},Rn=function(e){var t=e.userId,n=e.connectionsList,a=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),o=y((function(e){return t&&e.graphs.following[t]||{}}));return r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("div",{className:"ConnectionsListProfiles__profile",key:e.fromId},r.a.createElement(_t,{user:a[e.fromId],avatarSize:"small"}),r.a.createElement("div",{className:"ConnectionsListProfiles__name"},r.a.createElement(jn,{user:e})),t!==e.fromId&&r.a.createElement(An,{userId:t,user:e,following:o}))})))};!function(e){e.CLOSED="CLOSED",e.FOLLOWERS="FOLLOWERS",e.FOLLOWING="FOLLOWING"}(Pn||(Pn={}));var Ln=function(){var e=y((function(e){return e.user})),t=e.id,n=e.displayId,o=y((function(e){return n&&e.graphs.following[n]||{}})),c=y((function(e){return n&&e.graphs.followers[n]||{}})),i=Object(a.useState)(Pn.CLOSED),l=Object(_.a)(i,2),s=l[0],u=l[1],d=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),m=function(e){return d[e]||{contentHash:"",url:"",announcementType:Qe.AnnouncementType.Profile,fromId:e,handle:"unknown"}},f=function(e){return Object.keys(e).map(m).filter((function(t){var n;return(null===(n=e[t.fromId])||void 0===n?void 0:n.status)!==F.UNFOLLOWING}))},p=s===Pn.FOLLOWERS?c:s===Pn.FOLLOWING?o:{},v=function(e){u(s===e?Pn.CLOSED:e)},h=function(e){return s===e?"ConnectionsList__button ConnectionsList__button--active":"ConnectionsList__button"};return r.a.createElement("div",{className:"ConnectionsList__block"},r.a.createElement("div",{className:"ConnectionsList__buttonBlock"},r.a.createElement(b.a,{className:h(Pn.FOLLOWERS),onClick:function(){return v(Pn.FOLLOWERS)}},r.a.createElement("div",{className:"ConnectionsList__buttonCount"},f(c).length),"Followers"),r.a.createElement(b.a,{className:h(Pn.FOLLOWING),onClick:function(){return v(Pn.FOLLOWING)}},r.a.createElement("div",{className:"ConnectionsList__buttonCount"},f(o).length),"Following")),t&&r.a.createElement(Rn,{userId:t,connectionsList:f(p)}))},Tn=function(e){var t=e.setNewIcon,n=w(),o=y((function(e){return e.user.id})),c=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),i=o?c[o]:void 0,l=Object(a.useState)(!1),s=Object(_.a)(l,2),u=s[0],m=s[1],f=r.a.useState(""),p=Object(_.a)(f,2),v=p[0],h=p[1],g=r.a.useState(null),E=Object(_.a)(g,2),O=E[0],k=E[1],N=v&&String(v).match(/.+\..+\//),I=function(){if(N){var e=Jt.a.extname(v).replace(".",""),a=te.core.activityContent.createImageLink(v,"image/".concat(e),[te.core.activityContent.createHash(v)]);n(Z(a.href)),m(!1),t([a]),h("")}else k("Invalid URL.")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){return m(!0)},className:"EditAvatarModal__button"},r.a.createElement(_t,{user:i,avatarSize:"large"}),r.a.createElement("div",{className:"EditAvatarModal__edit"},"edit")),r.a.createElement(d.a,{visible:u,onCancel:function(){m(!1),h(""),n(Z(void 0))},footer:null},r.a.createElement("div",{className:"EditAvatarModal__avatarPreview"},r.a.createElement(_t,{user:i,avatarSize:"xl"})),r.a.createElement("div",{className:"NewPostImageUpload__urlInputBlock"},r.a.createElement(Wt.a,{style:{fontSize:"28px"}}),r.a.createElement(kt.a,{className:"NewPostImageUpload__urlInput",placeholder:"Content URL",value:v||"",onChange:function(e){return h(e.target.value)},onPressEnter:I}),r.a.createElement(b.a,{className:"NewPostImageUpload__urlInputBtn",onClick:I},"Add")),O&&r.a.createElement(Ht.a,{className:"NewPostImageUpload__alert",type:"error",message:O})))},Bn=function(e){var t=e.isEditing,n=e.saveEditProfile,a=e.didEditProfile,o=e.cancelEditProfile,c=e.setIsEditing;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"ProfileBlock__editButton",onClick:function(){return n()},disabled:!a},"save"),r.a.createElement(b.a,{className:"ProfileBlock__editButton",onClick:function(){return o()}},"cancel")):r.a.createElement(b.a,{className:"ProfileBlock__editButton",onClick:function(){return c(!t)}},"edit")},Dn=function(){var e=w(),t=y((function(e){return e.user.id})),n=y((function(e){return t&&e.graphs.following[t]||{}})),o=y((function(e){return e.user.displayId})),c=y((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),i=o?c[o]:void 0,u=pt(i).data,m=null===i||void 0===i?void 0:i.handle,f=Object(a.useState)(),p=Object(_.a)(f,2),v=p[0],b=p[1],h=Object(a.useState)(null===u||void 0===u?void 0:u.icon),g=Object(_.a)(h,2),E=g[0],O=g[1],k=Object(a.useState)(!1),N=Object(_.a)(k,2),I=N[0],S=N[1],j=(null===u||void 0===u?void 0:u.name)||"Anonymous";Object(a.useEffect)((function(){v&&v!==j||E&&E!==(null===u||void 0===u?void 0:u.icon)?S(!0):S(!1)}),[v,E,null===u||void 0===u?void 0:u.icon,j,m]);var P,C=Object(a.useState)(!1),x=Object(_.a)(C,2),A=x[0],R=x[1],L=function(){var e=Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!A),void 0!==t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,"string"===typeof v&&B(v),n=te.core.activityContent.createProfile({name:null===v||void 0===v?void 0:v.trim(),icon:E}),e.next=8,ut(BigInt(t),n);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),d.a.error({title:"Error saving profile",content:St(e.t0)}),T();case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),T=function(){R(!A),b(void 0),e(Z(void 0))},B=function(e){if(""===e.trim())throw new Error("Display name can not be whitespace");b(e.trim())};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ProfileBlock__personalInfoBlock"},r.a.createElement("div",{className:"ProfileBlock__avatarBlock"},t===o&&A?r.a.createElement(Tn,{setNewIcon:O}):r.a.createElement(_t,{user:i,avatarSize:"large"}),t===o&&r.a.createElement(Bn,{isEditing:A,setIsEditing:R,saveEditProfile:L,didEditProfile:I,cancelEditProfile:T}),t&&t!==o&&i&&r.a.createElement(An,{userId:t,user:i,following:n})),r.a.createElement("div",{className:"ProfileBlock__personalInfo"},r.a.createElement("label",{className:"ProfileBlock__personalInfoLabel"},"NAME"),r.a.createElement("input",{className:(P="name",A?"ProfileBlock__".concat(P," ProfileBlock__editing"):"ProfileBlock__".concat(P)),value:v||""===v?v:j,onChange:function(e){return b(e.target.value)},disabled:!A}),r.a.createElement("div",{className:"ProfileBlock__personalInfoLabel"},"HANDLE"),r.a.createElement("div",{className:"ProfileBlock__handle"},"@",m),r.a.createElement("div",{className:"ProfileBlock__personalInfoLabel"},"SOCIAL ADDRESS"),r.a.createElement("div",{className:"ProfileBlock__dsnpUserId"},o||"Anonymous"))),r.a.createElement(Ln,null))},Un=function(){var e=y((function(e){return e.user.id})),t=y((function(e){return e.user.displayId}));return r.a.createElement("div",{className:"ProfileBlock__block"},e||t?r.a.createElement(Dn,null):r.a.createElement(xn,null))},Fn=function(){var e=w(),t=y((function(e){return e.user.walletType}));Object(a.useEffect)((function(){var n;if(t&&t!==P.NONE)return Object(s.a)(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,M(t).reload();case 3:return a.next=5,pe(t);case 5:return a.next=7,e(it);case 7:n=a.sent,a.next=15;break;case 10:a.prev=10,a.t0=a.catch(0),a.t0.message.match(/login cancelled/i)||(console.error("Error in initial provider setup",a.t0),r=a.t0.toString(),d.a.error({title:"Error setting up provider",content:St(r)})),e($(P.NONE)),Y(P.NONE);case 15:case"end":return a.stop()}var r}),a,null,[[0,10]])})))(),function(){var e;null===(e=n)||void 0===e||e()}}));var n=new ot.QueryClient;return r.a.createElement(m.a,null,r.a.createElement(ot.QueryClientProvider,{client:n},r.a.createElement("div",{className:"App"},r.a.createElement(Dt,null),r.a.createElement("main",{className:"App__content"},r.a.createElement(Cn,null),r.a.createElement(Un,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Mn={user:ee,profiles:Je,graphs:at,feed:Ue},Hn=Object(N.a)({reducer:Mn});c.a.render(r.a.createElement(O.a,{store:Hn},r.a.createElement(Fn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},525:function(e,t,n){e.exports=n(1064)},548:function(e,t){},572:function(e,t){},574:function(e,t){},649:function(e,t){},651:function(e,t){},684:function(e,t){},689:function(e,t){},691:function(e,t){},698:function(e,t){},711:function(e,t){},733:function(e,t){},742:function(e,t){},744:function(e,t){}},[[525,1,2]]]);