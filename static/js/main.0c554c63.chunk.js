(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{476:function(e,t,n){e.exports=n(996)},499:function(e,t){},523:function(e,t){},525:function(e,t){},599:function(e,t){},601:function(e,t){},611:function(e,t){},613:function(e,t){},638:function(e,t){},644:function(e,t){},657:function(e,t){},679:function(e,t){},996:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(60),c=n.n(o),i=n(1),l=n.n(i),u=n(24),s=n(469),d=(n(481),n(23)),m=n(188),f=function(){return Object(m.b)()},p=m.c,v=n(22),b=n(102),g=n(136),A=n.n(g),h=window.ethereum;h&&(h.autoRefreshOnNetworkChange=!1);var E,O=h,N=new A.a(O),I=function(){return Boolean(null===O||void 0===O?void 0:O.isMetaMask)},w=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===O||void 0===O?void 0:O.request({method:"eth_requestAccounts"});case 2:if(t=e.sent){e.next=5;break}throw new Error("Metamask not installed");case 5:return e.abrupt("return",t.result?t.result[0]:t[0]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k={icon:"https://cdn.iconscout.com/icon/free/png-512/metamask-2728406-2261817.png",login:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I()){e.next=2;break}throw new Error("Metamask not installed");case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){},reload:function(){},getAddress:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getWeb3:function(){return function(){if(!I())throw new Error("Metamask not installed");return N}()}},y=n(457),j=n.n(y),_={},S={theme:{isDark:!1,colors:{torusBrand1:"#000000",torusGray2:"#FBF7F3"}},logoDark:"https://avatars.githubusercontent.com/u/78103996?s=200&v=4",logoLight:"https://avatars.githubusercontent.com/u/78103996?s=200&v=4"},x={web3:new A.a,torus:null,initialized:!1,setweb3:function(e){var t=new A.a(e);x.web3=t,this.web3.setProvider(e)},initialize:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new j.a(_),e.next=3,n.init({buildEnv:"testing",network:{host:"http://localhost:8545",chainId:Number("1337")||1337,networkName:"Localchain"},showTorusButton:!0,whiteLabel:S});case 3:return this.initialized=!0,e.prev=4,e.next=7,n.login({verifier:void 0});case 7:x.setweb3(n.provider),x.torus=n,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),n.clearInit(),this.initialized=!1,new Error("Login Cancelled");case 16:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},P=x,L=["google","reddit","discord"],C=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.initialize(t||"production");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){return P.initialized},R=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=P.torus)||void 0===t?void 0:t.getUserInfo("This site is requesting your information");case 2:if(n=e.sent){e.next=5;break}throw new Error("Unable to find user's info");case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(a=P.torus)||void 0===a?void 0:a.getPublicAddress({verifier:t,verifierId:n,isExtended:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return t=e.sent,n=t.verifier,a=t.verifierId,r=F(n),e.next=8,U(r,a);case 8:if(o=e.sent){e.next=11;break}throw new Error("No Wallet Address found for User");case 11:if("string"!==typeof o){e.next=13;break}return e.abrupt("return",o);case 13:return e.abrupt("return",o.address);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){var t=L.find((function(t){return e.includes(t)}));if(!t)throw new Error("Unknown Verifier");return t},M={icon:"data:image/jpeg;base64,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",login:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return e.next=4,T();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){B()&&function(){var e;null===(e=P.torus)||void 0===e||e.cleanUp().then((function(){sessionStorage.setItem("pageUsingTorus","false")}))}()},reload:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAddress:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getWeb3:function(){return P.web3}};!function(e){e.NONE="NONE",e.TORUS="TORUS",e.METAMASK="METAMASK"}(E||(E={}));var D,Q,V,q,W,G=function(e){switch(e){case E.NONE:return K;case E.TORUS:return M;case E.METAMASK:return k}},K={icon:"https://icons.veryicon.com/png/o/business/business-style-icon/wallet-62.png",login:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"";case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){},reload:function(){},getAddress:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"";case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getWeb3:function(){return new A.a}},H=function(e){return sessionStorage.setItem("session",JSON.stringify(e)),e},Y=function(){try{var e=sessionStorage.getItem("session");return e?JSON.parse(e):null}catch(t){return null}},z=function(e){var t=Y()||{id:void 0,walletType:E.NONE};H(Object(v.a)(Object(v.a)({},t),{},{walletType:e}))},J=function(){return!!sessionStorage.getItem("session")},X={id:J()?null===(D=Y())||void 0===D?void 0:D.id:void 0,displayId:J()?null===(Q=Y())||void 0===Q?void 0:Q.id:void 0,walletType:null!==(V=null===(q=Y())||void 0===q?void 0:q.walletType)&&void 0!==V?V:E.NONE},Z=Object(b.b)({name:"user",initialState:X,reducers:{userLogin:function(e,t){return Object(v.a)(Object(v.a)({},e),t.payload)},userLogout:function(e){return{walletType:E.NONE}},userUpdateId:function(e,t){return Object(v.a)(Object(v.a)({},e),{},{id:t.payload,displayId:t.payload})},userUpdateWalletType:function(e,t){return Object(v.a)(Object(v.a)({},e),{},{walletType:t.payload})},setDisplayId:function(e,t){return Object(v.a)(Object(v.a)({},e),{},{displayId:t.payload})}}}),$=Z.actions,ee=($.userLogin,$.userLogout),te=$.userUpdateId,ne=$.userUpdateWalletType,ae=$.setDisplayId,re=Z.reducer,oe=n(39),ce=n(118),ie=n(38),le=n(6),ue=n(7),se=function(e){return"function"==typeof e},de=function(e){return"object"==typeof e&&e.constructor===Uint8Array},me=n(220),fe=n.n(me),pe=n(53),ve=function(e){var t=fe.a.extname(e).replace(".",""),n=new URL(e).host,a=[Object(pe.createHash)(e)];if(/(youtu\.be|youtube\.com|vimeo\.com|soundcloud.com)$/.test(n)){var r=Object(pe.createVideoLink)(e,"text/html",a);return Object(pe.createVideoAttachment)([r])}switch(t){case"mp4":return Object(pe.createVideoAttachment)([Object(pe.createVideoLink)(e,"video/mp4",a)]);case"wmv":return Object(pe.createVideoAttachment)([Object(pe.createVideoLink)(e,"video/x-ms-wmv",a)]);case"mov":return Object(pe.createVideoAttachment)([Object(pe.createVideoLink)(e,"video/quicktime",a)]);case"webm":return Object(pe.createVideoAttachment)([Object(pe.createVideoLink)(e,"video/webm",a)]);case"mp3":return Object(pe.createAudioAttachment)([Object(pe.createAudioLink)(e,"audio/mpeg",a)]);case"ogg":return Object(pe.createAudioAttachment)([Object(pe.createAudioLink)(e,"audio/ogg",a)]);default:return Object(pe.createImageAttachment)([Object(pe.createImageLink)(e,"image/".concat(t),a)])}},be=function(e,t){var n={"@context":"https://www.w3.org/ns/activitystreams",type:"Note",mediaType:"text/plain",content:e,published:(new Date).toISOString()};return t&&(n.attachment=t.map(ve)),n},ge=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){var r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=be(t,n),o={fromId:BigInt(a),content:r},e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ae=function(){function e(){Object(le.a)(this,e)}return Object(ue.a)(e,[{key:"put",value:function(e,t){return Promise.resolve(new URL("".concat("http://localhost:8080","/").concat(e)))}},{key:"putStream",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new he(t),e.next=3,n(a);case 3:return e.abrupt("return",new URL("".concat("http://localhost:8080","/").concat(t)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),he=function(){function e(t){Object(le.a)(this,e),Object(ie.a)(this,"chunks",[]),Object(ie.a)(this,"targetPath",void 0),this.targetPath=t}return Object(ue.a)(e,[{key:"write",value:function(e,t,n){var a="string"==typeof t?n:t;return this.chunks.push(e),a&&a(null),!0}},{key:"end",value:function(){var e;de(arguments.length<=0?void 0:arguments[0])&&this.chunks.push(arguments.length<=0?void 0:arguments[0]),e=se(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:se(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2];for(var t=this.chunks.reduce((function(e,t){return e+t.length}),0),n=new ArrayBuffer(t),a=new Uint8Array(n),r=0,o=0;r<this.chunks.length;r++)a.set(this.chunks[r],o),o+=this.chunks[r].length;fetch("".concat("http://localhost:8080","/upload?filename=").concat(encodeURIComponent(this.targetPath)),{method:"POST",mode:"cors",body:n}).then((function(t){if(201!==t.status)throw Error("failed to post stream: ".concat(t.status," ").concat(t.statusText));e&&e()}))}}]),e}(),Ee=n(108),Oe=function(e){var t;if(e===E.TORUS)t=M.getWeb3().currentProvider;else{if(e!==E.METAMASK)throw new Error("Unknown walletType attempting to setup provider: ".concat(e));if(!(t=window.ethereum))throw new Error("Could not create provider, because ethereum has not been set")}var n=new ce.providers.Web3Provider(t);Object(oe.c)({provider:n,signer:n.getSigner(),store:new Ae})},Ne=oe.a.contracts.registry.getRegistrationsByWalletAddress,Ie=oe.b,we=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.contracts.subscription.subscribeToBatchPublications((function(e){t(e)}),{fromBlock:1});case 2:return a=e.sent,e.next=5,oe.a.contracts.subscription.subscribeToRegistryUpdates((function(e){n(e)}),{fromBlock:1});case 5:return r=e.sent,e.abrupt("return",(function(){r(),a()}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,e.next=3,oe.a.batch.openURL(t.fileUrl.toString());case 3:return r=e.sent,e.next=6,oe.a.batch.readFile(r,(function(e){return n(e,a++)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.batch.createFile(t,[n]);case 2:return a=e.sent,e.next=5,oe.a.contracts.publisher.publish([{announcementType:n.announcementType,fileUrl:a.url.toString(),fileHash:a.hash}]);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe.a.announcements.sign(oe.a.announcements.createBroadcast(oe.a.identifiers.convertToDSNPUserURI(t),n,a)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),_e=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe.a.announcements.sign(oe.a.announcements.createReply(t,a,r,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Se=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe.a.announcements.sign(oe.a.announcements.createProfile(oe.a.identifiers.convertToDSNPUserURI(t),n,a)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),xe=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe.a.announcements.sign(oe.a.announcements.createFollowGraphChange(oe.a.identifiers.convertToDSNPUserURI(t),oe.a.identifiers.convertToDSNPUserURI(n))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe.a.announcements.sign(oe.a.announcements.createUnfollowGraphChange(oe.a.identifiers.convertToDSNPUserURI(t),oe.a.identifiers.convertToDSNPUserURI(n))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Le=n(135),Ce=n.n(Le),Be=n(50),Re=n.n(Be),Ue=n(107),Te=n.n(Ue),Fe=function(e){var t=e.popoverVisible,n=e.setPopoverVisible,a=e.loginWalletOptions,o=e.loading,c=e.loginWithWalletType,i=f(),l=function(e){i(ne(e)),z(e),c(e)},u=r.a.createElement(Ce.a,{placement:"bottomRight",trigger:"click",visible:t,onVisibleChange:function(e){n(e)},color:"black",content:r.a.createElement("div",{className:"LoginButton__loginOptions"},r.a.createElement("div",null,"Log in with"),r.a.createElement("button",{className:"LoginButton__loginMetamask",onClick:function(){return l(E.METAMASK)}},"MetaMask"),r.a.createElement("div",null,"OR"),r.a.createElement("button",{className:"LoginButton__loginTorus",onClick:function(){return l(E.TORUS)}},"Torus"))},r.a.createElement(Re.a,{className:"LoginButton__loginButton","aria-label":"Login"},"Log In",o&&r.a.createElement(Te.a,{className:"LoginButton__spinner",size:"small"}))),s=r.a.createElement(Re.a,{className:"LoginButton__loginButton LoginButton__loginButton--quickStart","aria-label":"Login",onClick:function(){return c(a)}},"Log In With ",a,o&&r.a.createElement(Te.a,{className:"LoginButton__spinner",size:"small"}));return r.a.createElement(r.a.Fragment,null,a===E.NONE?u:s)},Me=n(301),De=n.n(Me),Qe=n(122),Ve=n.n(Qe),qe=n(181),We=n.n(qe),Ge=n(462),Ke=n.n(Ge),He=n(461),Ye=new Map([["small",32],["medium",50],["large",100]]),ze=function(e){var t=e.icon,n=e.profileAddress,a=e.avatarSize,o=t||n&&He.create({seed:n}).toDataURL();return r.a.createElement(Ke.a,{className:"UserAvatar",alt:n||"anonymous",src:o,size:Ye.get(a)})},Je=function(e){var t=e.children,n=e.visible,a=e.registrations,o=e.walletAddress,c=e.onIdResolved,i=e.onCancel,s=r.a.useState(!1),m=Object(d.a)(s,2),f=m[0],v=m[1],b=r.a.useState(!0),g=Object(d.a)(b,2),A=g[0],h=g[1],E=r.a.useState(void 0),O=Object(d.a)(E,2),N=O[0],I=O[1],w=r.a.useState(void 0),k=Object(d.a)(w,2),y=k[0],j=k[1],_=p((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}}));a.length?f||(v(!0),h(!1)):f&&(v(!1),h(!0));var S=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie(o,t.handle);case 3:n=e.sent,c(oe.a.identifiers.convertToDSNPUserId(n).toString()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),I("Error registering: ".concat(e.t0.message||e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t,n;return null===(t=_[oe.a.identifiers.convertToDSNPUserId(e.dsnpUserURI).toString()])||void 0===t||null===(n=t.icon)||void 0===n?void 0:n[0].href},P=r.a.createElement(De.a,{name:"createHandle",className:"RegistrationModal__createHandle",initialValues:{remember:!0},onFinish:S},N&&r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{message:N,type:"error"})),r.a.createElement("p",null,"Please create a handle:"),r.a.createElement(De.a.Item,{name:"handle",className:"RegistrationModal__handleInput",rules:[{required:!0,message:"Handle cannot be blank"}]},r.a.createElement(Ve.a,null)),r.a.createElement("div",{className:"RegistrationModal__footer"},f&&r.a.createElement("button",{onClick:function(e){e.preventDefault(),h(!1)},className:"RegisrationModal__changeMode"},"Select Existing Handle"),r.a.createElement(Re.a,{type:"primary",htmlType:"submit",className:"RegistrationModal__footerBtn"},"Choose handle"))),L=r.a.createElement("div",null,r.a.createElement("p",null,"You have multiple handles associated with your account."),r.a.createElement("h3",null,"Select an account:"),r.a.createElement("div",{className:"RegistrationModal__registrations"},a.map((function(e){return r.a.createElement("button",{className:"RegistrationModal__registration".concat(e===y?" RegistrationModal__registration--selected":""),onClick:function(){return j(e)},key:e.dsnpUserURI},r.a.createElement(ze,{icon:x(e),profileAddress:e.dsnpUserURI,avatarSize:"small"}),"@".concat(e.handle))}))),r.a.createElement("div",{className:"RegistrationModal__footer"},r.a.createElement("button",{onClick:function(){return h(!0)},className:"RegisrationModal__changeMode"},"Create New Handle"),r.a.createElement(Re.a,{className:"RegistrationModal__footerBtn",key:"post",type:"primary",disabled:!y,onClick:function(){y&&c(y.dsnpUserURI)}},"Select Handle")));return r.a.createElement(Ce.a,{placement:"bottomRight",visible:n,content:r.a.createElement("div",{className:"RegistrationModal"},r.a.createElement(Re.a,{type:"link",className:"RegistrationModal__cancel",onClick:i},"Cancel"),r.a.createElement("h2",null,"Welcome!"),A?P:L)},t)},Xe=function(e){var t=e.logout;return r.a.createElement(Re.a,{className:"Logout__logoutButton","aria-label":"Logout",onClick:t},"Sign Out")},Ze=function(e){var t,n,a=e.logout,o=p((function(e){return e.user.id})),c=p((function(e){return e.profiles.profiles})),i=o?c[o]:void 0,l=r.a.useState(!1),u=Object(d.a)(l,2),s=u[0],m=u[1];return r.a.createElement(Ce.a,{className:"RegistrationHub__block",placement:"bottomRight",trigger:"click",visible:s,onVisibleChange:function(e){m(e)},content:r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,{logout:a}))},r.a.createElement("div",{className:"RegistrationHub__userBlock"},r.a.createElement(ze,{icon:null===i||void 0===i||null===(t=i.icon)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.href,profileAddress:o,avatarSize:"small"}),r.a.createElement("div",{className:"RegistrationHub__userTitle"},(null===i||void 0===i?void 0:i.handle)?"@"+i.handle:(null===i||void 0===i?void 0:i.name)||(null===i||void 0===i?void 0:i.fromId))))},$e=function(e){var t=e.isPrimary,n=e.loginWalletOptions,a=r.a.useState(!1),o=Object(d.a)(a,2),c=o[0],i=o[1],s=r.a.useState(!1),m=Object(d.a)(s,2),b=m[0],g=m[1],A=r.a.useState(!1),h=Object(d.a)(A,2),N=h[0],I=h[1],w=r.a.useState(""),k=Object(d.a)(w,2),y=k[0],j=k[1],_=r.a.useState([]),S=Object(d.a)(_,2),x=S[0],P=S[1],L=f(),C=p((function(e){return e.user.id})),B=p((function(e){return e.user.walletType})),R=function(e){var t=oe.a.identifiers.convertToDSNPUserId(e);L(te(t.toString())),function(e){var t=Y()||{id:void 0,walletType:E.NONE};H(Object(v.a)(Object(v.a)({},t),{},{id:e.toString()}))}(t),I(!1)},U=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(t),Oe(n),e.next=4,Ne(t);case 4:1===(a=e.sent).length?R(a[0].dsnpUserURI):(P(a),I(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}return e.abrupt("return");case 2:return i(!0),e.prev=3,e.next=6,G(t).login();case 6:return n=e.sent,e.next=9,U(n,t);case 9:e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),F(),g(!1),i(!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){if(i(!1),I(!1),j(""),C){var e;if(sessionStorage.removeItem("session"),B!==E.NONE)null===(e=G(B))||void 0===e||e.logout();L(ee())}};if(t){var M=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(),!t[0]||B===E.NONE){e.next=5;break}return i(!0),e.next=5,U(t[0],B);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();null===O||void 0===O||O.removeAllListeners("accountsChanged").on("accountsChanged",M)}return r.a.createElement("div",{className:"Login__block"},C?r.a.createElement(Ze,{logout:F}):r.a.createElement(Je,{visible:N,registrations:x,onIdResolved:R,onCancel:F,walletAddress:y},r.a.createElement(Fe,{popoverVisible:b,setPopoverVisible:g,loginWalletOptions:n,loading:c,loginWithWalletType:T})))},et=function(){return r.a.createElement("div",{className:"Header__block"},r.a.createElement("h1",{className:"Header__title"},"Example Client"),r.a.createElement($e,{loginWalletOptions:E.NONE,isPrimary:!0}))},tt=n(463),nt=n.n(tt),at=n(297),rt=n.n(at),ot=n(74),ct=n(1011),it=n.p+"static/media/Camera.a7abe56b.svg",lt=function(e){var t=e.onNewPostImageUpload,n=r.a.useState(!1),a=Object(d.a)(n,2),o=a[0],c=a[1],i=r.a.useState(null),l=Object(d.a)(i,2),u=l[0],s=l[1],m=r.a.useState(""),f=Object(d.a)(m,2),p=f[0],v=f[1],b=r.a.useState([]),g=Object(d.a)(b,2),A=g[0],h=g[1],E=p&&p.match(/.+\..+\//);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"NewPostImageUpload__cover"},A&&A.map((function(e,n){return r.a.createElement("div",{className:"NewPostImageUpload__imageBlock",key:n},r.a.createElement("img",{alt:"",className:"NewPostImageUpload__image",src:e,onLoad:function(){return c(!1)}}),r.a.createElement(ct.a,{className:"NewPostImageUpload__imageDelete",onClick:function(){return function(e){var n=Object(ot.a)(A);n.splice(e,1),h(n),t(n)}(n)},twoToneColor:"#9e9e9e"}))})),p&&r.a.createElement(Te.a,{className:"NewPostImageUpload__spinner",spinning:o})),r.a.createElement("div",{className:"NewPostImageUpload__urlInputBlock"},r.a.createElement("img",{className:"NewPostImageUpload__icon",src:it,alt:"camera"}),r.a.createElement(Ve.a,{className:"NewPostImageUpload__urlInput",placeholder:"Image URL",value:p||"",onChange:function(e){var t;c(!0),t=e.target.value,v(t),s(null)}}),r.a.createElement(Re.a,{className:"NewPostImageUpload__urlInputBtn",onClick:function(){if(E){var e=[].concat(Object(ot.a)(A),[p]);h(e),t(e),v("")}else s("Invalid URL.")}},"Add")),u&&r.a.createElement(We.a,{className:"NewPostImageUpload__alert",type:"error",message:u}))},ut={feedItems:[],isPostLoading:{loading:!1,currentUserId:void 0},isReplyLoading:{loading:!1,parent:void 0}},st=function(e,t){return e.loading&&e.currentUserId===t.fromId?{loading:!1,currentUserId:void 0}:e},dt=function(e,t){return e.loading&&e.parent===t.inReplyTo?{loading:!1,parent:void 0}:e},mt=Object(b.b)({name:"feed",initialState:ut,reducers:{addFeedItem:function(e,t){var n=t.payload;return Object(v.a)(Object(v.a)({},e),{},{feedItems:[].concat(Object(ot.a)(e.feedItems),[n]),isPostLoading:st(e.isPostLoading,n),isReplyLoading:dt(e.isReplyLoading,n)})},clearFeedItems:function(e){return Object(v.a)(Object(v.a)({},e),{},{feedItems:[]})},postLoading:function(e,t){return Object(v.a)(Object(v.a)({},e),{},{isPostLoading:{loading:t.payload.loading,currentUserId:t.payload.currentUserId}})},replyLoading:function(e,t){return Object(v.a)(Object(v.a)({},e),{},{isReplyLoading:{loading:t.payload.loading,parent:t.payload.parent}})}}}),ft=mt.actions,pt=ft.addFeedItem,vt=ft.clearFeedItems,bt=ft.postLoading,gt=ft.replyLoading,At=mt.reducer,ht=n(470),Et=n(471),Ot=function(e,t){return e&&void 0!==e.blockNumber?t&&void 0!==t.blockNumber?t.blockNumber!==e.blockNumber?t.blockNumber>e.blockNumber?t:e:t.blockIndex!==e.blockIndex?t.blockIndex>e.blockIndex?t:e:t.batchIndex>e.batchIndex?t:e:e:t},Nt=Object(b.b)({name:"profiles",initialState:{profiles:{}},reducers:{upsertProfile:function(e,t){var n=t.payload.fromId,a=e.profiles[n],r=a?Object(v.a)(Object(v.a)({},a),t.payload):t.payload;return{profiles:Object(v.a)(Object(v.a)({},e.profiles),{},Object(ie.a)({},n,Ot(a,r)))}},removeProfile:function(e,t){var n=e.profiles,a=t.payload;n[a];return{profiles:Object(ht.a)(n,[a].map(Et.a))}}}}),It=Nt.actions,wt=It.upsertProfile,kt=(It.removeProfile,Nt.reducer);!function(e){e[e.FOLLOWING=0]="FOLLOWING",e[e.UNFOLLOWING=1]="UNFOLLOWING",e[e.UPDATING=2]="UPDATING"}(W||(W={}));var yt=Object(b.b)({name:"graphs",initialState:{following:{},followers:{}},reducers:{upsertGraph:function(e,t){var n=t.payload,a=n.follower,r=n.followee,o=n.unfollow,c=e.following[a]||{},i=e.followers[r]||{},l=Ot({status:o?W.UNFOLLOWING:W.FOLLOWING,blockNumber:t.payload.blockNumber,blockIndex:t.payload.blockIndex,batchIndex:t.payload.batchIndex},c[r]);return l===c[r]?e:{following:Object(v.a)(Object(v.a)({},e.following),{},Object(ie.a)({},a,Object(v.a)(Object(v.a)({},c),{},Object(ie.a)({},r,l)))),followers:Object(v.a)(Object(v.a)({},e.followers),{},Object(ie.a)({},r,Object(v.a)(Object(v.a)({},i),{},Object(ie.a)({},a,l))))}},updateRelationshipStatus:function(e,t){var n=t.payload,a=n.follower,r=n.followee,o=n.status,c=(e.following[a]||{})[a]||{status:W.UPDATING,blockNumber:-1,blockIndex:-1,batchNumber:-1},i=Object(v.a)(Object(v.a)({},c),{},{status:o});return{following:Object(v.a)(Object(v.a)({},e.following),{},Object(ie.a)({},a,Object(v.a)(Object(v.a)({},e.following[a]||{}),{},Object(ie.a)({},r,i)))),followers:Object(v.a)(Object(v.a)({},e.followers),{},Object(ie.a)({},r,Object(v.a)(Object(v.a)({},e.followers[r]||{}),{},Object(ie.a)({},a,i))))}}}}),jt=yt.actions,_t=jt.upsertGraph,St=jt.updateRelationshipStatus,xt=yt.reducer,Pt=n(72),Lt=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(vt()),e.abrupt("return",we(qt(t),Qt(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.content){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wt(t.content);case 4:return n=e.sent,e.next=7,je(t.fromId,"".concat("http://localhost:8080","/").concat(n,".json"),n);case 7:return a=e.sent,e.next=10,ye("".concat(n,".parquet"),a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.content&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wt(t.content);case 4:return a=e.sent,e.next=7,_e(t.fromId,n,"".concat("http://localhost:8080","/").concat(a,".json"),a);case 7:return r=e.sent,e.next=10,ye("".concat(a,".parquet"),r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt(n);case 2:return a=e.sent,e.next=5,Se(t,"".concat("http://localhost:8080","/").concat(a,".json"),a);case 5:return r=e.sent,e.next=8,ye("".concat(a,".parquet"),r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t,n);case 2:return a=e.sent,r=oe.a.announcements.serialize(a),e.next=6,ye(r,a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t,n);case 2:return a=e.sent,r=oe.a.announcements.serialize(a),e.next=6,ye(r,a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ft=function(e,t,n,a,r,o){return Object(pe.isActivityContentNoteType)(n)?Mt(e,t,n,a):Object(pe.isActivityContentProfileType)(n)?Dt(e,t,n,a,r,o):void 0},Mt=function(e,t,n,a){e(pt({fromId:t.fromId.toString(),blockNumber:a,hash:t.contentHash,published:n.published,uri:t.url,content:n,inReplyTo:t.announcementType===oe.a.announcements.AnnouncementType.Reply?t.inReplyTo:void 0}))},Dt=function(e,t,n,a,r,o){e(wt(Object(v.a)(Object(v.a)({},n),{},{fromId:t.fromId.toString(),blockNumber:a,blockIndex:r,batchIndex:o})))},Qt=function(e){return function(t){e(wt(Object(v.a)(Object(v.a)({},Object(pe.createProfile)()),{},{fromId:oe.a.identifiers.convertToDSNPUserId(t.dsnpUserURI).toString(),handle:t.handle,blockNumber:t.blockNumber,blockIndex:t.transactionIndex,batchIndex:0})))}},Vt=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a,r,o){var c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n.url);case 3:return c=e.sent,e.next=6,c.json();case 6:i=e.sent,Ft(t,n,i,a,r,o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),qt=function(e){return function(t){ke(t,(function(n,a){try{var r=n;r.announcementType===Ee.AnnouncementType.GraphChange?function(e,t,n,a,r){e(_t({follower:t.fromId.toString(),followee:t.objectId.toString(),unfollow:t.changeType===Ee.DSNPGraphChangeType.Unfollow,blockNumber:n,blockIndex:a,batchIndex:r}))}(e,r,t.blockNumber,t.transactionIndex,a++):function(e){var t=e.announcementType;return t===Ee.AnnouncementType.Profile||t===Ee.AnnouncementType.Broadcast||t===Ee.AnnouncementType.Reply}(r)&&Vt(e,r,t.blockNumber,t.transactionIndex,a++)}catch(o){console.log(o)}}))}},Wt=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Pt.keccak256)(JSON.stringify(t)),e.next=3,fetch("".concat("http://localhost:8080","/upload?filename=").concat(encodeURIComponent(n+".json")),{method:"POST",mode:"cors",body:JSON.stringify(t)});case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=function(e){var t=e.profile,n=e.isHoveringProfile,a=t.handle&&"@"+t.handle,o=t.name||a||t.fromId,c=t.name?a:void 0;return r.a.createElement("span",{className:"FromTitle__block"},r.a.createElement("span",{className:n?"FromTitle__primary--active":""},o),c&&r.a.createElement("span",{className:"FromLine__secondary"},c))},Kt=function(e){var t,n,a=e.onSuccess,o=e.onCancel,c=f(),i=r.a.useState(!1),s=Object(d.a)(i,2),m=s[0],b=s[1],g=r.a.useState([]),A=Object(d.a)(g,2),h=A[0],E=A[1],O=r.a.useState(""),N=Object(d.a)(O,2),I=N[0],w=N[1],k=r.a.useState(!1),y=Object(d.a)(k,2),j=y[0],_=y[1],S=p((function(e){return e.user.id})),x=p((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),P=S&&x[S]||Object(v.a)(Object(v.a)({},Object(pe.createProfile)()),{},{fromId:S||""}),L=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ge(I,h,S);case 4:return t=e.sent,e.next=7,Ct(t);case 7:c(bt({loading:!0,currentUserId:S})),b(!1),a();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(nt.a,{className:"NewPost",visible:!0,onCancel:o,width:"535px",centered:!0,title:"Create a post",footer:[r.a.createElement(Te.a,{spinning:m,key:1},r.a.createElement(rt.a,null,r.a.createElement(Re.a,{className:"NewPost__footerBtn",key:"post",type:"primary",disabled:!j||m,onClick:L},"Post")))]},r.a.createElement("div",{className:"NewPost__profileBlock"},r.a.createElement(ze,{icon:null===P||void 0===P||null===(t=P.icon)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.href,profileAddress:S,avatarSize:"small"}),r.a.createElement("h3",{className:"NewPost__profileBlockName"},r.a.createElement(Gt,{profile:P}))),r.a.createElement(Ve.a.TextArea,{className:"NewPost__textArea",placeholder:"Message",value:I||"",onChange:function(e){return function(e){m||(""!==e.target.value?_(!0):_(!1),w(e.target.value))}(e)},rows:6}),r.a.createElement(lt,{onNewPostImageUpload:E}))},Ht=n(161),Yt=n.n(Ht),zt=n(465),Jt=n.n(zt),Xt=n(464),Zt=n.n(Xt),$t=n(1012),en=n(1013);function tn(e){return"video"===e.type.toLowerCase()}var nn,an=function(e){var t=e.attachments;return r.a.createElement(Jt.a,{nextArrow:r.a.createElement($t.a,null),prevArrow:r.a.createElement(en.a,null),dots:!0},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"PostMedia__cover"},function(e){return"image"===e.type.toLowerCase()}(e)&&r.a.createElement("a",{href:e.url[0].href,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:e.name,className:"PostMedia__img",src:e.url[0].href})),(tn(e)||function(e){return"audio"===e.type.toLowerCase()}(e))&&r.a.createElement(Zt.a,{controls:!0,playsinline:!0,className:"PostMedia__img",url:e.url[0].href,width:670,height:tn(e)?400:55,muted:!0}))})))},rn=function(e){var t=e.published,n=e.postStyle;return r.a.createElement("p",{className:"RelativeTime ".concat(n?"RelativeTime--post":"")},function(e){var t,n=new Date(e),a=((new Date).getTime()-n.getTime())/1e3;return a<60?Math.floor(a)+"s \u2022":a<3600?Math.floor(a/60)+"m \u2022":a<=86400?Math.floor(a/3600)+"h \u2022":a>86400?"".concat((t=n.getMonth(),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][--t])," ").concat(n.getDate(),", ").concat(n.getFullYear()," \u2022"):void 0}(t))},on=n(467),cn=n.n(on),ln=n(302),un=n.n(ln),sn=n(1014),dn=n(1015),mn=n(466),fn=function(e){var t=e.hash,n=e.fromId,o=e.isReply,c=Object(a.useState)(!1),i=Object(d.a)(c,2),l=i[0],u=i[1],s=Object(a.useState)(!1),m=Object(d.a)(s,2),f=m[0],p=m[1],v=Object(mn.buildDSNPAnnouncementURI)(n,t),b=r.a.createElement(un.a,{onClick:function(){return p(!0)}},r.a.createElement(un.a.Item,{key:"valid",onClick:function(){u(!0),setTimeout((function(){u(!1)}),2e3)}},l?r.a.createElement("div",null,r.a.createElement(sn.a,null)," Copied!"):r.a.createElement("div",{className:"PostHashDropdown__menuHash",onClick:function(){return navigator.clipboard.writeText(v)}},"DSNP Announcement URI: ",v)));return r.a.createElement(cn.a,{className:o?"PostHashDropdown__replyBlock":"PostHashDropdown__block",overlay:b,visible:f,onVisibleChange:function(e){return p(e)},placement:"bottomRight"},r.a.createElement("button",{className:"PostHashDropdown__button",onClick:function(e){return e.preventDefault()}},r.a.createElement(dn.a,null)))},pn=function(e){var t,n,o=e.reply,c=p((function(e){return e.profiles.profiles})),i=Object(a.useState)(void 0),l=Object(d.a)(i,2),u=l[0],s=l[1];return Object(a.useEffect)((function(){s(c[o.fromId])}),[c,o]),r.a.createElement("div",{className:"Reply__block"},r.a.createElement(fn,{hash:o.hash,fromId:o.fromId,isReply:!0}),r.a.createElement(ze,{icon:null===u||void 0===u||null===(t=u.icon)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.href,profileAddress:o.fromId,avatarSize:"small"}),r.a.createElement("div",{className:"Reply__message"},r.a.createElement("div",{className:"Reply__name"},(null===u||void 0===u?void 0:u.name)||(null===u||void 0===u?void 0:u.fromId)),o.content.content))},vn=function(e){var t=e.parent,n=f(),o=p((function(e){return e.user.id})),c=r.a.useState(!1),i=Object(d.a)(c,2),s=i[0],m=i[1],v=Object(a.useState)(""),b=Object(d.a)(v,2),g=b[0],A=b[1],h=function(){var e=Object(u.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o){e.next=3;break}return e.abrupt("return");case 3:return m(!0),e.next=6,ge(g,[],o);case 6:return r=e.sent,e.next=9,Bt(r,t);case 9:n(gt({loading:!0,parent:t})),A(""),m(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"ReplyInput__newReplyBlock"},r.a.createElement(Ve.a.TextArea,{className:"ReplyInput__input",placeholder:"Reply...",value:g,onChange:function(e){s||A(e.target.value)},autoSize:!0,onPressEnter:function(e){return h(e)}}))},bn=function(){return r.a.createElement("div",{className:"BlankReply__block"},r.a.createElement(ze,{icon:void 0,profileAddress:void 0,avatarSize:"small"}),r.a.createElement("div",{className:"BlankReply__messageBlock"},r.a.createElement("div",{className:"BlankReply__name"}," "),r.a.createElement("div",{className:"BlankReply__message"}," ")))},gn=function(e){var t=e.parent,n=p((function(e){return e.feed.feedItems})).filter((function(e){var n;return"Note"===(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.type)&&(null===e||void 0===e?void 0:e.inReplyTo)===t})),a=p((function(e){return e.feed.isReplyLoading}));return r.a.createElement(r.a.Fragment,null,(t===(null===a||void 0===a?void 0:a.parent)||n.length>0)&&r.a.createElement("div",{className:"ReplyBlock__repliesList"},n.length>0&&r.a.createElement(r.a.Fragment,null,n.map((function(e,t){return r.a.createElement(pn,{reply:e,key:t})}))),t===(null===a||void 0===a?void 0:a.parent)&&r.a.createElement(bn,null)),r.a.createElement(vn,{parent:t}))},An=function(e){var t,n,o=e.feedItem,c=f(),i=o.content,l=i.attachment||[],u=Object(a.useState)(!1),s=Object(d.a)(u,2),m=s[0],v=s[1],b=p((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}}))[o.fromId]||{fromId:o.fromId};return r.a.createElement(Yt.a,{key:o.hash,className:"Post__block",bordered:!1},r.a.createElement("div",{onClick:function(){return c(ae(o.fromId))},onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},className:"Post__metaBlock"},r.a.createElement(Yt.a.Meta,{avatar:r.a.createElement(ze,{icon:null===(t=b.icon)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.href,profileAddress:o.fromId,avatarSize:"medium"}),title:r.a.createElement(Gt,{profile:b,isHoveringProfile:m}),description:i.published&&r.a.createElement(rn,{published:i.published,postStyle:!0})})),r.a.createElement(fn,{hash:o.hash,fromId:o.fromId}),r.a.createElement("div",{className:"Post__caption"},i.content),l&&r.a.createElement(an,{attachments:l}),r.a.createElement(gn,{parent:o.hash}))},hn=function(){return r.a.createElement(Yt.a,{className:"BlankPost__block",bordered:!1},r.a.createElement(Yt.a.Meta,{avatar:r.a.createElement(ze,{icon:void 0,profileAddress:void 0,avatarSize:"medium"}),title:r.a.createElement("div",{className:"BlankPost__title"}," "),description:r.a.createElement("div",{className:"BlankPost__description"}," ")}),r.a.createElement("div",{className:"BlankPost__contentLine1"}," "),r.a.createElement("div",{className:"BlankPost__contentLine2"}," "),r.a.createElement("div",{className:"BlankPost__contentLine3"}," "))};!function(e){e[e.MY_FEED=0]="MY_FEED",e[e.MY_POSTS=1]="MY_POSTS",e[e.DISCOVER=2]="DISCOVER",e[e.DISPLAY_ID_POSTS=3]="DISPLAY_ID_POSTS"}(nn||(nn={}));var En,On=function(e){var t=e.feedType,n=p((function(e){return e.user.id})),a=p((function(e){return e.user.displayId})),o=p((function(e){return n&&e.graphs.following[n]||{}})),c=p((function(e){return e.feed.feedItems})).filter((function(e){var t;return"Note"===(null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.type)&&void 0===(null===e||void 0===e?void 0:e.inReplyTo)})),i=p((function(e){return e.feed.isPostLoading.loading})),l=function(e){return e.sort((function(e,t){return t.blockNumber-e.blockNumber})),e}(c),u=[];return u=t===nn.MY_FEED?l.filter((function(e){var t;return e.fromId===n||(null===(t=o[e.fromId])||void 0===t?void 0:t.status)===W.FOLLOWING})):t===nn.MY_POSTS?l.filter((function(e){return n===(null===e||void 0===e?void 0:e.fromId)})):t===nn.DISPLAY_ID_POSTS?l.filter((function(e){return a===(null===e||void 0===e?void 0:e.fromId)})):l,r.a.createElement("div",{className:"PostList__block"},i&&r.a.createElement(hn,null),u.length>0?r.a.createElement(r.a.Fragment,null,u.map((function(e,t){return r.a.createElement(An,{key:t,feedItem:e})}))):"Empty Feed!")},Nn=n(1016);!function(e){e[e.MY_FEED=0]="MY_FEED",e[e.MY_POSTS=1]="MY_POSTS",e[e.DISCOVER=2]="DISCOVER",e[e.DISPLAY_ID_POSTS=3]="DISPLAY_ID_POSTS"}(En||(En={}));var In,wn=function(){var e=f(),t=p((function(e){return e.user.id})),n=p((function(e){return e.user.displayId})),o=p((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),c=n?o[n]:void 0,i=Object(a.useState)(!1),l=Object(d.a)(i,2),u=l[0],s=l[1],m=Object(a.useState)(En.DISCOVER),v=Object(d.a)(m,2),b=v[0],g=v[1],A=Object(a.useState)(!1),h=Object(d.a)(A,2),E=h[0],O=h[1],N=function(e){return b===e?"Feed__navigationItem Feed__navigationItem--active":"Feed__navigationItem"};return Object(a.useEffect)((function(){t&&n&&n!==t&&O(!0)}),[t,n]),Object(a.useEffect)((function(){E&&g(En.DISPLAY_ID_POSTS)}),[E,n]),r.a.createElement("div",{className:"Feed__block"},r.a.createElement("div",{className:"Feed__header"},r.a.createElement("nav",{className:"Feed__navigation"},E&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Feed__backArrow",onClick:function(){return t&&e(ae(t)),O(!1),void g(En.DISCOVER)}},r.a.createElement(Nn.a,null)),r.a.createElement("div",{className:N(En.DISPLAY_ID_POSTS),onClick:function(){return g(En.DISPLAY_ID_POSTS)}},(null===c||void 0===c?void 0:c.name)||(null===c||void 0===c?void 0:c.handle),"'s Posts"),r.a.createElement("div",{className:"Feed__navigationSpacer"})),r.a.createElement("div",{className:N(En.DISCOVER),onClick:function(){return g(En.DISCOVER)}},"Discover"),r.a.createElement("div",{className:"Feed__navigationSpacer"}),r.a.createElement("div",{className:N(En.MY_FEED),onClick:function(){return g(En.MY_FEED)}},"My Feed"),r.a.createElement("div",{className:"Feed__navigationSpacer"}),r.a.createElement("div",{className:N(En.MY_POSTS),onClick:function(){return g(En.MY_POSTS)}},"My Posts")),t&&r.a.createElement(Re.a,{className:"Feed__newPostButton",onClick:function(){return s(!0)}},"New Post"),u&&r.a.createElement(Kt,{onSuccess:function(){return s(!1)},onCancel:function(){return s(!1)}})),r.a.createElement(On,{feedType:b}))},kn=n(187),yn=n.n(kn),jn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ProfileBlock__loginHeaderText"}," Login Quick Start"),r.a.createElement("p",null,"To use the Example Client, you must log in with either MetaMask or Torus. Read the guides below to get started!"),r.a.createElement(yn.a,{defaultActiveKey:"1"},r.a.createElement(yn.a.TabPane,{tab:"MetaMask",key:"1"},r.a.createElement("div",{className:"ProfileBlock__loginTitleText"},"MetaMask Log In Guide"),I()?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You already have MetaMask installed! Just click the"," ",r.a.createElement("code",null,"Log In \u2192 MetaMask")," button."),r.a.createElement($e,{loginWalletOptions:E.METAMASK,isPrimary:!1})):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Before we can access the browser we need to install MetaMask to give us a cryptowallet. MetaMask is a browser extension Chrome or Firefox are recommended. Download them from your chosen browsers extension manager. Pin MetaMask to your extension bar."),r.a.createElement("p",null,"Once"," ",r.a.createElement("a",{href:"https://metamask.io/download.html",target:"__blank"},"installed correctly"),", setup MetaMask by following these steps:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Use an existing account do not create a new one."),r.a.createElement("li",null,"For account data use the following seed:"," ",r.a.createElement("code",null,"stove ankle number crucial clay heavy toilet entire bid betray cluster degree")),r.a.createElement("li",null,"Connect to a new Custom RPC.",r.a.createElement("ul",null,r.a.createElement("li",null,"Connect to a new Custom RPC."),r.a.createElement("li",null,"Name: ",r.a.createElement("code",null,"*determined by user")),r.a.createElement("li",null,"New RPC URL: ",r.a.createElement("code",null,"http://localhost:8545")),r.a.createElement("li",null,"ChainID: ",r.a.createElement("code",null,"1337")))),r.a.createElement("li",null,"Once setup, select/connect to that Custom RPC.")),r.a.createElement($e,{loginWalletOptions:E.METAMASK,isPrimary:!1}))),r.a.createElement(yn.a.TabPane,{tab:"Torus",key:"2"},r.a.createElement("div",{className:"ProfileBlock__loginTitleText"},"Torus Log In Guide"),r.a.createElement("p",null,"There is no setup required for Torus. Just click the"," ",r.a.createElement("code",null,"Log In \u2192 Torus")," button."),r.a.createElement($e,{loginWalletOptions:E.TORUS,isPrimary:!1}))))},_n=function(e){var t=e.userId,n=e.profile,a=e.following,o=f(),c=function(e){var t;return[W.FOLLOWING,W.UPDATING].includes(null===(t=a[e.fromId])||void 0===t?void 0:t.status)},i=function(e){var t;return(null===(t=a[e.fromId])||void 0===t?void 0:t.status)===W.UPDATING},s=function(e){return i(e)?"updating":c(e)?"Unfollow":"Follow"},d=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c(n)){e.next=5;break}return e.next=3,Tt(BigInt(t),BigInt(n.fromId));case 3:e.next=7;break;case 5:return e.next=7,Ut(BigInt(t),BigInt(n.fromId));case 7:o(St({follower:t,followee:n.fromId,status:W.UPDATING}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Re.a,{className:"GraphChangeButton",name:s(n),onClick:function(){return d(n)},disabled:i(n)},s(n),i(n)?r.a.createElement(Te.a,null):r.a.createElement("div",{className:"Follow"===s(n)?"GraphChangeButton__followIcon":"GraphChangeButton__unfollowIcon"},"\u2715"))};!function(e){e[e.CLOSED=0]="CLOSED",e[e.FOLLOWERS=1]="FOLLOWERS",e[e.FOLLOWING=2]="FOLLOWING"}(In||(In={}));var Sn,xn=function(e){var t=e.userId,n=e.listStatus,a=e.followedByDisplayUser,o=e.followingDisplayUser,c=p((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),i=p((function(e){return t&&e.graphs.following[t]||{}})),l=n===In.FOLLOWERS?o:n===In.FOLLOWING?a:{},u=Object.keys(l).map((function(e){return c[e]||Object(v.a)(Object(v.a)({},Object(pe.createProfile)({name:"Anonymous"})),{},{contentHash:"",url:"",announcementType:Ee.AnnouncementType.Profile,fromId:e,handle:"unknown",createdAt:(new Date).getTime()})})).filter((function(e){var t;return(null===(t=l[e.fromId])||void 0===t?void 0:t.status)!==W.UNFOLLOWING}));return r.a.createElement(r.a.Fragment,null,u.map((function(e){var n,a,o;return r.a.createElement("div",{className:"ConnectionsListProfiles__profile",key:e.fromId},r.a.createElement(ze,{icon:null===(n=c[e.fromId])||void 0===n||null===(a=n.icon)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.href,avatarSize:"small",profileAddress:e.fromId}),r.a.createElement("div",{className:"ConnectionsListProfiles__name"},e.name||e.fromId||"Anonymous"),r.a.createElement(_n,{userId:t,profile:e,following:i}))})))};!function(e){e[e.CLOSED=0]="CLOSED",e[e.FOLLOWERS=1]="FOLLOWERS",e[e.FOLLOWING=2]="FOLLOWING"}(Sn||(Sn={}));var Pn=function(){var e=p((function(e){return e.user})),t=e.id,n=e.displayId,o=p((function(e){return n&&e.graphs.following[n]||{}})),c=p((function(e){return n&&e.graphs.followers[n]||{}})),i=Object(a.useState)(Sn.CLOSED),l=Object(d.a)(i,2),u=l[0],s=l[1],m=function(e){s(u===e?Sn.CLOSED:e)},f=function(e){return u===e?"ConnectionsList__button ConnectionsList__button--active":"ConnectionsList__button"};return r.a.createElement("div",{className:"ConnectionsList__block"},r.a.createElement("div",{className:"ConnectionsList__buttonBlock"},r.a.createElement(Re.a,{className:f(Sn.FOLLOWERS),onClick:function(){return m(Sn.FOLLOWERS)}},r.a.createElement("div",{className:"ConnectionsList__buttonCount"},Object.keys(c).length),"Followers"),u===Sn.CLOSED&&r.a.createElement("div",{className:"ConnectionsList__buttonSeparator"}," "),r.a.createElement(Re.a,{className:f(Sn.FOLLOWING),onClick:function(){return m(Sn.FOLLOWING)}},r.a.createElement("div",{className:"ConnectionsList__buttonCount"},Object.keys(o).length),"Following")),t&&r.a.createElement(xn,{userId:t,listStatus:u,followedByDisplayUser:o,followingDisplayUser:c}))},Ln=function(){var e,t=p((function(e){return e.user.id})),n=p((function(e){return t&&e.graphs.following[t]||{}})),o=p((function(e){return e.user.displayId})),c=p((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),i=o?c[o]:void 0,s=null===i||void 0===i?void 0:i.handle,m=Object(a.useState)(),f=Object(d.a)(m,2),v=f[0],b=f[1],g=Object(a.useState)(),A=Object(d.a)(g,2),h=A[0],E=A[1],O=Object(a.useState)(!1),N=Object(d.a)(O,2),I=N[0],w=N[1],k=(null===i||void 0===i?void 0:i.name)||"Anonymous";Object(a.useEffect)((function(){w(!!(v&&v!==k||h&&h!==s))}),[v,h,k,s]);var y,j=Object(a.useState)(!1),_=Object(d.a)(j,2),S=_[0],x=_[1],P=function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!S),void 0!==t&&void 0!==v){e.next=3;break}return e.abrupt("return");case 3:return n=oe.a.activityContent.createProfile({name:v,icon:null===i||void 0===i?void 0:i.icon}),e.next=6,Rt(BigInt(t),n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ProfileBlock__personalInfoBlock"},r.a.createElement("div",{className:"ProfileBlock__avatarBlock"},r.a.createElement(ze,{icon:null===(e=((null===i||void 0===i?void 0:i.icon)||[])[0])||void 0===e?void 0:e.href,profileAddress:o,avatarSize:"large"}),t===o&&(S?r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{className:"ProfileBlock__editButton",onClick:function(){return P()},disabled:!I},"save"),r.a.createElement(Re.a,{className:"ProfileBlock__editButton",onClick:function(){return x(!S),b(void 0),void E(void 0)}},"cancel")):r.a.createElement(Re.a,{className:"ProfileBlock__editButton",onClick:function(){return x(!S)}},"edit")),t&&t!==o&&i&&r.a.createElement(_n,{userId:t,profile:i,following:n})),r.a.createElement("div",{className:"ProfileBlock__personalInfo"},r.a.createElement("label",{className:"ProfileBlock__personalInfoLabel"},"NAME"),r.a.createElement("input",{className:(y="name",S?"ProfileBlock__".concat(y," ProfileBlock__editing"):"ProfileBlock__".concat(y)),value:v||""===v?v:k,onChange:function(e){return b(e.target.value)},disabled:!S}),r.a.createElement("label",{className:"ProfileBlock__personalInfoLabel"},"HANDLE"),r.a.createElement("input",{className:"ProfileBlock__handle",value:h||""===h?h:s,onChange:function(e){return E(e.target.value)},disabled:!0}),r.a.createElement("label",{className:"ProfileBlock__personalInfoLabel"},"SOCIAL ADDRESS"),r.a.createElement("input",{className:"ProfileBlock__dsnpUserId",value:o||"Anonymous",disabled:!0}))),r.a.createElement(Pn,null))},Cn=function(){var e=p((function(e){return e.user.id})),t=p((function(e){return e.user.displayId}));return r.a.createElement("div",{className:"ProfileBlock__block"},e||t?r.a.createElement(Ln,null):r.a.createElement(jn,null))},Bn=function(){var e=f(),t=p((function(e){return e.user.walletType}));return Object(a.useEffect)((function(){var n;if(t&&t!==E.NONE)return Object(u.a)(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,G(t).reload();case 3:return Oe(t),a.next=6,e(Lt);case 6:n=a.sent,a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),a.t0.message.match(/login cancelled/i)?(e(ne(E.NONE)),z(E.NONE)):console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))(),function(){n&&Object.values(n).forEach((function(e){return e()}))}})),r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(et,null),r.a.createElement("main",{className:"App__content"},r.a.createElement(wn,null),r.a.createElement(Cn,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Rn=Object(b.a)({reducer:{user:re,profiles:kt,graphs:xt,feed:At}});c.a.render(r.a.createElement(m.a,{store:Rn},r.a.createElement(Bn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[476,1,2]]]);