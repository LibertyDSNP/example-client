{"version":3,"sources":["test/testhelpers.tsx","redux/hooks.ts","services/wallets/metamask/ethereum.ts","services/wallets/wallet.ts","services/wallets/metamask/metamask.ts","services/wallets/metamask/index.ts","services/wallets/torus/tweb3.ts","services/wallets/torus/torus.ts","services/wallets/torus/index.ts","components/ConnectionsListProfiles.tsx","services/session.ts","redux/slices/userSlice.ts","test/testAddresses.ts","test/testGraphs.ts","test/testProfiles.ts","services/fakesdk.ts","services/sdk.ts","redux/slices/graphSlice.ts","components/Login.tsx","components/Header.tsx","components/UserAvatar.tsx","images/Camera.svg","components/NewPostImageUpload.tsx","redux/slices/feedSlice.ts","utilities/activityPub.ts","services/Storage.ts","components/NewPost.tsx","components/PostMedia.tsx","components/RelativeTime.tsx","components/PostReply.tsx","components/Post.tsx","components/PostList.tsx","components/Feed.tsx","components/ConnectionsList.tsx","redux/slices/profileSlice.ts","components/ProfileBlock.tsx","App.tsx","serviceWorker.ts","redux/store.ts","index.tsx"],"names":["prefabFirstNames","prefabLastNames","randImage","useAppDispatch","useDispatch","useAppSelector","useSelector","ethereum","window","autoRefreshOnNetworkChange","WalletType","mmweb3","Web3","isInstalled","Boolean","isMetaMask","getWalletAddress","a","request","method","response","Error","result","metamaskWallet","icon","login","metamask","logout","reload","getAddress","getWeb3","torusSettings","popupStyling","theme","isDark","colors","torusBrand1","torusGray2","logoDark","logoLight","web3Torus","web3","torus","initialized","setweb3","provider","web3Inst","this","setProvider","initialize","buildEnv","Torus","init","process","network","host","chainId","Number","networkName","showTorusButton","whiteLabel","verifier","undefined","clearInit","verifiers","enableTorus","isInitialized","getUserInfo","userInfo","getPublicAddress","verifierId","isExtended","typedVerifier","getTypedVerifier","walletAddressHolder","address","untypedVerifier","find","includes","torusWallet","cleanUp","then","sessionStorage","setItem","ListStatus","wallet","walletType","NONE","noWallet","TORUS","METAMASK","loadSession","sessionData","getItem","console","log","JSON","parse","e","initialState","profile","session","userSlice","createSlice","name","reducers","userLogin","state","action","payload","userLogout","userUpdateProfile","actions","generateSocialAddress","generateHexString","getPrefabWalletAddress","index","replace","toString","getPrefabSocialAddress","generateRandomGraph","socialAddress","size","following","Array","map","followers","generateProfile","walletAddress","handle","url","actor","discoverable","type","summary","id","createSocialIdentityfromWalletAddress","getSocialIdentityfromWalletAddress","getGraphFromSocialIdentity","getProfileFromSocialIdentity","getSocialIdentity","sdk","getGraph","graph","getProfile","graphSlice","graphs","upsertGraph","newGraph","oldGraph","splice","indexOf","push","removeGraph","follow","userAddress","followAddress","targetAddress","unfollow","unfollowAddress","Login","React","useState","loading","startLoading","alertError","setAlertError","popoverVisible","setPopoverVisible","dispatch","user","stringify","className","message","banner","closable","onClose","count","WalletOutlined","style","color","offset","src","alt","aria-label","onClick","removeItem","placement","trigger","visible","onVisibleChange","content","Header","avatarSizeOptions","Map","UserAvatar","profileAddress","avatarSize","identiconURL","blockies","seed","toDataURL","get","NewPostImageUpload","onNewPostImageUpload","previewLoading","setPreviewLoading","urlErrorMsg","setUrlErrorMsg","newUri","setNewUri","uriList","setUriList","hasValidPostURI","match","image","key","onLoad","CloseCircleTwoTone","toBeDeletedIndex","deletedImageArray","deleteImage","twoToneColor","spinning","cameraIcon","placeholder","value","onChange","target","newUriList","feedSlice","feed","addFeedItem","newFeedItem","addFeedItems","newFeedItems","noteToActivityPub","note","activityPub","item","mediaType","extension","path","extname","pubType","test","createNote","activityPubNote","newPostFeedItem","fromAddress","blockNumber","timestamp","Math","floor","random","NewPost","onSuccess","onCancel","errorMsg","setErrorMsg","saving","setSaving","postMessage","setPostMessage","isValidPost","setIsValidPost","useEffect","length","createPost","width","centered","title","footer","disabled","TextArea","rows","PostMedia","attachment","nextArrow","RightOutlined","prevArrow","LeftOutlined","dots","toLowerCase","href","rel","controls","playsinline","height","muted","RelativeTime","postStyle","currentTime","Date","postTime","secondsPast","getTime","day","getDate","month","getMonth","year","getFullYear","getRelativeTime","PostReply","filter","post","replyValue","setReplyValue","createReply","event","preventDefault","autoSize","onPressEnter","Post","postItems","slice","reverse","noteContent","bordered","Meta","avatar","description","PostList","Feed","isModalOpen","setIsModalOpen","ConnectionsListProfiles","listStatus","connectionsList","notFollowingList","userRelationship","userProfile","isNotFollowing","notFollowingUser","FOLLOWERS","FOLLOWING","profileSlice","profiles","upsertProfile","newProfile","oldProfile","removeProfile","ConnectionsList","cachedProfiles","CLOSED","selectedListTitle","setSelectedListTitle","selectedList","setSelectedList","followingList","setFollowingList","followersList","setFollowersList","setNotFollowingList","getConnectionProfile","stableDispatch","getUserConnectionsList","Promise","all","stableGetConnectionProfile","followingProfiles","followersProfiles","useCallback","stableGetUserConnectionsList","userRelationships","followingProfile","getNotFollowingProfiles","handleClick","listTitle","getClassName","ProfileBlock","isEditing","setIsEditing","newName","setNewName","newHandle","setNewHandle","didEditProfile","setDidEditProfile","profileName","sectionName","App","location","hostname","store","configureStore","reducer","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b57be9d3.chunk.js","sourcesContent":["import React from \"react\";\nimport { Store } from \"@reduxjs/toolkit\";\nimport configureStore from \"redux-mock-store\";\nimport { ComponentType, ReactElement } from \"react\";\nimport { act } from \"react-dom/test-utils\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\n/**\n * Using this to spy on promise functions in Jest\n * this will immediately flush the message queue\n * so all pending promises will be executed\n */\nexport const flushPromises = (): Promise<any> => {\n  return new Promise((resolve) => setImmediate(resolve));\n};\n\n/**\n * Force promises in tests to resolve and runs all timers\n * **NOTE:** This function enables fake timers `jest.useFakeTimers()`\n */\nexport const forcePromiseResolve = async (): Promise<void> => {\n  jest.useFakeTimers();\n  await act(async () => {\n    new Promise((resolve) => setTimeout(resolve, 0));\n    jest.runAllTimers();\n  });\n};\n\nexport const componentWithStore = (\n  Component: ComponentType,\n  store: Store,\n  props = {}\n): ReactElement => {\n  return (\n    <Provider store={store}>\n      <Router>\n        <Component {...props} />\n      </Router>\n    </Provider>\n  );\n};\n\nexport const createMockStore = (initialState: unknown): any => {\n  return configureStore()(initialState);\n};\n\n/**\n * Mock some key functions to fix the test not\n * being a web3 enabled browser. Using this\n * means you may have to mock some return values\n */\nexport const mockWeb3EnabledBrowser = (): void => {\n  jest.mock(\"../services/ethereum.ts\", () => jest.fn());\n  jest.mock(\"../services/ens.js\", () => jest.fn());\n  jest.mock(\"../services/env.ts\", () => jest.fn());\n};\n\n/**\n * Set the mock return values for getParams. Used for\n * mocking URL params\n * @param params the params to mock. **example:** `{ key: value }`\n */\nexport const mockReactRouterParams = (mockParams: unknown): void => {\n  jest.mock(\"react-router\", () => ({\n    useParams: jest.fn().mockReturnValue(mockParams),\n  }));\n};\n\n/**\n * Array of prefabricated first names for use in creating profiles\n */\nexport const prefabFirstNames = [\n  \"Tom\",\n  \"Bob\",\n  \"Scott\",\n  \"Duncan\",\n  \"Frank\",\n  \"Elvis\",\n  \"Josh\",\n  \"Kevin\",\n  \"Cathy\",\n  \"Karen\",\n  \"Mary\",\n  \"Beth\",\n  \"Sheril\",\n  \"Mackenzie\",\n  \"Katie\",\n  \"Sarah\",\n  \"Elizabeth\",\n  \"Maria\",\n];\n\n/**\n * Array of prefabricated last names for use in creating profiles\n */\nexport const prefabLastNames = [\n  \"Smith\",\n  \"Peterson\",\n  \"Sullivan\",\n  \"Myers\",\n  \"Cooper\",\n  \"Williams\",\n  \"Carter\",\n  \"Young\",\n  \"Morgan\",\n  \"King\",\n  \"Ward\",\n  \"Foster\",\n  \"Evans\",\n  \"Davis\",\n  \"Turner\",\n  \"Sanchez\",\n];\n\n/**\n * Generates a different picture everytime\n */\nexport const randImage = \"https://picsum.photos/200/300\";\n\n/**\n * An array of prefabricated messages for use in testing content posts.\n */\n//I apologize, I had a lot of fun writing these.\nexport const prefabMessages = [\n  \"Hello World\",\n  \"My favorite cartoon is Spongebob\",\n  \"2020 is terrible\",\n  \"Go sports team! Dunk the goal!\",\n  \"I am going to the mall tomorrow\",\n  \"Leave me alone I am the grumpiest person\",\n  \"This is the way\",\n  \"Who's on first, what's on Second, I don't know is on third\",\n  \"Beam me up Scotty.\",\n  \"The pizza shop down the street is giving out free donuts. Kinda sketchy\",\n  \"My birthday is comming up in a little under a month!\",\n  \"I want everyone to know that dogs > cats\",\n  \"Hot take: Hotdogs aren't a sandwich, they're a taco\",\n  // Uncle Iroh quotes\n  \"It is time for you to look inward, and start asking \" +\n    \"yourself the big questions. Who are you? And what do \" +\n    \"you want?\",\n  \"Sometimes life is like this dark tunnel. You canâ€™t always \" +\n    \"see the light at the end of the tunnel, but if you just \" +\n    \"keep moving, you will come to a better place.\",\n  // The Tradegdy of Dark Plagueis the Wise\n  \"Did you ever hear the tragedy of Darth Plagueis the Wise? \" +\n    \"I thought not. It's not a story the Jedi would tell you. \" +\n    \"It's a Sith legend. Darth Plagueis was a Dark Lord of the \" +\n    \"Sith, so powerful and so wise he could use the Force to \" +\n    \"influence the midichlorians to create life... He had such \" +\n    \"a knowledge of the dark side that he could even keep the \" +\n    \"ones he cared about from dying. The dark side of the Force \" +\n    \"is a pathway to many abilities some consider to be unnatural. \" +\n    \"He became so powerful... the only thing he was afraid of was \" +\n    \"losing his power, which eventually, of course, he did. \" +\n    \"Unfortunately, he taught his apprentice everything he knew, \" +\n    \"then his apprentice killed him in his sleep. It's ironic he \" +\n    \"could save others from death, but not himself.\",\n];\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport type { RootState, AppDispatch } from \"./store\";\n\n// Typed hooks to use instead of useDispatch and useSelector\n\n// Disable explicit module boundaries so that the dispatch types can all be correctly inferred.\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { JsonRpcPayload, JsonRpcResponse } from \"web3-core-helpers\";\n\ninterface ConnectInfo {\n  chainId: string;\n}\n\ninterface ProviderRpcError extends Error {\n  message: string;\n  code: number;\n  data?: unknown;\n}\n\ninterface ProviderMessage {\n  type: string;\n  data: unknown;\n}\n\ninterface RequestArguments {\n  method: string;\n  params?: unknown[] | Record<string, unknown>;\n  from?: string;\n}\n\ninterface Callback<ResultType> {\n  (error: Error): void;\n  (error: null, val: ResultType): void;\n}\n\nexport interface EthereumProvider {\n  isMetaMask?: boolean;\n  autoRefreshOnNetworkChange: boolean;\n  chainId: number;\n\n  isConnected(): boolean;\n\n  on(event: \"accountsChanged\", handler: (addresses: string[]) => void): void;\n  on(event: \"chainChanged\", handler: (chainId: string) => void): void;\n  on(event: \"connect\", handler: (connectInfo: ConnectInfo) => void): void;\n  on(event: \"disconnect\", handler: (error: ProviderRpcError) => void): void;\n  on(event: \"message\", handler: (message: ProviderMessage) => void): void;\n\n  request(request: RequestArguments): Promise<any>;\n\n  sendAsync(\n    payload: JsonRpcPayload,\n    callback: (error: Error | null, result?: JsonRpcResponse) => void\n  ): void;\n  send(payload: JsonRpcPayload, callback: Callback<JsonRpcResponse>): any;\n}\n// eip-1193\nconst ethereum = (window as any).ethereum as\n  | EthereumProvider\n  | null\n  | undefined;\n\nif (ethereum) (ethereum as EthereumProvider).autoRefreshOnNetworkChange = false;\n\nexport default ethereum;\n","import { HexString } from \"../../utilities/types\";\nimport metamaskWallet from \"./metamask\";\nimport torusWallet from \"./torus\";\nimport Web3 from \"web3\";\n\n// HOW TO ADD A WALLET\n// Add the new wallet to the enum and switch/case\n// Both places are marked with a comment\n// Then, create a Folder for the new wallet with it's implementation\n// code. create an index.ts file in the folder that implements\n// the Wallet interface below. Look at torus or metamask for\n// an example.\n\nexport enum WalletType {\n  NONE = \"NONE\",\n  TORUS = \"TORUS\",\n  METAMASK = \"METAMASK\",\n  // Add new WalletTypes Here\n}\n\nexport const wallet = (walletType: WalletType): Wallet => {\n  switch (walletType) {\n    case WalletType.NONE:\n      return noWallet;\n    case WalletType.TORUS:\n      return torusWallet;\n    case WalletType.METAMASK:\n      return metamaskWallet;\n    // Add new WalletTypes Here\n  }\n};\n\nexport interface Wallet {\n  icon: string;\n  login: () => Promise<HexString>;\n  logout: () => void;\n  reload: () => void;\n  getAddress: () => Promise<HexString>;\n  getWeb3: () => Web3;\n}\n\nconst noWallet: Wallet = {\n  icon:\n    \"https://icons.veryicon.com/png/o/business/business-style-icon/wallet-62.png\",\n  login: async () => await \"\",\n  logout: () => {\n    return;\n  },\n  reload: () => {\n    return;\n  },\n  getAddress: async () => await \"\",\n  getWeb3: () => new Web3(),\n};\n","import Web3 from \"web3\";\nimport { HexString } from \"../../../utilities/types\";\nimport ethereum, { EthereumProvider } from \"./ethereum\";\n\nconst mmweb3 = new Web3(ethereum as EthereumProvider);\n\nexport const getWeb3 = (): Web3 => {\n  if (!isInstalled()) throw new Error(\"Metamask not installed\");\n  return mmweb3;\n};\n\nexport const isInstalled = (): boolean => {\n  return Boolean(ethereum?.isMetaMask);\n};\n\nexport const getWalletAddress = async (): Promise<HexString> => {\n  const response = await ethereum?.request({ method: \"eth_requestAccounts\" });\n  if (!response) throw new Error(\"Metamask not installed\");\n  return response.result ? response.result[0] : response[0];\n};\n","import * as metamask from \"./metamask\";\nimport { Wallet } from \"../wallet\";\n\nconst metamaskWallet: Wallet = {\n  icon:\n    \"https://cdn.iconscout.com/icon/free/png-512/metamask-2728406-2261817.png\",\n  login: async () => {\n    if (!metamask.isInstalled()) throw new Error(\"Metamask not installed\");\n    return metamask.getWalletAddress();\n  },\n  logout: () => {\n    return;\n  },\n  reload: () => {\n    return;\n  },\n  getAddress: async () => {\n    return metamask.getWalletAddress();\n  },\n  getWeb3: () => {\n    return metamask.getWeb3();\n  },\n};\n\nexport default metamaskWallet;\n","import Web3 from \"web3\";\nimport Torus from \"@toruslabs/torus-embed\";\nimport { provider } from \"web3-core\";\n\nexport type BuildEnvironment =\n  | \"production\"\n  | \"development\"\n  | \"binance\"\n  | \"testing\"\n  | \"lrc\"\n  | \"beta\"\n  | undefined;\n\n// interface TorusCtorArgs in torus-embeded types\nconst torusSettings = {\n  //buttonPosition?: 'top-left' | 'top-right' | 'bottom-right' | 'bottom-left'\n  //modalZIndex?: number\n  //apiKey?: string\n};\n\n// interface WhiteLabelParams in torus-embeded types\n// example data structure here: https://github.com/torusresearch/torus-embed/blob/master/examples/vue-app/src/data.js\nconst popupStyling = {\n  theme: {\n    isDark: false,\n    colors: {\n      torusBrand1: \"#000000\",\n      torusGray2: \"#FBF7F3\",\n    },\n  },\n  logoDark: \"https://avatars.githubusercontent.com/u/78103996?s=200&v=4\",\n  logoLight: \"https://avatars.githubusercontent.com/u/78103996?s=200&v=4\",\n  //topupHide?: boolean\n  //featuredBillboardHide?: boolean\n  //disclaimerHide?: boolean\n  //tncLink?: LocaleLinks<string>\n  //privacyPolicy?: LocaleLinks<string>\n  //contactLink?: LocaleLinks<string>\n  //customTranslations?: LocaleLinks<any>\n};\n\n// interface TorusParams in trous-embeded types\nconst initSettings = (buildEnv: BuildEnvironment) => {\n  return {\n    buildEnv:\n      (process.env.REACT_APP_TORUS_BUILD_ENV as BuildEnvironment) ||\n      buildEnv ||\n      \"production\",\n    network: {\n      host: process.env.REACT_APP_CHAIN_HOST || \"http://localhost:7545\",\n      chainId: Number(process.env.REACT_APP_CHAIN_ID) || 1337,\n      networkName: process.env.REACT_APP_CHAIN_NAME || \"Localchain\",\n    },\n    showTorusButton: true,\n    whiteLabel: popupStyling,\n  };\n};\n\nconst web3Torus = {\n  web3: new Web3(),\n  torus: null as Torus | null,\n  initialized: false,\n  setweb3: function (provider: provider): void {\n    const web3Inst = new Web3(provider);\n    web3Torus.web3 = web3Inst;\n    this.web3.setProvider(provider);\n  },\n  initialize: async function (buildEnv: BuildEnvironment): Promise<void> {\n    const torus = new Torus(torusSettings);\n    await torus.init(initSettings(buildEnv));\n    this.initialized = true;\n    try {\n      await torus.login({ verifier: undefined });\n      web3Torus.setweb3(torus.provider);\n      web3Torus.torus = torus;\n    } catch (error) {\n      torus.clearInit();\n      this.initialized = false;\n      throw new Error(\"Login Cancelled\");\n    }\n  },\n};\n\nexport default web3Torus;\n","import Web3 from \"web3\";\nimport { HexString } from \"../../../utilities/types\";\nimport web3Torus, { BuildEnvironment } from \"./tweb3\";\n\n// Torus doesn't give us access to their internal verifier types\n// They also don't enforce their own verifier system consistently\n// This means we need to create our own and update it.\n// This verifiers array is our list of approved verifiers based\n// off their internal list. That list can be found here:\n// https://github.com/torusresearch/torus-embed/blob/master/types/embed.d.ts\nconst verifiers = [\"google\", \"reddit\", \"discord\"] as const;\ntype VerifierTypes = typeof verifiers[number];\ntype AddressType = undefined | string | { address: string };\n\ninterface UserInfo {\n  email: string;\n  name: string;\n  profileImage: string;\n  verifier: string;\n  verifierId: string;\n}\n\nexport const enableTorus = async (\n  buildEnv?: BuildEnvironment\n): Promise<void> => {\n  await web3Torus.initialize(buildEnv || \"production\");\n};\n\nexport const isInitialized = (): boolean => {\n  return web3Torus.initialized;\n};\n\nexport const getUserInfo = async (): Promise<UserInfo> => {\n  const userInfo = await web3Torus.torus?.getUserInfo(\n    \"This site is requesting your information\"\n  );\n  if (!userInfo) throw new Error(\"Unable to find user's info\");\n  return userInfo;\n};\n\nexport const logout = (): void => {\n  web3Torus.torus?.cleanUp().then(() => {\n    sessionStorage.setItem(\"pageUsingTorus\", \"false\");\n  });\n};\n\nexport const getPublicAddress = async (\n  verifier: VerifierTypes,\n  verifierId: string\n): Promise<AddressType> => {\n  return await web3Torus.torus?.getPublicAddress({\n    verifier,\n    verifierId,\n    isExtended: true,\n  });\n};\n\nexport const getWalletAddress = async (): Promise<HexString> => {\n  const { verifier, verifierId } = await getUserInfo();\n  const typedVerifier: VerifierTypes = getTypedVerifier(verifier);\n  const walletAddressHolder = await getPublicAddress(typedVerifier, verifierId);\n  if (!walletAddressHolder) throw new Error(\"No Wallet Address found for User\");\n  if (typeof walletAddressHolder === \"string\") return walletAddressHolder;\n  return walletAddressHolder.address;\n};\n\nconst getTypedVerifier = (untypedVerifier: string): VerifierTypes => {\n  const typedVerifier = verifiers.find((verifier) => {\n    return untypedVerifier.includes(verifier);\n  });\n\n  if (!typedVerifier) throw new Error(\"Unknown Verifier\");\n  return typedVerifier as VerifierTypes;\n};\n\nexport const getWeb3 = (): Web3 => {\n  return web3Torus.web3;\n};\n","import * as torus from \"./torus\";\nimport { Wallet } from \"../wallet\";\n\nconst torusWallet: Wallet = {\n  icon:\n    \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw0NDQ0NDQ0NCA0NDQ0HCAcHBw8IDQcNFREWFhURHxkYHTQgGCYxJxUWITQtJSkrNy4uGh8zRDMuNyg5LysBCgoKDQ0NFQ0PFS0dHR0rKy0rKysvLysrKysrKzctListKystKy0tLS0tKy0rKysrKy0rMis3LSstLS0tLSswLf/AABEIAOEA4QMBEQACEQEDEQH/xAAbAAEBAAMBAQEAAAAAAAAAAAABAAUGBwIEA//EAD8QAQABAwECCAkLAwUAAAAAAAABAgMEEQY1BQcSIVF0srMTFjFxg5Sh0dIXIjNBUlRhc4GRwUJikhQjMjRT/8QAGgEBAQEBAQEBAAAAAAAAAAAAAAEEBQYDAv/EAC4RAQABAgMDDAMBAQAAAAAAAAABAgMEBTMRUXESFBUhMjRBYYGRsfAxUqEiQv/aAAwDAQACEQMRAD8A+t7B59aqgmQCoACgmQAglRKAAAlUlCPKiAKBUQCVAAECiB5AKiUAgBl5Y2gSAVAAUEyAEUyoFAAECiEEqAAoFRSAlQAJECgkAIJUCiECiBlZYmhKgAKCQCikQKAAIFRKAAAUCoAUgFAIFAAECgUQgUAAGXY33ABQagBBMqBRABAohAoFAAUQjzIJQSIFBMgFQAlBqqAAAlRagy0sT7gBqoFRag8qIAuxAJtCgOoQBQSoBBqCUEiBQAFQAFEqAAAUQgBlmNoCgEAAEoJBsVvYvOrppqicfSqIrp1yKonSY1+y51Wa2YnZslrjBXJjb1PXiPn9OP6xV8KdLWd0nMbnkPEbP6cf1ir4Tpaxuk5jc8l4jZ/Tj+s1fCdLWN0nMbnkPEbP6cf1mr4Tpezuk5jc8l4jZ/Tj+s1fCvS9jdKcxueQ8Rc/px/WKvhOl7G6TmNzyHiLn9OP6zX8J0vY3ScxueS8RM/px/Wa/hXpexuk5jc8mE4Y4Lu4V3wN7kTXyIvf7Nc108mZnpj8G3DYii/Ry6Wa7am3VyZfC0vkI1mYiNZmeaIiNZmUmqIjbP4IiZ6oZzC2R4QvxFUWfAUzz01ZdyLOv6eX2MFzNMPROzbt4NNGDu1eGx+2RsRwjRGsUWr+n9FjJiap/wAoh+KM2w8zsnbD9VYG9HWwGVjXLNU0XbddiuOebd2iaJ06XRt3aLkbaJ2stVFVM7Ko2PwmX0h+EoJAKIQKDUGWYmgKgmQCiAKjzV5JJ/A7Tg/Q2vyrfZh4u525eio7MP3fjrfpaHWLQ6xaHWLQ6xaHWLQ6xA5hxj/9+Or2+1U9PlGhPFxsfqtXiJmYiImqZmKaaaY1mqeh1KqoiOVLDHX+HUtk9l7eHRTdu0xcyqoiqqurSqMX+2Pe8rjcdXfq5MTspdvDYWLccqY/02XRzmtaKrH8M8EWM21Nu/RFXNPg71MaV2J6Yl9rGIuWK4qol8rtmi7HJmHIeGuDLmFkV2LnPNPzrd2I0i/RPkqh6/C4mm/biuHBvWptVcmXwNL4hQCKVACBlWN9wAUQBUAPNXkkn8EO1YP0Nr8q32YeLudueL0NHZh9D8v2gQIECBAgcv4x94R1e32qnpso0J4uLj9R8+weHF7PomqOVTZoqy9JjWOVGkU+2rX9H6zW5NFjZH/XU/OCoiq7t3OsPLu4gQCUGk8Z+DFWPZyIj51q5/p6p6aK499Mfu7OS3dl2bfhMfDnZjRE0RXuc3enhxwIlBIBQAyzE+4UUgFQAJlUeaiVj8u14P0Nr8q32YeKuduri9FR2YfQ/L9IECBAgQIHLuMjeEdXtdqt6bKNCeLi4/VPFveinOqpnm8JYrpp/GYqpn3pnNMzZid0rl87Lkx5OoPNOygQIGpcZl6KcCKJ8ty/bppjzRNUz7Pa6mUUTOJ27olhzCrZa2eblkvVuGlBIBQSogZVifdAFhAAlUACrySDteB9Da/Lt9mHirnbq4vRUdmH0Py/aBAgQIECBy7jI3hHV7XaqemyfQni4mP1Wu8HZteNftX7f/K1VFyImdIrj66f1jWP1dHEWYvW6rc+LLbuTRVFcOzcGcIWsuzReszyqKo10+uifrpnol4y9aqtVzRVHXD0Nu5TXTFUPth830QPNUxHPPNERrMzzREGxJnY5Ltxw5Tm5MU2p5VjHiq1ariea9XOnKr83NER5vxeqyvBzZt8qr8y4eNv8uvZH4hrbrMLyKlBKgEWoMsxNAVAAlUAIHmpR0vF2zwKbduma7mtNFFFURjVTzxEPMV5biJqmdn9dinGWoiNsv18d+Dvt3PVa06MxO7+v1z21vXjvwd9u56rWdGYjd/TntrePHjg7/0ueq1nReJ3HPbW9m+Dc63lWaL9mZqt18rkVV0TRM6VTTPNP4xLHdtVW65oq/MNFFcV0xVD6nzftAgQOW8ZG8I6va7Vb02T6E8XEx+q1WXXYWQ4F4byMGua7Ffzavpce5863e88fyy4nB279P8AqOE7n3s4iq1P+W8YPGFi1RHh7V3Gq/qm3EZFE/z7HDu5Pepn/ExLo0ZhRPa6n739v8CmNaPD35+qijH5Gv61TD8U5RiZnZOyH7nH2ojq2y1DaHbHJzYm3RH+jsTzV2bdfKrvx0TV/Ee118Jldu1PKqnlT/GC/jK7kcmnqhrbqQxSFAqCVAABAyzG+4AaqgBKAAqABKogeZIHWNhN2Y3p++reSzHvNfp8O7g9Gn74tgYmpAgUg5Zxk7wjq9rtVvT5PoTxcTMNX2aq67CACgESgAKgUAARaqAGWYmgSqAEoACgEEgFAqAHWdhN2Y3p++reRzHvNfp8O7g9Gn74tgYmpAgEg5bxlbwjq9rtVvT5NoTxcXMNVqcuuwJQKiASAVAoAQglQAgZVjfcAgCgVAAlQAFRAAdZ2D3Xjen76t5HMe81+nw7uD0afvi2BiakCBSkjlfGVvCOr2u1W9Tk2hPFxMw1fZqjrsAUQAAqBQSAVBIIAoAZZifcaglAqAAAUGqoNQUqg1B1rYPdeN6fvq3kMx7zX6fDvYPRp++LYGJqQIFIOVcZe8I6ta7Vb1GTaE8XEzDV9mqOwwAEAVAoJAKikAAlQCAGWYmhSqBQSAAKKVQAJASqCRHWtgt143p+/reRzHvVfp8O/g9Gn74thYWpAgQOVcZe8I6ta7Vb1GTd3ni4mYavs1N2GBAJUCoACoJBAJlQCBRAyzE+4UAAAoFRANQCoFAI63sFuvG9P39byGY96r9Ph38Ho0/fFsLC1IECBynjM3jHVrXarepyXu88XDzDV9mqOwwgBKoAAglRAFAIFAqIGWYmgSAUADVUAIAqBQCBYHXNgd143nv9/W8fmXeq/T4h38Fo0/fFsLC1IECkHKeMzeMdWtdqt6nJe7zxcPMNX2am7DCF2IAAglRAJWAKgAKgkEDLSxtAAAFQAFRAFAIFBIOu7A7rxvPf7+t4/Mu9V+nw7+C0afvi2FhakCBJI5Rxm7xjq1rtVPVZLoTxcPMdX2ak7LApkAIJUQPMyoFRAFQAJBAyzG0AAqAAqIAoNRAoAAOu7AbrxvPf7+t4/Mu9V+nxDv4LRp++LYmFqQIEDlHGbvGOrWu1W9Vknd54uHmOr7NSdhgAg1UACZUCogCoAAJQAy0sTQFQagFRSAAKgUACVEDruwG68bz3+/reOzLvVfp8Q72C0afvi2Jha0CBA5Pxm7xjq1rtVvVZLoTxcLMdX2ak7DAJUACVAqIAoBAAUQDUGWY33ACVRag8qIQKAAohBKjr2wG6sXz3+/reNzLvVfp8Q9BgtGn74thYWpagtUFMg5Pxnbxjq1rtVvV5LoTxcLMdX2ak7LABAuxQqCQSgECiAAFQAyzE0BUQBQCBQKIAIFBINm4F21yMPHt41Fmzcpt8vk3Ls18qrlVzVPkn+5ycRlNF65Nyapja22sbVboiiI/D7flHy/u+P/lX73x6Ct/vL6dJV/rA+UjL+74/73PedBW/3k6Sr/WF8pGX93x/3r950Fb/AHlOkq/1gTxkZf3fH/ev3r0Fb/eTpK5+sNb2g4YuZ9+L9yii1VFumxyLOumkTM68/ndTB4SnDUciJ2sl+/N6rlTDGNb4CTYgUUyAUAgUAIQKAEDKsT7hQKIQKBQAhAoAEqCREoACoAACVQKIAqAAoAQglQAFQAyzE0BRCBQaqAEIFAAUQgUABUABQaqgBSAVBIBQAhBqoAEyoFRAyrE0IQKDUAohAoACgBKgACBQKCRAoBEoACgBCCVAA1UCogGoMsxvuAEgFAIpUACVBqAlUQAQKBQTIgUAiUAAAohBKgASoFRABADLSxtAAKIQSoAEqAAqIBKoACoJAKARKAAAUQjyogEqgUQAQAgZaWNoACVBIglRAFAqCQEAJVEAlUeQUqAQSoAQPKiECiAKgUAARSAB/9k=\",\n  login: async () => {\n    await torus.enableTorus();\n    return await torus.getWalletAddress();\n  },\n  logout: () => {\n    if (torus.isInitialized()) {\n      torus.logout();\n    }\n  },\n  reload: async () => {\n    if (torus.isInitialized()) return;\n    await torus.enableTorus();\n  },\n  getAddress: async () => {\n    return await torus.getWalletAddress();\n  },\n  getWeb3: () => {\n    return torus.getWeb3();\n  },\n};\n\nexport default torusWallet;\n","import React from \"react\";\nimport UserAvatar from \"./UserAvatar\";\nimport { Button } from \"antd\";\nimport { Profile } from \"../utilities/types\";\n\nenum ListStatus {\n  CLOSED,\n  FOLLOWERS,\n  FOLLOWING,\n}\n\ninterface ConnectionsListProfilesProps {\n  listStatus: ListStatus;\n  connectionsList: Profile[];\n  notFollowingList: Profile[];\n}\n\nconst ConnectionsListProfiles = ({\n  listStatus,\n  connectionsList,\n  notFollowingList,\n}: ConnectionsListProfilesProps): JSX.Element => {\n  const userRelationship = (userProfile: Profile) => {\n    const isNotFollowing = notFollowingList.filter(\n      (notFollowingUser) => userProfile === notFollowingUser\n    );\n    if (listStatus === ListStatus.FOLLOWERS && isNotFollowing.length !== 0) {\n      return \"Follow\";\n    }\n    return \"Unfollow\";\n  };\n\n  return (\n    <>\n      {connectionsList.map((userProfile) => (\n        <div\n          className=\"ConnectionsListProfiles__profile\"\n          key={userProfile.socialAddress}\n        >\n          <UserAvatar\n            avatarSize=\"small\"\n            profileAddress={userProfile.socialAddress}\n          />\n          <div className=\"ConnectionsListProfiles__name\">\n            {userProfile.name || userProfile.handle || \"Anonymous\"}\n          </div>\n          <Button\n            className=\"ConnectionsListProfiles__button\"\n            name={userRelationship(userProfile)}\n          >\n            {userRelationship(userProfile)}\n            <div\n              className={\n                listStatus === ListStatus.FOLLOWING\n                  ? \"ConnectionsListProfiles__buttonFollowIcon\"\n                  : \"ConnectionsListProfiles__buttonUnfollowIcon\"\n              }\n            >\n              &#10005;\n            </div>\n          </Button>\n        </div>\n      ))}\n    </>\n  );\n};\nexport default ConnectionsListProfiles;\n","import { Profile } from \"../utilities/types\";\nimport { WalletType } from \"./wallets/wallet\";\n\ninterface SessionData {\n  profile: Profile;\n  walletType: WalletType;\n}\n\nexport const clearSession = (): void => {\n  sessionStorage.removeItem(\"session\");\n};\n\nexport const loadSession = (): SessionData | null => {\n  try {\n    const sessionData = sessionStorage.getItem(\"session\");\n    console.log(\"ðŸš€ | file: session.ts | line 14 | sessionData\", sessionData);\n    return sessionData ? JSON.parse(sessionData) : null;\n  } catch (e) {\n    return null;\n  }\n};\n\nexport const saveSession = (sessionData: SessionData): SessionData => {\n  sessionStorage.setItem(\"session\", JSON.stringify(sessionData));\n  return sessionData;\n};\n\nexport const hasSession = (): boolean => !!sessionStorage.getItem(\"session\");\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport * as wallet from \"../../services/wallets/wallet\";\nimport * as session from \"../../services/session\";\nimport { Profile } from \"../../utilities/types\";\n\ninterface UserState {\n  profile?: Profile;\n  walletType: wallet.WalletType;\n}\n\nconst initialState: UserState = {\n  profile: session.hasSession() ? session.loadSession()?.profile : undefined,\n  walletType: session.loadSession()?.walletType ?? wallet.WalletType.NONE,\n};\n\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    userLogin: (state, action: PayloadAction<UserState>) => {\n      state.profile = action.payload.profile;\n      state.walletType = action.payload.walletType;\n      return state;\n    },\n    userLogout: (state) => {\n      state.profile = undefined;\n      state.walletType = wallet.WalletType.NONE;\n      return state;\n    },\n    userUpdateProfile: (state, action: PayloadAction<Profile>) => {\n      state.profile = action.payload;\n      return state;\n    },\n  },\n});\nexport const { userLogin, userLogout, userUpdateProfile } = userSlice.actions;\nexport default userSlice.reducer;\n","import { HexString } from \"../utilities/types\";\nimport { generateHexString } from \"@dsnp/test-generators\";\n\n/**\n * Generate a wallet address\n */\nexport const generateWalletAddress = (): HexString => {\n  return generateHexString(40);\n};\n\n/**\n * Generate a social identity address\n */\nexport const generateSocialAddress = (): HexString => {\n  return generateHexString(40);\n};\n\n/**\n * Get a prefabricated wallet address compatible with other prefab data\n * Prefab wallet addres is `0xCODE0000`\n */\nexport const getPrefabWalletAddress = (index: number): HexString => {\n  const regex = /0/gi;\n  const address = \"0x\" + \"CODE0000\".replace(regex, index.toString());\n  return address;\n};\n\n/**\n * Get a prefabricated social identity address compatible with other prefab data\n * Prefab social identity addres is `0xCODE0000`\n */\nexport const getPrefabSocialAddress = (index: number): HexString => {\n  const regex = /0/gi;\n  const address = \"0x\" + \"1DCODE0000\".replace(regex, index.toString());\n  return address;\n};\n","import { Graph, HexString, SocialGraph } from \"../utilities/types\";\nimport { generateSocialAddress, getPrefabSocialAddress } from \"./testAddresses\";\n\nexport const generateRandomGraph = (\n  socialAddress: HexString,\n  size: number = 4\n): Graph => {\n  const following = [...Array(size)].map(() => generateSocialAddress());\n  const followers = [...Array(size)].map(() => generateSocialAddress());\n\n  return {\n    socialAddress,\n    following,\n    followers,\n  };\n};\n\n/**\n * Generate a completely randomized social graph\n * @param size The size of the social graph, `default: 4`\n */\nexport const generateRandomSocialGraph = (\n  socialGraphSize: number = 4,\n  graphSize: number = 4\n): SocialGraph => {\n  // Generate addresses\n  const socialGraph = [];\n  for (let i = 0; i < socialGraphSize; i++) {\n    const address = generateSocialAddress();\n    const graph = generateRandomGraph(address, graphSize);\n    socialGraph.push(graph);\n  }\n\n  return socialGraph;\n};\n\nconst adr0 = getPrefabSocialAddress(0);\nconst adr1 = getPrefabSocialAddress(1);\nconst adr2 = getPrefabSocialAddress(2);\nconst adr3 = getPrefabSocialAddress(3);\nconst adr4 = getPrefabSocialAddress(4);\nconst adr5 = getPrefabSocialAddress(5);\nconst adr6 = getPrefabSocialAddress(6);\n/**\n * Returns a constant, prefabricated social graph\n * Prefabs are meant to work with other prefab components\n */\n\nexport const getPreFabSocialGraph = (): SocialGraph => {\n  const socialGraph = [\n    {\n      socialAddress: adr0,\n      following: [adr1, adr6],\n      followers: [adr1, adr2],\n    },\n    {\n      socialAddress: adr1,\n      following: [adr0, adr6],\n      followers: [adr0, adr2],\n    },\n    {\n      socialAddress: adr2,\n      following: [adr0, adr1, adr3, adr4, adr5, adr6],\n      followers: [],\n    },\n    {\n      socialAddress: adr3,\n      following: [adr6],\n      followers: [adr2],\n    },\n    {\n      socialAddress: adr4,\n      following: [adr6, adr5],\n      followers: [adr2],\n    },\n    {\n      socialAddress: adr5,\n      following: [adr6],\n      followers: [adr2, adr4],\n    },\n    {\n      socialAddress: adr6,\n      following: [],\n      followers: [adr0, adr1, adr2, adr3, adr4, adr5],\n    },\n  ];\n\n  return socialGraph;\n};\n/**\n * Returns an empty social graph meant to work with prefabs\n */\nexport const getEmptySocialGraph = (): SocialGraph => {\n  const socialGraph = [\n    { socialAddress: adr0, following: [], followers: [] },\n    { socialAddress: adr1, following: [], followers: [] },\n    { socialAddress: adr2, following: [], followers: [] },\n    { socialAddress: adr3, following: [], followers: [] },\n    { socialAddress: adr4, following: [], followers: [] },\n    { socialAddress: adr5, following: [], followers: [] },\n    { socialAddress: adr6, following: [], followers: [] },\n  ];\n\n  return socialGraph;\n};\n","import { randInt } from \"@dsnp/test-generators\";\nimport { Profile, HexString } from \"../utilities/types\";\nimport {\n  generateSocialAddress,\n  generateWalletAddress,\n  getPrefabSocialAddress,\n  getPrefabWalletAddress,\n} from \"./testAddresses\";\nimport { prefabFirstNames, prefabLastNames, randImage } from \"./testhelpers\";\n\n/**\n * Generate a complete Profile\n * @param address the address to use with the profile\n * @param name the name for the profile\n * @param handle the username for the profile\n * @param icon the image/icon to use for the profile\n */\nexport const generateProfile = (\n  walletAddress: HexString,\n  socialAddress: HexString,\n  name?: string,\n  handle?: string,\n  icon?: string\n): Profile => {\n  return {\n    \"@context\": \"https://www.w3.org/ns/activitystreams\",\n    name: name || \"\",\n    handle: handle || \"\",\n    icon: { url: icon || \"\" },\n    walletAddress,\n    socialAddress,\n    actor: socialAddress,\n    discoverable: true,\n    type: \"Person\",\n    summary: \"\",\n    url: \"\",\n    id: \"http://localhost:3003/api/announce/\" + socialAddress,\n  };\n};\n\n/**\n * Generate a random Profile using some prefab\n * names and a generated social address\n */\nexport const generateRandomProfile = (): Profile => {\n  const walletAddress = generateWalletAddress();\n  const socialAddress = generateSocialAddress();\n  const firstName = prefabFirstNames[randInt(prefabFirstNames.length)];\n  const lastName = prefabLastNames[randInt(prefabLastNames.length)];\n  const handle =\n    firstName.substring(0, 3) + lastName.substring(0, 3).toLocaleLowerCase();\n  const icon = randImage;\n  return generateProfile(\n    walletAddress,\n    socialAddress,\n    firstName + \" \" + lastName,\n    handle,\n    icon\n  );\n};\n\n/**\n * Get one of 7 prefabricated profiles meant\n * to work with other prefab components\n * @param index The index of the profile to grab. `Accepted values: 0-6`\n */\nexport const getPrefabProfile = (index: number): Profile => {\n  return preFabProfiles[index];\n};\n\n/**\n * An array of prefabricated profiles meants to\n * work with other prefab components\n */\nexport const preFabProfiles = [\n  generateProfile(\n    getPrefabWalletAddress(0),\n    getPrefabSocialAddress(0),\n    \"Monday January\",\n    \"0Monday0\",\n    \"https://image.shutterstock.com/image-vector/monday-time-sparkle-shine-word-600w-731826949.jpg\"\n  ),\n  generateProfile(\n    getPrefabWalletAddress(1),\n    getPrefabSocialAddress(1),\n    \"Tuesday February\",\n    \"1Tuesday1\",\n    \"https://image.shutterstock.com/image-vector/traditional-taco-tuesday-neon-light-600w-1193206603.jpg\"\n  ),\n  generateProfile(\n    getPrefabWalletAddress(2),\n    getPrefabSocialAddress(2),\n    \"Wednesday March\",\n    \"2Wednesday2\",\n    \"https://image.shutterstock.com/image-vector/wednesday-pop-art-illustration-vector-600w-219333010.jpg\"\n  ),\n  generateProfile(\n    getPrefabWalletAddress(3),\n    getPrefabSocialAddress(3),\n    \"Thursday April\",\n    \"3Thursday3\",\n    \"https://image.shutterstock.com/image-vector/throwback-thursday-brush-lettering-vector-600w-467925458.jpg\"\n  ),\n  generateProfile(\n    getPrefabWalletAddress(4),\n    getPrefabSocialAddress(4),\n    \"Friday May\",\n    \"4Friday4\",\n    \"https://image.shutterstock.com/image-vector/friday-loading-concept-vector-illustration-600w-1160548075.jpg\"\n  ),\n  generateProfile(\n    getPrefabWalletAddress(5),\n    getPrefabSocialAddress(5),\n    \"Saturday June\",\n    \"5Saturday5\",\n    \"https://image.shutterstock.com/image-vector/hello-saturday-typographic-design-vector-600w-394210252.jpg\"\n  ),\n  generateProfile(\n    getPrefabWalletAddress(6),\n    getPrefabSocialAddress(6),\n    \"Sunday July\",\n    \"6Sunday6\",\n    \"https://image.shutterstock.com/image-vector/sunday-funday-hand-written-lettering-600w-1420085606.jpg\"\n  ),\n];\n\nexport const getPrefabProfileByAddress = (\n  address: HexString\n): Profile | null => {\n  for (let i = 0; i < preFabProfiles.length; i++) {\n    const prefabProfile = preFabProfiles[i];\n    if (prefabProfile.socialAddress === address) {\n      return prefabProfile;\n    }\n  }\n  return null;\n};\n","import { generateRandomGraph } from \"../test/testGraphs\";\nimport { generateProfile } from \"../test/testProfiles\";\nimport { Graph, HexString, Profile } from \"../utilities/types\";\n\nexport const createSocialIdentityfromWalletAddress = async (\n  walletAddress: HexString\n): Promise<HexString> => {\n  return walletAddress;\n};\n\nexport const getSocialIdentityfromWalletAddress = async (\n  walletAddress: HexString\n): Promise<HexString> => {\n  return walletAddress;\n};\n\nexport const getGraphFromSocialIdentity = async (\n  socialAddress: HexString\n): Promise<Graph | null> => {\n  return generateRandomGraph(socialAddress);\n};\n\nexport const getProfileFromSocialIdentity = async (\n  socialAddress: HexString\n): Promise<Profile | null> => {\n  return generateProfile(socialAddress, socialAddress);\n};\n","import { Graph, HexString, Profile } from \"../utilities/types\";\nimport * as sdk from \"./fakesdk\";\n\nexport const getSocialIdentity = async (\n  walletAddress: HexString\n): Promise<HexString> => {\n  let socialAddress: HexString = await sdk.getSocialIdentityfromWalletAddress(\n    walletAddress\n  );\n  if (!socialAddress) {\n    socialAddress = await sdk.createSocialIdentityfromWalletAddress(\n      walletAddress\n    );\n  }\n  return socialAddress;\n};\nexport const getGraph = async (socialAddress: HexString): Promise<Graph> => {\n  const graph = await sdk.getGraphFromSocialIdentity(socialAddress);\n  if (!graph) throw new Error(\"Invalid Social Identity Address\");\n  return graph;\n};\n\nexport const getProfile = async (\n  socialAddress: HexString\n): Promise<Profile> => {\n  const profile = await sdk.getProfileFromSocialIdentity(socialAddress);\n  if (!profile) throw new Error(\"Invalid Social Identity Address\");\n  return profile;\n};\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { HexString, Graph } from \"../../utilities/types\";\n\ninterface graphState {\n  graphs: Graph[];\n}\n\nconst initialState: graphState = {\n  graphs: [],\n};\n\ninterface AddressHolder {\n  userAddress: HexString;\n  targetAddress: HexString;\n}\n\nexport const graphSlice = createSlice({\n  name: \"graphs\",\n  initialState,\n  reducers: {\n    upsertGraph: (state, action: PayloadAction<Graph>) => {\n      const newGraph = action.payload;\n      const oldGraph = state.graphs.find(\n        (graph) => graph.socialAddress === newGraph.socialAddress\n      );\n      if (oldGraph) state.graphs.splice(state.graphs.indexOf(oldGraph), 1);\n      state.graphs.push(newGraph);\n      return state;\n    },\n    removeGraph: (state, action: PayloadAction<HexString>) => {\n      const oldGraph = state.graphs.find(\n        (graph) => graph.socialAddress === action.payload\n      );\n      if (oldGraph) state.graphs.splice(state.graphs.indexOf(oldGraph), 1);\n      return state;\n    },\n    follow: (state, action: PayloadAction<AddressHolder>) => {\n      const socialAddress = action.payload.userAddress;\n      const followAddress = action.payload.targetAddress;\n      state.graphs\n        .find((graph) => graph.socialAddress === socialAddress)\n        ?.following.push(followAddress);\n      state.graphs\n        .find((graph) => graph.socialAddress === followAddress)\n        ?.followers.push(socialAddress);\n      return state;\n    },\n    unfollow: (state, action: PayloadAction<AddressHolder>) => {\n      const socialAddress = action.payload.userAddress;\n      const unfollowAddress = action.payload.targetAddress;\n      const following = state.graphs.find(\n        (graph) => graph.socialAddress === socialAddress\n      )?.following;\n      const followers = state.graphs.find(\n        (graph) => graph.socialAddress === unfollowAddress\n      )?.followers;\n      following?.splice(following.indexOf(unfollowAddress));\n      followers?.splice(followers.indexOf(socialAddress));\n      return state;\n    },\n  },\n});\nexport const {\n  upsertGraph,\n  removeGraph,\n  follow,\n  unfollow,\n} = graphSlice.actions;\nexport default graphSlice.reducer;\n","import React from \"react\";\nimport { Alert, Badge, Button, Popover, Spin } from \"antd\";\nimport { WalletOutlined } from \"@ant-design/icons\";\nimport { useAppDispatch, useAppSelector } from \"../redux/hooks\";\nimport { userLogin, userLogout } from \"../redux/slices/userSlice\";\nimport * as sdk from \"../services/sdk\";\nimport * as wallet from \"../services/wallets/wallet\";\nimport * as session from \"../services/session\";\n\nimport { upsertGraph } from \"../redux/slices/graphSlice\";\n\nconst Login = (): JSX.Element => {\n  const [loading, startLoading] = React.useState<boolean>(false);\n  const [alertError, setAlertError] = React.useState<string>(\"\");\n  const [popoverVisible, setPopoverVisible] = React.useState<boolean>(false);\n\n  const dispatch = useAppDispatch();\n  const profile = useAppSelector((state) => state.user.profile);\n  const walletType = useAppSelector((state) => state.user.walletType);\n\n  const login = async (walletType: wallet.WalletType) => {\n    if (loading) return;\n    startLoading(true);\n    try {\n      const walletAddress = await wallet.wallet(walletType).login();\n      const socialAddress = await sdk.getSocialIdentity(walletAddress);\n      const graph = await sdk.getGraph(socialAddress);\n      const profile = await sdk.getProfile(socialAddress);\n      dispatch(userLogin({ profile, walletType }));\n      dispatch(upsertGraph(graph));\n      session.saveSession({ profile, walletType });\n      startLoading(false);\n    } catch (error) {\n      setAlertError(error.toString());\n    }\n    startLoading(false);\n    setPopoverVisible(false);\n  };\n\n  const logout = () => {\n    session.clearSession();\n    if (walletType !== wallet.WalletType.NONE)\n      wallet.wallet(walletType).logout();\n    dispatch(userLogout());\n  };\n\n  const handleVisibleChange = (visible: boolean) => {\n    setPopoverVisible(visible);\n  };\n\n  return (\n    <div className=\"Login__block\">\n      {alertError && (\n        <Alert\n          className=\"Login__alert\"\n          type=\"error\"\n          message={alertError}\n          banner\n          closable={true}\n          onClose={() => setAlertError(\"\")}\n        />\n      )}\n      {!profile ? (\n        <Popover\n          placement=\"bottomRight\"\n          trigger=\"click\"\n          visible={popoverVisible}\n          onVisibleChange={handleVisibleChange}\n          content={\n            <div className=\"Login__loginOptions\">\n              <Button\n                className=\"Login__loginTorus\"\n                onClick={() => login(wallet.WalletType.TORUS)}\n              >\n                Torus\n              </Button>\n              <Button\n                className=\"Login__loginMetamask\"\n                onClick={() => login(wallet.WalletType.METAMASK)}\n              >\n                MetaMask\n              </Button>\n            </div>\n          }\n        >\n          <Button className=\"Login__loginButton\" aria-label=\"Login\">\n            Log In\n            {loading && <Spin className=\"Login__spinner\" size=\"small\" />}\n          </Button>\n        </Popover>\n      ) : (\n        <>\n          <Badge\n            count={<WalletOutlined style={{ color: \"#52C41A\" }} />}\n            offset={[-48, 8]}\n          >\n            <img\n              className=\"Login__walletIcon\"\n              src={wallet.wallet(walletType).icon}\n              alt=\"Wallet Symbol\"\n            ></img>\n          </Badge>\n\n          <Button\n            className=\"Login__logOutButton\"\n            aria-label=\"Logout\"\n            onClick={logout}\n          >\n            Log Out\n          </Button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport Login from \"./Login\";\n\nconst Header = (): JSX.Element => {\n  return (\n    <div className=\"Header__block\">\n      <h1 className=\"Header__title\">Example Client</h1>\n      <Login />\n    </div>\n  );\n};\nexport default Header;\n","import React from \"react\";\nimport { Avatar } from \"antd\";\nimport { HexString } from \"../utilities/types\";\nimport * as blockies from \"blockies-ts\";\n\nconst avatarSizeOptions = new Map([\n  [\"small\", 32],\n  [\"medium\", 50],\n  [\"large\", 100],\n]);\n\ninterface UserAvatarProps {\n  profileAddress: HexString | undefined;\n  avatarSize: string;\n}\n\nconst UserAvatar = ({\n  profileAddress,\n  avatarSize,\n}: UserAvatarProps): JSX.Element => {\n  const identiconURL =\n    profileAddress && blockies.create({ seed: profileAddress }).toDataURL();\n  return (\n    <Avatar\n      alt={profileAddress || \"anonymous\"}\n      src={identiconURL}\n      size={avatarSizeOptions.get(avatarSize)}\n    />\n  );\n};\n\nexport default UserAvatar;\n","export default __webpack_public_path__ + \"static/media/Camera.a7abe56b.svg\";","import { Alert, Input, Spin } from \"antd\";\nimport { CloseCircleTwoTone } from \"@ant-design/icons\";\nimport React from \"react\";\nimport cameraIcon from \"../images/Camera.svg\";\nimport { HexString } from \"../utilities/types\";\nimport { Button } from \"antd\";\n\ninterface NewPostImageUploadProps {\n  onNewPostImageUpload: (uris: string[]) => void;\n}\n\nconst NewPostImageUpload = ({\n  onNewPostImageUpload,\n}: NewPostImageUploadProps): JSX.Element => {\n  const [previewLoading, setPreviewLoading] = React.useState<boolean>(false);\n  const [urlErrorMsg, setUrlErrorMsg] = React.useState<string | null>(null);\n  const [newUri, setNewUri] = React.useState<string>(\"\");\n  const [uriList, setUriList] = React.useState<string[]>([]);\n  const hasValidPostURI = newUri && newUri.match(/.+\\..+\\//);\n\n  const newContentItem = (value: HexString) => {\n    setNewUri(value);\n    setUrlErrorMsg(null);\n  };\n\n  const addContentToList = () => {\n    if (hasValidPostURI) {\n      const newUriList = [...uriList, newUri];\n      setUriList(newUriList);\n      onNewPostImageUpload(newUriList);\n      setNewUri(\"\");\n    } else {\n      setUrlErrorMsg(\"Invalid URL.\");\n    }\n  };\n\n  const deleteImage = (toBeDeletedIndex: number) => {\n    const deletedImageArray = [...uriList];\n    deletedImageArray.splice(toBeDeletedIndex, 1);\n    setUriList(deletedImageArray);\n    onNewPostImageUpload(deletedImageArray);\n  };\n  return (\n    <>\n      <div className=\"NewPostImageUpload__cover\">\n        {uriList &&\n          uriList.map((image, index) => {\n            return (\n              <div className=\"NewPostImageUpload__imageBlock\" key={index}>\n                <img\n                  alt=\"\"\n                  className=\"NewPostImageUpload__image\"\n                  src={image}\n                  onLoad={() => setPreviewLoading(false)}\n                />\n                <CloseCircleTwoTone\n                  className=\"NewPostImageUpload__imageDelete\"\n                  onClick={() => deleteImage(index)}\n                  twoToneColor=\"#9e9e9e\"\n                />\n              </div>\n            );\n          })}\n        {newUri && (\n          <Spin\n            className=\"NewPostImageUpload__spinner\"\n            spinning={previewLoading}\n          />\n        )}\n      </div>\n      <div className=\"NewPostImageUpload__urlInputBlock\">\n        <img\n          className=\"NewPostImageUpload__icon\"\n          src={cameraIcon}\n          alt=\"camera\"\n        />\n        <Input\n          className=\"NewPostImageUpload__urlInput\"\n          placeholder=\"Image URL\"\n          value={newUri || \"\"}\n          onChange={(e) => {\n            setPreviewLoading(true);\n            newContentItem(e.target.value);\n          }}\n        />\n        <Button\n          className=\"NewPostImageUpload__urlInputBtn\"\n          onClick={addContentToList}\n        >\n          Add\n        </Button>\n      </div>\n      {urlErrorMsg && (\n        <Alert\n          className=\"NewPostImageUpload__alert\"\n          type=\"error\"\n          message={urlErrorMsg}\n        />\n      )}\n    </>\n  );\n};\nexport default NewPostImageUpload;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { FeedItem } from \"../../utilities/types\";\n\ninterface feedState {\n  feed: FeedItem[];\n}\n\nconst initialState: feedState = {\n  feed: [],\n};\n\nexport const feedSlice = createSlice({\n  name: \"feed\",\n  initialState,\n  reducers: {\n    addFeedItem: (state, action: PayloadAction<FeedItem>) => {\n      const newFeedItem = action.payload;\n      return {\n        ...state,\n        feed: [...state.feed, newFeedItem],\n      };\n    },\n    addFeedItems: (state, action: PayloadAction<FeedItem[]>) => {\n      const newFeedItems = action.payload;\n      return {\n        ...state,\n        feed: [...state.feed, ...newFeedItems],\n      };\n    },\n  },\n});\nexport const { addFeedItem, addFeedItems } = feedSlice.actions;\nexport default feedSlice.reducer;\n","import {\n  ActivityPub,\n  ActivityPubAttachment,\n  PubType,\n} from \"./activityPubTypes\";\nimport { HexString } from \"./types\";\nimport path from \"path\";\n\nexport const noteToActivityPub = (\n  actor: HexString,\n  note: string,\n  uriList: string[]\n): ActivityPub => {\n  const activityPub: ActivityPub = {\n    actor,\n    \"@context\": \"https://www.w3.org/ns/activitystreams\",\n    type: \"Note\",\n    content: note,\n  };\n  if (uriList) {\n    if (typeof uriList === \"string\") {\n      uriList = [uriList];\n    }\n    activityPub[\"attachment\"] = uriList.map(\n      (item): ActivityPubAttachment => {\n        const extension = path.extname(item).replace(\".\", \"\");\n        let mediaType;\n        let pubType: PubType = \"Image\";\n        const supportedVideoDomains = /youtu.be|youtube.com|vimeo.com/;\n        if (supportedVideoDomains.test(item)) {\n          pubType = \"Video\";\n          mediaType = \"text/html\";\n        } else {\n          switch (extension) {\n            case \"mp4\":\n              pubType = \"Video\";\n              mediaType = \"video/mp4\";\n              break;\n            case \"wmv\":\n              pubType = \"Video\";\n              mediaType = \"video/x-ms-wmv\";\n              break;\n            case \"mov\":\n              pubType = \"Video\";\n              mediaType = \"video/quicktime\";\n              break;\n            default:\n              mediaType = `image/${extension}`;\n          }\n        }\n        return { type: pubType, mediaType: mediaType, url: item };\n      }\n    );\n  }\n  return activityPub;\n};\n","import { noteToActivityPub } from \"../utilities/activityPub\";\nimport { FeedItem, HexString } from \"../utilities/types\";\nimport { ActivityPub } from \"../utilities/activityPubTypes\";\n\nexport const createNote = async (\n  actor: HexString,\n  note: string,\n  uriList: string[]\n): Promise<FeedItem> => {\n  // send content to api\n  const activityPubNote: ActivityPub = noteToActivityPub(actor, note, uriList);\n  //mock api.createAnnouncement return value\n  const newPostFeedItem: FeedItem = {\n    fromAddress: actor,\n    content: activityPubNote,\n    blockNumber: 0x123,\n    timestamp: Math.floor(Math.random() * 999999),\n  };\n  return newPostFeedItem;\n};\n","import React, { useEffect } from \"react\";\nimport { Alert, Button, Space, Spin, Modal, Input } from \"antd\";\nimport { useAppDispatch, useAppSelector } from \"../redux/hooks\";\nimport UserAvatar from \"./UserAvatar\";\nimport NewPostImageUpload from \"./NewPostImageUpload\";\nimport { addFeedItem } from \"../redux/slices/feedSlice\";\nimport { FeedItem } from \"../utilities/types\";\nimport { createNote } from \"../services/Storage\";\n\ninterface NewPostProps {\n  onSuccess: () => void;\n  onCancel: () => void;\n}\n\nconst NewPost = ({ onSuccess, onCancel }: NewPostProps): JSX.Element => {\n  const dispatch = useAppDispatch();\n  const [errorMsg, setErrorMsg] = React.useState<string | null>(null);\n  const [saving, setSaving] = React.useState<boolean>(false);\n  const [uriList, setUriList] = React.useState<string[]>([]);\n  const [postMessage, setPostMessage] = React.useState<string>(\"\");\n  const [isValidPost, setIsValidPost] = React.useState<boolean>(false);\n\n  const profile = useAppSelector((state) => state.user.profile);\n\n  useEffect(() => {\n    if (postMessage.length > 0 || uriList.length > 0) {\n      setIsValidPost(true);\n    } else setIsValidPost(false);\n  }, [postMessage, uriList]);\n\n  const success = () => {\n    setSaving(false);\n    setErrorMsg(null);\n    onSuccess();\n  };\n\n  const createPost = async () => {\n    //needs to store in batch file here\n    if (!profile) return;\n    const newPostFeedItem: FeedItem = await createNote(\n      profile.socialAddress,\n      postMessage,\n      uriList\n    );\n    dispatch(addFeedItem(newPostFeedItem));\n    success();\n  };\n\n  return (\n    <Modal\n      className=\"NewPost\"\n      visible={true}\n      onCancel={onCancel}\n      width=\"535px\"\n      centered={true}\n      title={\"Create a post\"}\n      footer={[\n        <Spin spinning={saving} key={1}>\n          <Space>\n            <Button\n              className=\"NewPost__footerBtn\"\n              key=\"post\"\n              type=\"primary\"\n              disabled={!isValidPost || saving}\n              onClick={createPost}\n            >\n              Post\n            </Button>\n          </Space>\n        </Spin>,\n      ]}\n    >\n      <div className=\"NewPost__profileBlock\">\n        <UserAvatar\n          profileAddress={profile?.socialAddress}\n          avatarSize={\"small\"}\n        />\n        <h3 className=\"NewPost__profileBlockName\">\n          {profile?.name || profile?.handle || \"Anonymous\"}\n        </h3>\n      </div>\n      <Input.TextArea\n        className=\"NewPost__textArea\"\n        placeholder=\"Message\"\n        value={postMessage || \"\"}\n        onChange={(e) => {\n          if (saving) return;\n          setErrorMsg(null);\n          setPostMessage(e.target.value);\n        }}\n        rows={6}\n      />\n      {errorMsg && (\n        <Alert className=\"NewPost__alert\" type=\"error\" message={errorMsg} />\n      )}\n      <NewPostImageUpload onNewPostImageUpload={setUriList} />\n    </Modal>\n  );\n};\n\nexport default NewPost;\n","import React from \"react\";\nimport ReactPlayer from \"react-player\";\nimport { Carousel } from \"antd\";\nimport { RightOutlined, LeftOutlined } from \"@ant-design/icons\";\nimport { ActivityPubAttachment } from \"../utilities/activityPubTypes\";\n\ninterface PostMediaProps {\n  attachment: ActivityPubAttachment[] | undefined;\n}\n\nconst PostMedia = ({ attachment }: PostMediaProps): JSX.Element => {\n  const getPostMediaItems = () => {\n    return attachment?.map(\n      (\n        item: { type: string; mediaType: string; url: string },\n        index: number\n      ) => (\n        <div key={index} className=\"PostMedia__cover\">\n          {item.type.toLowerCase() === \"image\" && (\n            <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">\n              <img alt=\"\" className=\"PostMedia__img\" src={item.url} />\n            </a>\n          )}\n          {item.type.toLowerCase() === \"video\" && (\n            <ReactPlayer\n              controls\n              playsinline\n              className=\"PostMedia__img\"\n              url={item.url}\n              width={535}\n              height={375}\n              muted\n            />\n          )}\n        </div>\n      )\n    );\n  };\n\n  return (\n    <Carousel\n      nextArrow={<RightOutlined />}\n      prevArrow={<LeftOutlined />}\n      dots={true}\n    >\n      {getPostMediaItems()}\n    </Carousel>\n  );\n};\nexport default PostMedia;\n","import React from \"react\";\n\nconst showMonth = (monthNum: number) => {\n  const months = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sept\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n  return months[monthNum];\n};\n\nconst getRelativeTime = (timestamp: number) => {\n  const currentTime = new Date();\n  const postTime = new Date(timestamp * 1000);\n  const secondsPast = (currentTime.getTime() - postTime.getTime()) / 1000;\n  if (secondsPast < 60) {\n    return Math.floor(secondsPast) + \"s â€¢\";\n  }\n  if (secondsPast < 3600) {\n    return Math.floor(secondsPast / 60) + \"m â€¢\";\n  }\n  if (secondsPast <= 86400) {\n    return Math.floor(secondsPast / 3600) + \"h â€¢\";\n  }\n  if (secondsPast > 86400) {\n    const day = postTime.getDate();\n    const month = showMonth(postTime.getMonth());\n    const year =\n      postTime.getFullYear() === currentTime.getFullYear()\n        ? \"\"\n        : `, ${postTime.getFullYear()}`;\n    return `${month} ${day}${year} â€¢`;\n  }\n};\n\ninterface RelativeTimeProps {\n  timestamp: number;\n  postStyle: boolean;\n}\n\nconst RelativeTime = ({\n  timestamp,\n  postStyle,\n}: RelativeTimeProps): JSX.Element => {\n  return (\n    <p className={`RelativeTime ${postStyle ? \"RelativeTime--post\" : \"\"}`}>\n      {getRelativeTime(timestamp)}\n    </p>\n  );\n};\n\nexport default RelativeTime;\n","import React, { useState } from \"react\";\nimport { useAppSelector } from \"../redux/hooks\";\nimport { FeedItem } from \"../utilities/types\";\nimport { Input } from \"antd\";\n\nconst PostReply = (): JSX.Element => {\n  // const dispatch = useAppDispatch();\n  const profile = useAppSelector((state) => state.user.profile);\n  const feed: FeedItem[] = useAppSelector((state) => state.feed.feed);\n  feed.filter((post) => post.content.type === \"Note\");\n  const [saving, setSaving] = React.useState<boolean>(false);\n  const [replyValue, setReplyValue] = useState<string>(\"\");\n\n  const createReply = async (\n    event: React.KeyboardEvent<HTMLTextAreaElement>\n  ) => {\n    event.preventDefault();\n    if (!profile) return;\n    setSaving(true);\n    //save reply here\n    //not sure how we want to do that\n    setReplyValue(\"\");\n    setSaving(false);\n  };\n\n  return (\n    <div className=\"PostReply__block\">\n      <Input.TextArea\n        className=\"PostReply__input\"\n        placeholder=\"Reply...\"\n        value={replyValue}\n        onChange={(e) => {\n          if (saving) return;\n          setReplyValue(e.target.value);\n        }}\n        autoSize={true}\n        onPressEnter={(event) => createReply(event)}\n      />\n    </div>\n  );\n};\n\nexport default PostReply;\n","import React from \"react\";\nimport { useAppSelector } from \"../redux/hooks\";\nimport { Card } from \"antd\";\nimport { FeedItem } from \"../utilities/types\";\nimport { NoteActivityPub } from \"../utilities/activityPubTypes\";\nimport UserAvatar from \"./UserAvatar\";\nimport PostMedia from \"./PostMedia\";\nimport RelativeTime from \"./RelativeTime\";\nimport PostReply from \"./PostReply\";\n\nconst Post: React.FC = () => {\n  const feed: FeedItem[] = useAppSelector((state) => state.feed.feed).filter(\n    (post) => post?.content?.type === \"Note\"\n  );\n\n  const postItems = feed\n    .slice(0)\n    .reverse()\n    .map((post: FeedItem, index: number) => {\n      const noteContent: NoteActivityPub = post.content as NoteActivityPub;\n      return (\n        <Card key={index} className=\"Post__block\" bordered={false}>\n          <Card.Meta\n            avatar={\n              <UserAvatar\n                profileAddress={post.fromAddress}\n                avatarSize={\"medium\"}\n              />\n            }\n            title={post.fromAddress}\n            description={\n              <RelativeTime timestamp={post.timestamp} postStyle={true} />\n            }\n          />\n          <div className=\"Post__caption\">{noteContent.content}</div>\n          {noteContent && (\n            <>\n              {noteContent.attachment && noteContent.attachment.length > 0 && (\n                <PostMedia attachment={noteContent.attachment} />\n              )}\n            </>\n          )}\n          <PostReply />\n        </Card>\n      );\n    });\n\n  return (\n    <div className=\"PostList__block\">\n      {feed.length > 0 ? postItems : \"Empty Feed!\"}\n    </div>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport Post from \"./Post\";\n\nconst PostList: React.FC = () => {\n  return (\n    <div className=\"PostList__block\">\n      <Post />\n    </div>\n  );\n};\nexport default PostList;\n","import React, { useState } from \"react\";\nimport NewPost from \"./NewPost\";\nimport PostList from \"./PostList\";\nimport { Button } from \"antd\";\nimport { useAppSelector } from \"../redux/hooks\";\n\nconst Feed: React.FC = () => {\n  const profile = useAppSelector((state) => state.user.profile);\n  const [isModalOpen, setIsModalOpen] = useState<boolean>(false);\n\n  return (\n    <div className=\"Feed__block\">\n      <div className=\"Feed__header\">\n        <h1>Feed</h1>\n        {profile && (\n          <Button\n            className=\"Feed__newPostButton\"\n            onClick={() => setIsModalOpen(true)}\n          >\n            New Post\n          </Button>\n        )}\n        {isModalOpen && (\n          <NewPost\n            onSuccess={() => setIsModalOpen(false)}\n            onCancel={() => setIsModalOpen(false)}\n          />\n        )}\n      </div>\n      <PostList />\n    </div>\n  );\n};\nexport default Feed;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { Button } from \"antd\";\nimport ConnectionsListProfiles from \"./ConnectionsListProfiles\";\nimport { useAppDispatch, useAppSelector } from \"../redux/hooks\";\nimport * as sdk from \"../services/sdk\";\nimport { Graph, HexString, Profile } from \"../utilities/types\";\nimport { upsertProfile } from \"../redux/slices/profileSlice\";\n\nenum ListStatus {\n  CLOSED,\n  FOLLOWERS,\n  FOLLOWING,\n}\n\nconst ConnectionsList = (): JSX.Element => {\n  const profile: Profile | undefined = useAppSelector(\n    (state) => state.user.profile\n  );\n  const graphs: Graph[] = useAppSelector((state) => state.graphs.graphs);\n  const graph: Graph | undefined = graphs.find(\n    ({ socialAddress }) => socialAddress === profile?.socialAddress\n  );\n  const cachedProfiles: Profile[] = useAppSelector(\n    (state) => state.profiles.profiles\n  );\n  const [selectedListTitle, setSelectedListTitle] = useState<ListStatus>(\n    ListStatus.CLOSED\n  );\n  const [selectedList, setSelectedList] = useState<Profile[]>([]);\n  const [followingList, setFollowingList] = useState<Profile[]>([]);\n  const [followersList, setFollowersList] = useState<Profile[]>([]);\n  const [notFollowingList, setNotFollowingList] = useState<Profile[]>([]);\n  const dispatch = useAppDispatch();\n\n  const getConnectionProfile = async (\n    socialAddress: HexString\n  ): Promise<Profile> => {\n    let userProfile = cachedProfiles.find(\n      (profile) => profile.socialAddress === socialAddress\n    );\n    if (!userProfile) {\n      userProfile = await sdk.getProfile(socialAddress);\n      stableDispatch(upsertProfile(userProfile));\n    }\n    return userProfile;\n  };\n\n  const getUserConnectionsList = async (\n    following: HexString[],\n    followers: HexString[]\n  ) => {\n    const followingProfiles: Profile[] = await Promise.all(\n      (following || []).map((socialAddress: string) =>\n        stableGetConnectionProfile(socialAddress)\n      )\n    );\n    const followersProfiles: Profile[] = await Promise.all(\n      (followers || []).map((socialAddress: string) =>\n        stableGetConnectionProfile(socialAddress)\n      )\n    );\n    return [followingProfiles, followersProfiles];\n  };\n\n  const getNotFollowingProfiles = (\n    followingProfiles: Profile[],\n    followersProfiles: Profile[]\n  ) => {\n    return followersProfiles.filter((userProfile) => {\n      return !followingProfiles.find(\n        (followingProfile) =>\n          followingProfile.socialAddress === userProfile.socialAddress\n      );\n    });\n  };\n\n  const stableDispatch = useCallback(dispatch, [dispatch]);\n\n  const stableGetConnectionProfile = useCallback(getConnectionProfile, [\n    cachedProfiles,\n    stableDispatch,\n  ]);\n\n  const stableGetUserConnectionsList = useCallback(getUserConnectionsList, [\n    stableGetConnectionProfile,\n  ]);\n\n  useEffect(() => {\n    if (!graph) return;\n    stableGetUserConnectionsList(graph.following, graph.followers).then(\n      (userRelationships) => {\n        const [followingProfiles, followersProfiles] = userRelationships;\n        setFollowingList(followingProfiles);\n        setFollowersList(followersProfiles);\n        setNotFollowingList(\n          getNotFollowingProfiles(followingProfiles, followersProfiles)\n        );\n      }\n    );\n  }, [stableGetUserConnectionsList, graph]);\n\n  useEffect(() => {\n    if (selectedListTitle === ListStatus.FOLLOWING) {\n      setSelectedList(followingList);\n    } else if (selectedListTitle === ListStatus.FOLLOWERS) {\n      setSelectedList(followersList);\n    } else setSelectedList([]);\n  }, [selectedListTitle, followersList, followingList]);\n\n  const handleClick = (listTitle: ListStatus) => {\n    if (selectedListTitle === listTitle)\n      setSelectedListTitle(ListStatus.CLOSED);\n    else {\n      setSelectedListTitle(listTitle);\n    }\n  };\n\n  const getClassName = (name: ListStatus) => {\n    return selectedListTitle === name\n      ? \"ConnectionsList__button ConnectionsList__button--active\"\n      : \"ConnectionsList__button\";\n  };\n\n  return (\n    <div className=\"ConnectionsList__block\">\n      <div className=\"ConnectionsList__buttonBlock\">\n        <Button\n          className={getClassName(ListStatus.FOLLOWERS)}\n          onClick={() => handleClick(ListStatus.FOLLOWERS)}\n        >\n          <div className=\"ConnectionsList__buttonCount\">\n            {graph?.followers.length}\n          </div>\n          Followers\n        </Button>\n\n        {selectedListTitle === ListStatus.CLOSED && (\n          <div className=\"ConnectionsList__buttonSeparator\"> </div>\n        )}\n        <Button\n          className={getClassName(ListStatus.FOLLOWING)}\n          onClick={() => handleClick(ListStatus.FOLLOWING)}\n        >\n          <div className=\"ConnectionsList__buttonCount\">\n            {graph?.following.length}\n          </div>\n          Following\n        </Button>\n      </div>\n      <ConnectionsListProfiles\n        listStatus={selectedListTitle}\n        connectionsList={selectedList}\n        notFollowingList={notFollowingList}\n      />\n    </div>\n  );\n};\n\nexport default ConnectionsList;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { HexString, Profile } from \"../../utilities/types\";\n\ninterface profileState {\n  profiles: Profile[];\n}\n\nconst initialState: profileState = {\n  profiles: [],\n};\n\nexport const profileSlice = createSlice({\n  name: \"profiles\",\n  initialState,\n  reducers: {\n    upsertProfile: (state, action: PayloadAction<Profile>) => {\n      const newProfile = action.payload;\n      const oldProfile = state.profiles.find(\n        (profile) => profile.socialAddress === newProfile.socialAddress\n      );\n      if (oldProfile)\n        state.profiles.splice(state.profiles.indexOf(oldProfile), 1);\n      state.profiles.push(newProfile);\n      return state;\n    },\n    removeProfile: (state, action: PayloadAction<HexString>) => {\n      const oldProfile = state.profiles.find(\n        (profile) => profile.socialAddress === action.payload\n      );\n      if (oldProfile)\n        state.profiles.splice(state.profiles.indexOf(oldProfile), 1);\n      return state;\n    },\n  },\n});\nexport const { upsertProfile, removeProfile } = profileSlice.actions;\nexport default profileSlice.reducer;\n","import React, { useState, useEffect } from \"react\";\nimport { Button } from \"antd\";\nimport { useAppSelector } from \"../redux/hooks\";\nimport ConnectionsList from \"./ConnectionsList\";\nimport UserAvatar from \"./UserAvatar\";\nimport { Profile } from \"../utilities/types\";\n\nconst ProfileBlock = (): JSX.Element => {\n  const profile: Profile | undefined = useAppSelector(\n    (state) => state.user.profile\n  );\n  const socialAddress = profile?.socialAddress;\n\n  const handle = \"insert_handle_here\";\n  const [isEditing, setIsEditing] = useState<boolean>(false);\n  const [newName, setNewName] = useState<string | null>(null);\n  const [newHandle, setNewHandle] = useState<string | null>(null);\n  const [didEditProfile, setDidEditProfile] = useState<boolean>(false);\n\n  const profileName = profile?.name || \"Anonymous\";\n\n  useEffect(() => {\n    if (\n      (newName && newName !== profileName) ||\n      (newHandle && newHandle !== handle)\n    ) {\n      setDidEditProfile(true);\n      return;\n    }\n    setDidEditProfile(false);\n  }, [newName, newHandle, profileName]);\n\n  const getClassName = (sectionName: string) => {\n    return isEditing\n      ? `ProfileBlock__${sectionName} ProfileBlock__editing`\n      : `ProfileBlock__${sectionName}`;\n  };\n\n  const saveEditProfile = () => {\n    //this is where we write to the blockchain\n    setIsEditing(!isEditing);\n  };\n\n  const cancelEditProfile = () => {\n    setIsEditing(!isEditing);\n    setNewName(null);\n    setNewHandle(null);\n  };\n\n  return (\n    <div className=\"ProfileBlock__block\">\n      {socialAddress ? (\n        <>\n          <div className=\"ProfileBlock__personalInfoBlock\">\n            <div className=\"ProfileBlock__avatarBlock\">\n              <UserAvatar\n                profileAddress={profile?.socialAddress}\n                avatarSize=\"large\"\n              />\n              {isEditing ? (\n                <>\n                  <Button\n                    className=\"ProfileBlock__editButton\"\n                    onClick={() => saveEditProfile()}\n                    disabled={!didEditProfile}\n                  >\n                    save\n                  </Button>\n                  <Button\n                    className=\"ProfileBlock__editButton\"\n                    onClick={() => cancelEditProfile()}\n                  >\n                    cancel\n                  </Button>\n                </>\n              ) : (\n                <Button\n                  className=\"ProfileBlock__editButton\"\n                  onClick={() => setIsEditing(!isEditing)}\n                >\n                  edit\n                </Button>\n              )}\n            </div>\n            <div className=\"ProfileBlock__personalInfo\">\n              <label className=\"ProfileBlock__personalInfoLabel\">NAME</label>\n              <input\n                className={getClassName(\"name\")}\n                value={newName || newName === \"\" ? newName : profileName}\n                onChange={(e) => setNewName(e.target.value)}\n                disabled={!isEditing}\n              />\n              <label className=\"ProfileBlock__personalInfoLabel\">HANDLE</label>\n              <input\n                className={getClassName(\"handle\")}\n                value={newHandle || newHandle === \"\" ? newHandle : handle}\n                onChange={(e) => setNewHandle(e.target.value)}\n                disabled={!isEditing}\n              />\n              <label className=\"ProfileBlock__personalInfoLabel\">\n                SOCIAL ADDRESS\n              </label>\n              <input\n                className={getClassName(\"socialAddress\")}\n                value={socialAddress || \"Anonymous\"}\n                disabled={true}\n              />\n            </div>\n          </div>\n          <ConnectionsList />\n        </>\n      ) : (\n        <div className=\"ProfileBlock__loginText\">\n          Login With MetaMask/Taurus\n        </div>\n      )}\n    </div>\n  );\n};\nexport default ProfileBlock;\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./App.scss\";\nimport \"antd/dist/antd.less\";\nimport Header from \"./components/Header\";\nimport Feed from \"./components/Feed\";\nimport ProfileBlock from \"./components/ProfileBlock\";\nimport * as wallet from \"./services/wallets/wallet\";\nimport { useAppSelector } from \"./redux/hooks\";\n\nconst App: React.FC = () => {\n  const walletType = useAppSelector((state) => state.user.walletType);\n  useEffect(() => {\n    if (walletType) wallet.wallet(walletType).reload();\n  });\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <main className=\"App__content\">\n          <Feed />\n          <ProfileBlock />\n        </main>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport userSlice from \"./slices/userSlice\";\nimport profileSlice from \"./slices/profileSlice\";\nimport graphSlice from \"./slices/graphSlice\";\nimport feedSlice from \"./slices/feedSlice\";\n\nconst store = configureStore({\n  reducer: {\n    user: userSlice,\n    profiles: profileSlice,\n    graphs: graphSlice,\n    feed: feedSlice,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}