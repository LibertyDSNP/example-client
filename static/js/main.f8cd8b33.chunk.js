(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1001:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(60),c=n.n(o),i=n(1),l=n.n(i),s=n(24),u=n(472),d=(n(484),n(49)),m=n.n(d),f=n(465),p=n.n(f),v=n(25),b=n(1016),A=n(188),g=function(){return Object(A.b)()},h=A.c,E=n(22),O=n(102),N=n(135),I=n.n(N),y=window.ethereum;y&&(y.autoRefreshOnNetworkChange=!1);var w,k=y,j=new I.a(k),_=function(){return Boolean(null===k||void 0===k?void 0:k.isMetaMask)},S=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===k||void 0===k?void 0:k.request({method:"eth_requestAccounts"});case 2:if(t=e.sent){e.next=5;break}throw new Error("Metamask not installed");case 5:return e.abrupt("return",t.result?t.result[0]:t[0]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x={icon:"https://cdn.iconscout.com/icon/free/png-512/metamask-2728406-2261817.png",login:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_()){e.next=2;break}throw new Error("Metamask not installed");case 2:return e.abrupt("return",S());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){},reload:function(){},getAddress:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getWeb3:function(){return function(){if(!_())throw new Error("Metamask not installed");return j}()}},P=n(459),L=n.n(P),C={},B={theme:{isDark:!1,colors:{torusBrand1:"#000000",torusGray2:"#FBF7F3"}},logoDark:"https://avatars.githubusercontent.com/u/78103996?s=200&v=4",logoLight:"https://avatars.githubusercontent.com/u/78103996?s=200&v=4"},U={web3:new I.a,torus:null,initialized:!1,setweb3:function(e){var t=new I.a(e);U.web3=t,this.web3.setProvider(e)},initialize:function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new L.a(C),e.next=3,n.init({buildEnv:"testing",network:{host:"https://qa-chain.liberti.social",chainId:Number("1884")||1337,networkName:"QAchain"},showTorusButton:!0,whiteLabel:B});case 3:return this.initialized=!0,e.prev=4,e.next=7,n.login({verifier:void 0});case 7:U.setweb3(n.provider),U.torus=n,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),n.clearInit(),this.initialized=!1,new Error("Login Cancelled");case 16:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},R=U,T=["google","reddit","discord"],F=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.initialize(t||"production");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){return R.initialized},D=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=R.torus)||void 0===t?void 0:t.getUserInfo("This site is requesting your information");case 2:if(n=e.sent){e.next=5;break}throw new Error("Unable to find user's info");case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(a=R.torus)||void 0===a?void 0:a.getPublicAddress({verifier:t,verifierId:n,isExtended:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,n=t.verifier,a=t.verifierId,r=V(n),e.next=8,Q(r,a);case 8:if(o=e.sent){e.next=11;break}throw new Error("No Wallet Address found for User");case 11:if("string"!==typeof o){e.next=13;break}return e.abrupt("return",o);case 13:return e.abrupt("return",o.address);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){var t=T.find((function(t){return e.includes(t)}));if(!t)throw new Error("Unknown Verifier");return t},W={icon:"data:image/jpeg;base64,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",login:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return e.next=4,q();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){M()&&function(){var e;null===(e=R.torus)||void 0===e||e.cleanUp().then((function(){sessionStorage.setItem("pageUsingTorus","false")}))}()},reload:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAddress:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getWeb3:function(){return R.web3}};!function(e){e.NONE="NONE",e.TORUS="TORUS",e.METAMASK="METAMASK"}(w||(w={}));var G,K,H,Y,z,J=function(e){switch(e){case w.NONE:return X;case w.TORUS:return W;case w.METAMASK:return x}},X={icon:"https://icons.veryicon.com/png/o/business/business-style-icon/wallet-62.png",login:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"";case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){},reload:function(){},getAddress:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"";case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getWeb3:function(){return new I.a}},Z=function(e){return sessionStorage.setItem("session",JSON.stringify(e)),e},$=function(){try{var e=sessionStorage.getItem("session");return e?JSON.parse(e):null}catch(t){return null}},ee=function(e){var t=$()||{id:void 0,walletType:w.NONE};Z(Object(E.a)(Object(E.a)({},t),{},{walletType:e}))},te=function(){return!!sessionStorage.getItem("session")},ne={id:te()?null===(G=$())||void 0===G?void 0:G.id:void 0,displayId:te()?null===(K=$())||void 0===K?void 0:K.id:void 0,walletType:null!==(H=null===(Y=$())||void 0===Y?void 0:Y.walletType)&&void 0!==H?H:w.NONE},ae=Object(O.b)({name:"user",initialState:ne,reducers:{userLogin:function(e,t){return Object(E.a)(Object(E.a)({},e),t.payload)},userLogout:function(e){return{walletType:w.NONE}},userUpdateId:function(e,t){return Object(E.a)(Object(E.a)({},e),{},{id:t.payload,displayId:t.payload})},userUpdateWalletType:function(e,t){return Object(E.a)(Object(E.a)({},e),{},{walletType:t.payload})},setDisplayId:function(e,t){return Object(E.a)(Object(E.a)({},e),{},{displayId:t.payload})}}}),re=ae.actions,oe=(re.userLogin,re.userLogout),ce=re.userUpdateId,ie=re.userUpdateWalletType,le=re.setDisplayId,se=ae.reducer,ue=n(36),de=n(118),me=n(39),fe=n(6),pe=n(7),ve=function(e){return"function"==typeof e},be=function(e){return"object"==typeof e&&e.constructor===Uint8Array},Ae=n(221),ge=n.n(Ae),he=n(53),Ee=function(e){var t=ge.a.extname(e).replace(".",""),n=new URL(e).host,a=[Object(he.createHash)(e)];if(/(youtu\.be|youtube\.com|vimeo\.com|soundcloud.com)$/.test(n)){var r=Object(he.createVideoLink)(e,"text/html",a);return Object(he.createVideoAttachment)([r])}switch(t){case"mp4":return Object(he.createVideoAttachment)([Object(he.createVideoLink)(e,"video/mp4",a)]);case"wmv":return Object(he.createVideoAttachment)([Object(he.createVideoLink)(e,"video/x-ms-wmv",a)]);case"mov":return Object(he.createVideoAttachment)([Object(he.createVideoLink)(e,"video/quicktime",a)]);case"webm":return Object(he.createVideoAttachment)([Object(he.createVideoLink)(e,"video/webm",a)]);case"mp3":return Object(he.createAudioAttachment)([Object(he.createAudioLink)(e,"audio/mpeg",a)]);case"ogg":return Object(he.createAudioAttachment)([Object(he.createAudioLink)(e,"audio/ogg",a)]);default:return Object(he.createImageAttachment)([Object(he.createImageLink)(e,"image/".concat(t),a)])}},Oe=function(e,t){var n={"@context":"https://www.w3.org/ns/activitystreams",type:"Note",mediaType:"text/plain",content:e,published:(new Date).toISOString()};return t&&(n.attachment=t.map(Ee)),n},Ne=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a){var r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(t,n),o={fromId:BigInt(a),content:r},e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ie=function(){function e(){Object(fe.a)(this,e)}return Object(pe.a)(e,[{key:"put",value:function(e,t){return Promise.resolve(new URL("".concat("http://localhost:8080","/").concat(e)))}},{key:"putStream",value:function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new ye(t),e.next=3,n(a);case 3:return e.abrupt("return",new URL("".concat("http://localhost:8080","/").concat(t)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ye=function(){function e(t){Object(fe.a)(this,e),Object(me.a)(this,"chunks",[]),Object(me.a)(this,"targetPath",void 0),this.targetPath=t}return Object(pe.a)(e,[{key:"write",value:function(e,t,n){var a="string"==typeof t?n:t;return this.chunks.push(e),a&&a(null),!0}},{key:"end",value:function(){var e;be(arguments.length<=0?void 0:arguments[0])&&this.chunks.push(arguments.length<=0?void 0:arguments[0]),e=ve(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:ve(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2];for(var t=this.chunks.reduce((function(e,t){return e+t.length}),0),n=new ArrayBuffer(t),a=new Uint8Array(n),r=0,o=0;r<this.chunks.length;r++)a.set(this.chunks[r],o),o+=this.chunks[r].length;fetch("".concat("http://localhost:8080","/upload?filename=").concat(encodeURIComponent(this.targetPath)),{method:"POST",mode:"cors",body:n}).then((function(t){if(201!==t.status)throw Error("failed to post stream: ".concat(t.status," ").concat(t.statusText));e&&e()}))}}]),e}(),we=n(108),ke=function(e){var t;if(e===w.TORUS)t=W.getWeb3().currentProvider;else{if(e!==w.METAMASK)throw new Error("Unknown walletType attempting to setup provider: ".concat(e));if(!(t=window.ethereum))throw new Error("Could not create provider, because ethereum has not been set")}var n=new de.providers.Web3Provider(t);Object(ue.c)({provider:n,signer:n.getSigner(),store:new Ie})},je=ue.a.contracts.registry.getRegistrationsByWalletAddress,_e=ue.b,Se=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.a.contracts.subscription.subscribeToBatchPublications((function(e){t(e)}),{fromBlock:1});case 2:return a=e.sent,e.next=5,ue.a.contracts.subscription.subscribeToRegistryUpdates((function(e){n(e)}),{fromBlock:1});case 5:return r=e.sent,e.abrupt("return",(function(){r(),a()}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xe=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,e.next=3,ue.a.batch.openURL(t.fileUrl.toString());case 3:return r=e.sent,e.next=6,ue.a.batch.readFile(r,(function(e){return n(e,a++)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.a.batch.createFile(t,[n]);case 2:return a=e.sent,e.next=5,ue.a.contracts.publisher.publish([{announcementType:ue.a.announcements.AnnouncementType.Broadcast,fileUrl:a.url.toString(),fileHash:a.hash}]);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Le=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.a.announcements.sign(ue.a.announcements.createBroadcast(ue.a.identifiers.convertToDSNPUserURI(t),n,a)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.a.announcements.sign(ue.a.announcements.createReply(t,a,r,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Be=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.a.announcements.sign(ue.a.announcements.createProfile(ue.a.identifiers.convertToDSNPUserURI(t),n,a)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(s.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.a.announcements.sign(ue.a.announcements.createFollowGraphChange(ue.a.identifiers.convertToDSNPUserURI(t),ue.a.identifiers.convertToDSNPUserURI(n))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(){var e=Object(s.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.a.announcements.sign(ue.a.announcements.createUnfollowGraphChange(ue.a.identifiers.convertToDSNPUserURI(t),ue.a.identifiers.convertToDSNPUserURI(n))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Te=n(180),Fe=n.n(Te),Me=n(107),De=n.n(Me),Qe=function(e){var t=e.popoverVisible,n=e.setPopoverVisible,a=e.loginWalletOptions,o=e.loading,c=e.loginWithWalletType,i=g(),l=function(e){i(ie(e)),ee(e),c(e)},s=r.a.createElement(Fe.a,{placement:"bottomRight",trigger:"click",visible:t,onVisibleChange:function(e){n(e)},content:r.a.createElement("div",{className:"LoginButton__loginOptions"},r.a.createElement(m.a,{className:"LoginButton__loginTorus",onClick:function(){return l(w.TORUS)}},"Torus"),r.a.createElement(m.a,{className:"LoginButton__loginMetamask",onClick:function(){return l(w.METAMASK)}},"MetaMask"))},r.a.createElement(m.a,{className:"LoginButton__loginButton","aria-label":"Login"},"Log In",o&&r.a.createElement(De.a,{className:"LoginButton__spinner",size:"small"}))),u=r.a.createElement(m.a,{className:"LoginButton__loginButton LoginButton__loginButton--quickStart","aria-label":"Login",onClick:function(){return c(a)}},"Log In With ",a,o&&r.a.createElement(De.a,{className:"LoginButton__spinner",size:"small"}));return r.a.createElement(r.a.Fragment,null,a===w.NONE?s:u)},qe=n(301),Ve=n.n(qe),We=n(122),Ge=n.n(We),Ke=n(181),He=n.n(Ke),Ye=n(464),ze=n.n(Ye),Je=n(463),Xe=new Map([["small",32],["medium",50],["large",100]]),Ze=function(e){var t=e.icon,n=e.profileAddress,a=e.avatarSize,o=t||n&&Je.create({seed:n}).toDataURL();return r.a.createElement(ze.a,{className:"UserAvatar",alt:n||"anonymous",src:o,size:Xe.get(a)})},$e=function(e){var t=e.children,n=e.visible,a=e.registrations,o=e.walletAddress,c=e.onIdResolved,i=e.onCancel,u=r.a.useState(!1),d=Object(v.a)(u,2),f=d[0],p=d[1],b=r.a.useState(!0),A=Object(v.a)(b,2),g=A[0],E=A[1],O=r.a.useState(void 0),N=Object(v.a)(O,2),I=N[0],y=N[1],w=r.a.useState(void 0),k=Object(v.a)(w,2),j=k[0],_=k[1],S=h((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}}));a.length?f||(p(!0),E(!1)):f&&(p(!1),E(!0));var x=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(o,t.handle);case 3:n=e.sent,c(ue.a.identifiers.convertToDSNPUserId(n).toString()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),y("Error registering: ".concat(e.t0.message||e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t,n;return null===(t=S[ue.a.identifiers.convertToDSNPUserId(e.dsnpUserURI).toString()])||void 0===t||null===(n=t.icon)||void 0===n?void 0:n[0].href},L=r.a.createElement(Ve.a,{name:"createHandle",className:"RegistrationModal__createHandle",initialValues:{remember:!0},onFinish:x},I&&r.a.createElement(r.a.Fragment,null,r.a.createElement(He.a,{message:I,type:"error"})),r.a.createElement("p",null,"Please create a handle:"),r.a.createElement(Ve.a.Item,{name:"handle",className:"RegistrationModal__handleInput",rules:[{required:!0,message:"Handle cannot be blank"}]},r.a.createElement(Ge.a,null)),r.a.createElement("div",{className:"RegistrationModal__footer"},f&&r.a.createElement("button",{onClick:function(e){e.preventDefault(),E(!1)},className:"RegisrationModal__changeMode"},"Select Existing Handle"),r.a.createElement(m.a,{type:"primary",htmlType:"submit",className:"RegistrationModal__footerBtn"},"Choose handle"))),C=r.a.createElement("div",null,r.a.createElement("p",null,"You have multiple handles associated with your account."),r.a.createElement("h3",null,"Select an account:"),r.a.createElement("div",{className:"RegistrationModal__registrations"},a.map((function(e){return r.a.createElement("button",{className:"RegistrationModal__registration".concat(e===j?" RegistrationModal__registration--selected":""),onClick:function(){return _(e)},key:e.dsnpUserURI},r.a.createElement(Ze,{icon:P(e),profileAddress:e.dsnpUserURI,avatarSize:"small"}),"@".concat(e.handle))}))),r.a.createElement("div",{className:"RegistrationModal__footer"},r.a.createElement("button",{onClick:function(){return E(!0)},className:"RegisrationModal__changeMode"},"Create New Handle"),r.a.createElement(m.a,{className:"RegistrationModal__footerBtn",key:"post",type:"primary",disabled:!j,onClick:function(){j&&c(j.dsnpUserURI)}},"Select Handle")));return r.a.createElement(Fe.a,{placement:"bottomRight",visible:n,content:r.a.createElement("div",{className:"RegistrationModal"},r.a.createElement(m.a,{type:"link",className:"RegistrationModal__cancel",onClick:i},"Cancel"),r.a.createElement("h2",null,"Welcome!"),g?L:C)},t)},et=function(e){var t=e.isPrimary,n=e.loginWalletOptions,a=r.a.useState(!1),o=Object(v.a)(a,2),c=o[0],i=o[1],u=r.a.useState(!1),d=Object(v.a)(u,2),f=d[0],A=d[1],O=r.a.useState(!1),N=Object(v.a)(O,2),I=N[0],y=N[1],j=r.a.useState(""),_=Object(v.a)(j,2),S=_[0],x=_[1],P=r.a.useState([]),L=Object(v.a)(P,2),C=L[0],B=L[1],U=g(),R=h((function(e){return e.user.id})),T=h((function(e){return e.user.walletType})),F=function(e){var t=ue.a.identifiers.convertToDSNPUserId(e);U(ce(t.toString())),function(e){var t=$()||{id:void 0,walletType:w.NONE};Z(Object(E.a)(Object(E.a)({},t),{},{id:e.toString()}))}(t),y(!1)},M=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(t),ke(n),e.next=4,je(t);case 4:1===(a=e.sent).length?F(a[0].dsnpUserURI):(B(a),y(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}return e.abrupt("return");case 2:return i(!0),e.prev=3,e.next=6,J(t).login();case 6:return n=e.sent,e.next=9,M(n,t);case 9:e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),Q(),A(!1),i(!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){if(i(!1),y(!1),x(""),R){var e;if(sessionStorage.removeItem("session"),T!==w.NONE)null===(e=J(T))||void 0===e||e.logout();U(oe())}};if(t){var q=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q(),!t[0]||T===w.NONE){e.next=5;break}return i(!0),e.next=5,M(t[0],T);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();null===k||void 0===k||k.removeAllListeners("accountsChanged").on("accountsChanged",q)}return r.a.createElement("div",{className:"Login__block"},R?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{count:r.a.createElement(b.a,{style:{color:"#52C41A"}}),offset:[-48,8]},r.a.createElement("img",{className:"Login__walletIcon",src:J(T).icon,alt:"Wallet Symbol"})),r.a.createElement(m.a,{className:"Login__logOutButton","aria-label":"Logout",onClick:Q},"Log Out")):r.a.createElement($e,{visible:I,registrations:C,onIdResolved:F,onCancel:Q,walletAddress:S},r.a.createElement(Qe,{popoverVisible:f,setPopoverVisible:A,loginWalletOptions:n,loading:c,loginWithWalletType:D})))},tt=function(){return r.a.createElement("div",{className:"Header__block"},r.a.createElement("h1",{className:"Header__title"},"Example Client"),r.a.createElement(et,{loginWalletOptions:w.NONE,isPrimary:!0}))},nt=n(466),at=n.n(nt),rt=n(297),ot=n.n(rt),ct=n(76),it=n(1017),lt=n.p+"static/media/Camera.a7abe56b.svg",st=function(e){var t=e.onNewPostImageUpload,n=r.a.useState(!1),a=Object(v.a)(n,2),o=a[0],c=a[1],i=r.a.useState(null),l=Object(v.a)(i,2),s=l[0],u=l[1],d=r.a.useState(""),f=Object(v.a)(d,2),p=f[0],b=f[1],A=r.a.useState([]),g=Object(v.a)(A,2),h=g[0],E=g[1],O=p&&p.match(/.+\..+\//);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"NewPostImageUpload__cover"},h&&h.map((function(e,n){return r.a.createElement("div",{className:"NewPostImageUpload__imageBlock",key:n},r.a.createElement("img",{alt:"",className:"NewPostImageUpload__image",src:e,onLoad:function(){return c(!1)}}),r.a.createElement(it.a,{className:"NewPostImageUpload__imageDelete",onClick:function(){return function(e){var n=Object(ct.a)(h);n.splice(e,1),E(n),t(n)}(n)},twoToneColor:"#9e9e9e"}))})),p&&r.a.createElement(De.a,{className:"NewPostImageUpload__spinner",spinning:o})),r.a.createElement("div",{className:"NewPostImageUpload__urlInputBlock"},r.a.createElement("img",{className:"NewPostImageUpload__icon",src:lt,alt:"camera"}),r.a.createElement(Ge.a,{className:"NewPostImageUpload__urlInput",placeholder:"Image URL",value:p||"",onChange:function(e){var t;c(!0),t=e.target.value,b(t),u(null)}}),r.a.createElement(m.a,{className:"NewPostImageUpload__urlInputBtn",onClick:function(){if(O){var e=[].concat(Object(ct.a)(h),[p]);E(e),t(e),b("")}else u("Invalid URL.")}},"Add")),s&&r.a.createElement(He.a,{className:"NewPostImageUpload__alert",type:"error",message:s}))},ut={feedItems:[],isPostLoading:{loading:!1,currentUserId:void 0},isReplyLoading:{loading:!1,parent:void 0}},dt=function(e,t){return e.loading&&e.currentUserId===t.fromId?{loading:!1,currentUserId:void 0}:e},mt=function(e,t){return e.loading&&e.parent===t.inReplyTo?{loading:!1,parent:void 0}:e},ft=Object(O.b)({name:"feed",initialState:ut,reducers:{addFeedItem:function(e,t){var n=t.payload;return Object(E.a)(Object(E.a)({},e),{},{feedItems:[].concat(Object(ct.a)(e.feedItems),[n]),isPostLoading:dt(e.isPostLoading,n),isReplyLoading:mt(e.isReplyLoading,n)})},clearFeedItems:function(e){return Object(E.a)(Object(E.a)({},e),{},{feedItems:[]})},postLoading:function(e,t){return Object(E.a)(Object(E.a)({},e),{},{isPostLoading:{loading:t.payload.loading,currentUserId:t.payload.currentUserId}})},replyLoading:function(e,t){return Object(E.a)(Object(E.a)({},e),{},{isReplyLoading:{loading:t.payload.loading,parent:t.payload.parent}})}}}),pt=ft.actions,vt=pt.addFeedItem,bt=pt.clearFeedItems,At=pt.postLoading,gt=pt.replyLoading,ht=ft.reducer,Et=n(473),Ot=n(474),Nt=function(e,t){return e&&void 0!==e.blockNumber?t&&void 0!==t.blockNumber?t.blockNumber!==e.blockNumber?t.blockNumber>e.blockNumber?t:e:t.blockIndex!==e.blockIndex?t.blockIndex>e.blockIndex?t:e:t.batchIndex>e.batchIndex?t:e:e:t},It=Object(O.b)({name:"profiles",initialState:{profiles:{}},reducers:{upsertProfile:function(e,t){var n=t.payload.fromId,a=e.profiles[n],r=a?Object(E.a)(Object(E.a)({},a),t.payload):t.payload;return{profiles:Object(E.a)(Object(E.a)({},e.profiles),{},Object(me.a)({},n,Nt(a,r)))}},removeProfile:function(e,t){var n=e.profiles,a=t.payload;n[a];return{profiles:Object(Et.a)(n,[a].map(Ot.a))}}}}),yt=It.actions,wt=yt.upsertProfile,kt=(yt.removeProfile,It.reducer);!function(e){e[e.FOLLOWING=0]="FOLLOWING",e[e.UNFOLLOWING=1]="UNFOLLOWING",e[e.UPDATING=2]="UPDATING"}(z||(z={}));var jt,_t=Object(O.b)({name:"graphs",initialState:{following:{},followers:{}},reducers:{upsertGraph:function(e,t){var n=t.payload,a=n.follower,r=n.followee,o=n.unfollow,c=e.following[a]||{},i=e.followers[r]||{},l=Nt({status:o?z.UNFOLLOWING:z.FOLLOWING,blockNumber:t.payload.blockNumber,blockIndex:t.payload.blockIndex,batchIndex:t.payload.batchIndex},c[r]);return l===c[r]?e:{following:Object(E.a)(Object(E.a)({},e.following),{},Object(me.a)({},a,Object(E.a)(Object(E.a)({},c),{},Object(me.a)({},r,l)))),followers:Object(E.a)(Object(E.a)({},e.followers),{},Object(me.a)({},r,Object(E.a)(Object(E.a)({},i),{},Object(me.a)({},a,l))))}},updateRelationshipStatus:function(e,t){var n=t.payload,a=n.follower,r=n.followee,o=n.status,c=(e.following[a]||{})[a]||{status:z.UPDATING,blockNumber:-1,blockIndex:-1,batchNumber:-1},i=Object(E.a)(Object(E.a)({},c),{},{status:o});return{following:Object(E.a)(Object(E.a)({},e.following),{},Object(me.a)({},a,Object(E.a)(Object(E.a)({},e.following[a]||{}),{},Object(me.a)({},r,i)))),followers:Object(E.a)(Object(E.a)({},e.followers),{},Object(me.a)({},r,Object(E.a)(Object(E.a)({},e.followers[r]||{}),{},Object(me.a)({},a,i))))}}}}),St=_t.actions,xt=St.upsertGraph,Pt=St.updateRelationshipStatus,Lt=_t.reducer,Ct=n(73),Bt=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(bt()),e.abrupt("return",Se(Gt(t),Vt(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.content){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Kt(t.content);case 4:return n=e.sent,e.next=7,Le(t.fromId,"".concat("http://localhost:8080","/").concat(n,".json"),n);case 7:return a=e.sent,e.next=10,Pe("".concat(n,".parquet"),a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.content&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Kt(t.content);case 4:return a=e.sent,e.next=7,Ce(t.fromId,n,"".concat("http://localhost:8080","/").concat(a,".json"),a);case 7:return r=e.sent,e.next=10,Pe("".concat(a,".parquet"),r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(n);case 2:return a=e.sent,e.next=5,Be(t,"".concat("http://localhost:8080","/").concat(a,".json"),a);case 5:return r=e.sent,e.next=8,Pe("".concat(a,".parquet"),r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(t,n);case 2:return a=e.sent,r=ue.a.announcements.serialize(a),e.next=6,Pe(r,a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t,n);case 2:return a=e.sent,r=ue.a.announcements.serialize(a),e.next=6,Pe(r,a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Dt=function(e,t,n,a,r,o){return Object(he.isActivityContentNoteType)(n)?Qt(e,t,n,a):Object(he.isActivityContentProfileType)(n)?qt(e,t,n,a,r,o):void 0},Qt=function(e,t,n,a){e(vt({fromId:t.fromId.toString(),blockNumber:a,hash:t.contentHash,published:n.published,uri:t.url,content:n,inReplyTo:t.announcementType===ue.a.announcements.AnnouncementType.Reply?t.inReplyTo:void 0}))},qt=function(e,t,n,a,r,o){e(wt(Object(E.a)(Object(E.a)({},n),{},{fromId:t.fromId.toString(),blockNumber:a,blockIndex:r,batchIndex:o})))},Vt=function(e){return function(t){e(wt(Object(E.a)(Object(E.a)({},Object(he.createProfile)()),{},{fromId:ue.a.identifiers.convertToDSNPUserId(t.dsnpUserURI).toString(),handle:t.handle,blockNumber:t.blockNumber,blockIndex:t.transactionIndex,batchIndex:0})))}},Wt=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a,r,o){var c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n.url);case 3:return c=e.sent,e.next=6,c.json();case 6:i=e.sent,Dt(t,n,i,a,r,o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),Gt=function(e){return function(t){xe(t,(function(n,a){try{var r=n;r.announcementType===we.AnnouncementType.GraphChange?function(e,t,n,a,r){e(xt({follower:t.fromId.toString(),followee:t.objectId.toString(),unfollow:t.changeType===we.DSNPGraphChangeType.Unfollow,blockNumber:n,blockIndex:a,batchIndex:r}))}(e,r,t.blockNumber,t.transactionIndex,a++):function(e){var t=e.announcementType;return t===we.AnnouncementType.Profile||t===we.AnnouncementType.Broadcast||t===we.AnnouncementType.Reply}(r)&&Wt(e,r,t.blockNumber,t.transactionIndex,a++)}catch(o){console.log(o)}}))}},Kt=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Ct.keccak256)(JSON.stringify(t)),e.next=3,fetch("".concat("http://localhost:8080","/upload?filename=").concat(encodeURIComponent(n+".json")),{method:"POST",mode:"cors",body:JSON.stringify(t)});case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(e){var t=e.profile,n=e.isHoveringProfile,a=t.handle&&"@"+t.handle,o=t.name||a||t.fromId,c=t.name?a:void 0;return r.a.createElement("span",{className:"FromTitle__block"},r.a.createElement("span",{className:n?"FromTitle__primary--active":""},o),c&&r.a.createElement("span",{className:"FromLine__secondary"},c))},Yt=function(e){var t,n,a=e.onSuccess,o=e.onCancel,c=g(),i=r.a.useState(!1),u=Object(v.a)(i,2),d=u[0],f=u[1],p=r.a.useState([]),b=Object(v.a)(p,2),A=b[0],O=b[1],N=r.a.useState(""),I=Object(v.a)(N,2),y=I[0],w=I[1],k=r.a.useState(!1),j=Object(v.a)(k,2),_=j[0],S=j[1],x=h((function(e){return e.user.id})),P=h((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),L=x&&P[x]||Object(E.a)(Object(E.a)({},Object(he.createProfile)()),{},{fromId:x||""}),C=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ne(y,A,x);case 4:return t=e.sent,e.next=7,Ut(t);case 7:c(At({loading:!0,currentUserId:x})),f(!1),a();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(at.a,{className:"NewPost",visible:!0,onCancel:o,width:"535px",centered:!0,title:"Create a post",footer:[r.a.createElement(De.a,{spinning:d,key:1},r.a.createElement(ot.a,null,r.a.createElement(m.a,{className:"NewPost__footerBtn",key:"post",type:"primary",disabled:!_||d,onClick:C},"Post")))]},r.a.createElement("div",{className:"NewPost__profileBlock"},r.a.createElement(Ze,{icon:null===L||void 0===L||null===(t=L.icon)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.href,profileAddress:x,avatarSize:"small"}),r.a.createElement("h3",{className:"NewPost__profileBlockName"},r.a.createElement(Ht,{profile:L}))),r.a.createElement(Ge.a.TextArea,{className:"NewPost__textArea",placeholder:"Message",value:y||"",onChange:function(e){return function(e){d||(""!==e.target.value?S(!0):S(!1),w(e.target.value))}(e)},rows:6}),r.a.createElement(st,{onNewPostImageUpload:O}))},zt=n(160),Jt=n.n(zt),Xt=n(468),Zt=n.n(Xt),$t=n(467),en=n.n($t),tn=n(1018),nn=n(1019),an=function(e){var t=e.attachment;return r.a.createElement(Zt.a,{nextArrow:r.a.createElement(tn.a,null),prevArrow:r.a.createElement(nn.a,null),dots:!0},t.map((function(e,t){var n,a=null===e||void 0===e||null===(n=e.type)||void 0===n?void 0:n.toLowerCase();return r.a.createElement("div",{key:t,className:"PostMedia__cover"},"image"===a&&r.a.createElement("a",{href:e.url[0].href,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:e.name,className:"PostMedia__img",src:e.url[0].href})),("video"===a||"audio"===a)&&r.a.createElement(en.a,{controls:!0,playsinline:!0,className:"PostMedia__img",url:e.url[0].href,width:670,height:"video"===a?400:55,muted:!0}))})))},rn=function(e){var t=e.published,n=e.postStyle;return r.a.createElement("p",{className:"RelativeTime ".concat(n?"RelativeTime--post":"")},function(e){var t,n=new Date(e),a=((new Date).getTime()-n.getTime())/1e3;return a<60?Math.floor(a)+"s \u2022":a<3600?Math.floor(a/60)+"m \u2022":a<=86400?Math.floor(a/3600)+"h \u2022":a>86400?"".concat((t=n.getMonth(),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][--t])," ").concat(n.getDate(),", ").concat(n.getFullYear()," \u2022"):void 0}(t))},on=n(470),cn=n.n(on),ln=n(302),sn=n.n(ln),un=n(1020),dn=n(1021),mn=n(469),fn=function(e){var t=e.hash,n=e.fromId,o=e.isReply,c=Object(a.useState)(!1),i=Object(v.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(!1),d=Object(v.a)(u,2),m=d[0],f=d[1],p=Object(mn.buildDSNPAnnouncementURI)(n,t),b=r.a.createElement(sn.a,{onClick:function(){return f(!0)}},r.a.createElement(sn.a.Item,{key:"valid",onClick:function(){s(!0),setTimeout((function(){s(!1)}),2e3)}},l?r.a.createElement("div",null,r.a.createElement(un.a,null)," Copied!"):r.a.createElement("div",{className:"PostHashDropdown__menuHash",onClick:function(){return navigator.clipboard.writeText(p)}},"DSNP Announcement URI: ",p)));return r.a.createElement(cn.a,{className:o?"PostHashDropdown__replyBlock":"PostHashDropdown__block",overlay:b,visible:m,onVisibleChange:function(e){return f(e)},placement:"bottomRight"},r.a.createElement("button",{className:"PostHashDropdown__button",onClick:function(e){return e.preventDefault()}},r.a.createElement(dn.a,null)))},pn=function(e){var t,n,o=e.reply,c=h((function(e){return e.profiles.profiles})),i=Object(a.useState)(void 0),l=Object(v.a)(i,2),s=l[0],u=l[1];return Object(a.useEffect)((function(){u(c[o.fromId])}),[c,o]),r.a.createElement("div",{className:"Reply__block"},r.a.createElement(fn,{hash:o.hash,fromId:o.fromId,isReply:!0}),r.a.createElement(Ze,{icon:null===s||void 0===s||null===(t=s.icon)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.href,profileAddress:o.fromId,avatarSize:"small"}),r.a.createElement("div",{className:"Reply__message"},r.a.createElement("div",{className:"Reply__name"},(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s?void 0:s.fromId)),o.content.content))},vn=function(e){var t=e.parent,n=g(),o=h((function(e){return e.user.id})),c=r.a.useState(!1),i=Object(v.a)(c,2),u=i[0],d=i[1],m=Object(a.useState)(""),f=Object(v.a)(m,2),p=f[0],b=f[1],A=function(){var e=Object(s.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o){e.next=3;break}return e.abrupt("return");case 3:return d(!0),e.next=6,Ne(p,[],o);case 6:return r=e.sent,e.next=9,Rt(r,t);case 9:n(gt({loading:!0,parent:t})),b(""),d(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"ReplyInput__newReplyBlock"},r.a.createElement(Ge.a.TextArea,{className:"ReplyInput__input",placeholder:"Reply...",value:p,onChange:function(e){u||b(e.target.value)},autoSize:!0,onPressEnter:function(e){return A(e)}}))},bn=function(){return r.a.createElement("div",{className:"BlankReply__block"},r.a.createElement(Ze,{icon:void 0,profileAddress:void 0,avatarSize:"small"}),r.a.createElement("div",{className:"BlankReply__messageBlock"},r.a.createElement("div",{className:"BlankReply__name"}," "),r.a.createElement("div",{className:"BlankReply__message"}," ")))},An=function(e){var t=e.parent,n=h((function(e){return e.feed.feedItems})).filter((function(e){var n;return"Note"===(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.type)&&(null===e||void 0===e?void 0:e.inReplyTo)===t})),a=h((function(e){return e.feed.isReplyLoading}));return r.a.createElement(r.a.Fragment,null,(t===(null===a||void 0===a?void 0:a.parent)||n.length>0)&&r.a.createElement("div",{className:"ReplyBlock__repliesList"},n.length>0&&r.a.createElement(r.a.Fragment,null,n.map((function(e,t){return r.a.createElement(pn,{reply:e,key:t})}))),t===(null===a||void 0===a?void 0:a.parent)&&r.a.createElement(bn,null)),r.a.createElement(vn,{parent:t}))},gn=function(e){var t,n,o=e.feedItem,c=g(),i=o.content,l=i.attachment,s=Object(a.useState)(!1),u=Object(v.a)(s,2),d=u[0],m=u[1],f=h((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}}))[o.fromId]||{fromId:o.fromId};return r.a.createElement(Jt.a,{key:o.hash,className:"Post__block",bordered:!1},r.a.createElement("div",{onClick:function(){return c(le(o.fromId))},onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},className:"Post__metaBlock"},r.a.createElement(Jt.a.Meta,{avatar:r.a.createElement(Ze,{icon:null===(t=f.icon)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.href,profileAddress:o.fromId,avatarSize:"medium"}),title:r.a.createElement(Ht,{profile:f,isHoveringProfile:d}),description:i.published&&r.a.createElement(rn,{published:i.published,postStyle:!0})})),r.a.createElement(fn,{hash:o.hash,fromId:o.fromId}),r.a.createElement("div",{className:"Post__caption"},i.content),l&&r.a.createElement(an,{attachment:l}),r.a.createElement(An,{parent:o.hash}))},hn=function(){return r.a.createElement(Jt.a,{className:"BlankPost__block",bordered:!1},r.a.createElement(Jt.a.Meta,{avatar:r.a.createElement(Ze,{icon:void 0,profileAddress:void 0,avatarSize:"medium"}),title:r.a.createElement("div",{className:"BlankPost__title"}," "),description:r.a.createElement("div",{className:"BlankPost__description"}," ")}),r.a.createElement("div",{className:"BlankPost__contentLine1"}," "),r.a.createElement("div",{className:"BlankPost__contentLine2"}," "),r.a.createElement("div",{className:"BlankPost__contentLine3"}," "))};!function(e){e[e.MY_FEED=0]="MY_FEED",e[e.MY_POSTS=1]="MY_POSTS",e[e.DISCOVER=2]="DISCOVER",e[e.DISPLAY_ID_POSTS=3]="DISPLAY_ID_POSTS"}(jt||(jt={}));var En,On=function(e){var t=e.feedType,n=h((function(e){return e.user.id})),a=h((function(e){return e.user.displayId})),o=h((function(e){return n&&e.graphs.following[n]||{}})),c=h((function(e){return e.feed.feedItems})).filter((function(e){var t;return"Note"===(null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.type)&&void 0===(null===e||void 0===e?void 0:e.inReplyTo)})),i=h((function(e){return e.feed.isPostLoading.loading})),l=function(e){return e.sort((function(e,t){return t.blockNumber-e.blockNumber})),e}(c),s=[];return s=t===jt.MY_FEED?l.filter((function(e){var t;return e.fromId===n||(null===(t=o[e.fromId])||void 0===t?void 0:t.status)===z.FOLLOWING})):t===jt.MY_POSTS?l.filter((function(e){return n===(null===e||void 0===e?void 0:e.fromId)})):t===jt.DISPLAY_ID_POSTS?l.filter((function(e){return a===(null===e||void 0===e?void 0:e.fromId)})):l,r.a.createElement("div",{className:"PostList__block"},i&&r.a.createElement(hn,null),s.length>0?r.a.createElement(r.a.Fragment,null,s.map((function(e,t){return r.a.createElement(gn,{key:t,feedItem:e})}))):"Empty Feed!")},Nn=n(1022);!function(e){e[e.MY_FEED=0]="MY_FEED",e[e.MY_POSTS=1]="MY_POSTS",e[e.DISCOVER=2]="DISCOVER",e[e.DISPLAY_ID_POSTS=3]="DISPLAY_ID_POSTS"}(En||(En={}));var In,yn=function(){var e=g(),t=h((function(e){return e.user.id})),n=h((function(e){return e.user.displayId})),o=h((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),c=n?o[n]:void 0,i=Object(a.useState)(!1),l=Object(v.a)(i,2),s=l[0],u=l[1],d=Object(a.useState)(En.DISCOVER),f=Object(v.a)(d,2),p=f[0],b=f[1],A=Object(a.useState)(!1),E=Object(v.a)(A,2),O=E[0],N=E[1],I=function(e){return p===e?"Feed__navigationItem Feed__navigationItem--active":"Feed__navigationItem"};return Object(a.useEffect)((function(){t&&n&&n!==t&&N(!0)}),[t,n]),Object(a.useEffect)((function(){O&&b(En.DISPLAY_ID_POSTS)}),[O,n]),r.a.createElement("div",{className:"Feed__block"},r.a.createElement("div",{className:"Feed__header"},r.a.createElement("nav",{className:"Feed__navigation"},O&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Feed__backArrow",onClick:function(){return t&&e(le(t)),N(!1),void b(En.DISCOVER)}},r.a.createElement(Nn.a,null)),r.a.createElement("div",{className:I(En.DISPLAY_ID_POSTS),onClick:function(){return b(En.DISPLAY_ID_POSTS)}},(null===c||void 0===c?void 0:c.name)||(null===c||void 0===c?void 0:c.handle),"'s Posts"),r.a.createElement("div",{className:"Feed__navigationSpacer"})),r.a.createElement("div",{className:I(En.DISCOVER),onClick:function(){return b(En.DISCOVER)}},"Discover"),r.a.createElement("div",{className:"Feed__navigationSpacer"}),r.a.createElement("div",{className:I(En.MY_FEED),onClick:function(){return b(En.MY_FEED)}},"My Feed"),r.a.createElement("div",{className:"Feed__navigationSpacer"}),r.a.createElement("div",{className:I(En.MY_POSTS),onClick:function(){return b(En.MY_POSTS)}},"My Posts")),t&&r.a.createElement(m.a,{className:"Feed__newPostButton",onClick:function(){return u(!0)}},"New Post"),s&&r.a.createElement(Yt,{onSuccess:function(){return u(!1)},onCancel:function(){return u(!1)}})),r.a.createElement(On,{feedType:p}))},wn=n(187),kn=n.n(wn),jn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ProfileBlock__loginHeaderText"}," Login Quick Start"),r.a.createElement("p",null,"To use the Example Client, you must log in with either MetaMask or Torus. Read the guides below to get started!"),r.a.createElement(kn.a,{defaultActiveKey:"1"},r.a.createElement(kn.a.TabPane,{tab:"MetaMask",key:"1"},r.a.createElement("div",{className:"ProfileBlock__loginTitleText"},"MetaMask Log In Guide"),_()?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You already have MetaMask installed! Just click the"," ",r.a.createElement("code",null,"Log In \u2192 MetaMask")," button."),r.a.createElement(et,{loginWalletOptions:w.METAMASK,isPrimary:!1})):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Before we can access the browser we need to install MetaMask to give us a cryptowallet. MetaMask is a browser extension Chrome or Firefox are recommended. Download them from your chosen browsers extension manager. Pin MetaMask to your extension bar."),r.a.createElement("p",null,"Once"," ",r.a.createElement("a",{href:"https://metamask.io/download.html",target:"__blank"},"installed correctly"),", setup MetaMask by following these steps:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Use an existing account do not create a new one."),r.a.createElement("li",null,"For account data use the following seed:"," ",r.a.createElement("code",null,"stove ankle number crucial clay heavy toilet entire bid betray cluster degree")),r.a.createElement("li",null,"Connect to a new Custom RPC.",r.a.createElement("ul",null,r.a.createElement("li",null,"Connect to a new Custom RPC."),r.a.createElement("li",null,"Name: ",r.a.createElement("code",null,"*determined by user")),r.a.createElement("li",null,"New RPC URL: ",r.a.createElement("code",null,"http://localhost:8545")),r.a.createElement("li",null,"ChainID: ",r.a.createElement("code",null,"1337")))),r.a.createElement("li",null,"Once setup, select/connect to that Custom RPC.")),r.a.createElement(et,{loginWalletOptions:w.METAMASK,isPrimary:!1}))),r.a.createElement(kn.a.TabPane,{tab:"Torus",key:"2"},r.a.createElement("div",{className:"ProfileBlock__loginTitleText"},"Torus Log In Guide"),r.a.createElement("p",null,"There is no setup required for Torus. Just click the"," ",r.a.createElement("code",null,"Log In \u2192 Torus")," button."),r.a.createElement(et,{loginWalletOptions:w.TORUS,isPrimary:!1}))))},_n=function(e){var t=e.userId,n=e.profile,a=e.following,o=g(),c=function(e){var t;return[z.FOLLOWING,z.UPDATING].includes(null===(t=a[e.fromId])||void 0===t?void 0:t.status)},i=function(e){var t;return(null===(t=a[e.fromId])||void 0===t?void 0:t.status)===z.UPDATING},u=function(e){return i(e)?"updating":c(e)?"Unfollow":"Follow"},d=function(){var e=Object(s.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c(n)){e.next=5;break}return e.next=3,Mt(BigInt(t),BigInt(n.fromId));case 3:e.next=7;break;case 5:return e.next=7,Ft(BigInt(t),BigInt(n.fromId));case 7:o(Pt({follower:t,followee:n.fromId,status:z.UPDATING}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(m.a,{className:"GraphChangeButton",name:u(n),onClick:function(){return d(n)},disabled:i(n)},u(n),i(n)?r.a.createElement(De.a,null):r.a.createElement("div",{className:"Follow"===u(n)?"GraphChangeButton__followIcon":"GraphChangeButton__unfollowIcon"},"\u2715"))};!function(e){e[e.CLOSED=0]="CLOSED",e[e.FOLLOWERS=1]="FOLLOWERS",e[e.FOLLOWING=2]="FOLLOWING"}(In||(In={}));var Sn,xn=function(e){var t=e.userId,n=e.listStatus,a=e.followedByDisplayUser,o=e.followingDisplayUser,c=h((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),i=h((function(e){return t&&e.graphs.following[t]||{}})),l=n===In.FOLLOWERS?o:n===In.FOLLOWING?a:{},s=Object.keys(l).map((function(e){return c[e]||Object(E.a)(Object(E.a)({},Object(he.createProfile)({name:"Anonymous"})),{},{contentHash:"",url:"",announcementType:we.AnnouncementType.Profile,fromId:e,handle:"unknown",createdAt:(new Date).getTime()})})).filter((function(e){var t;return(null===(t=l[e.fromId])||void 0===t?void 0:t.status)!==z.UNFOLLOWING}));return r.a.createElement(r.a.Fragment,null,s.map((function(e){var n,a,o;return r.a.createElement("div",{className:"ConnectionsListProfiles__profile",key:e.fromId},r.a.createElement(Ze,{icon:null===(n=c[e.fromId])||void 0===n||null===(a=n.icon)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.href,avatarSize:"small",profileAddress:e.fromId}),r.a.createElement("div",{className:"ConnectionsListProfiles__name"},e.name||e.fromId||"Anonymous"),r.a.createElement(_n,{userId:t,profile:e,following:i}))})))};!function(e){e[e.CLOSED=0]="CLOSED",e[e.FOLLOWERS=1]="FOLLOWERS",e[e.FOLLOWING=2]="FOLLOWING"}(Sn||(Sn={}));var Pn=function(){var e=h((function(e){return e.user})),t=e.id,n=e.displayId,o=h((function(e){return n&&e.graphs.following[n]||{}})),c=h((function(e){return n&&e.graphs.followers[n]||{}})),i=Object(a.useState)(Sn.CLOSED),l=Object(v.a)(i,2),s=l[0],u=l[1],d=function(e){u(s===e?Sn.CLOSED:e)},f=function(e){return s===e?"ConnectionsList__button ConnectionsList__button--active":"ConnectionsList__button"};return r.a.createElement("div",{className:"ConnectionsList__block"},r.a.createElement("div",{className:"ConnectionsList__buttonBlock"},r.a.createElement(m.a,{className:f(Sn.FOLLOWERS),onClick:function(){return d(Sn.FOLLOWERS)}},r.a.createElement("div",{className:"ConnectionsList__buttonCount"},Object.keys(c).length),"Followers"),s===Sn.CLOSED&&r.a.createElement("div",{className:"ConnectionsList__buttonSeparator"}," "),r.a.createElement(m.a,{className:f(Sn.FOLLOWING),onClick:function(){return d(Sn.FOLLOWING)}},r.a.createElement("div",{className:"ConnectionsList__buttonCount"},Object.keys(o).length),"Following")),t&&r.a.createElement(xn,{userId:t,listStatus:s,followedByDisplayUser:o,followingDisplayUser:c}))},Ln=function(){var e,t=h((function(e){return e.user.id})),n=h((function(e){return t&&e.graphs.following[t]||{}})),o=h((function(e){return e.user.displayId})),c=h((function(e){var t;return(null===(t=e.profiles)||void 0===t?void 0:t.profiles)||{}})),i=o?c[o]:void 0,u=null===i||void 0===i?void 0:i.handle,d=Object(a.useState)(),f=Object(v.a)(d,2),p=f[0],b=f[1],A=Object(a.useState)(),g=Object(v.a)(A,2),E=g[0],O=g[1],N=Object(a.useState)(!1),I=Object(v.a)(N,2),y=I[0],w=I[1],k=(null===i||void 0===i?void 0:i.name)||"Anonymous";Object(a.useEffect)((function(){w(!!(p&&p!==k||E&&E!==u))}),[p,E,k,u]);var j,_=Object(a.useState)(!1),S=Object(v.a)(_,2),x=S[0],P=S[1],L=function(){var e=Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!x),void 0!==t&&void 0!==p){e.next=3;break}return e.abrupt("return");case 3:return n=ue.a.activityContent.createProfile({name:p,icon:null===i||void 0===i?void 0:i.icon}),e.next=6,Tt(BigInt(t),n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ProfileBlock__personalInfoBlock"},r.a.createElement("div",{className:"ProfileBlock__avatarBlock"},r.a.createElement(Ze,{icon:null===(e=((null===i||void 0===i?void 0:i.icon)||[])[0])||void 0===e?void 0:e.href,profileAddress:o,avatarSize:"large"}),t===o&&(x?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"ProfileBlock__editButton",onClick:function(){return L()},disabled:!y},"save"),r.a.createElement(m.a,{className:"ProfileBlock__editButton",onClick:function(){return P(!x),b(void 0),void O(void 0)}},"cancel")):r.a.createElement(m.a,{className:"ProfileBlock__editButton",onClick:function(){return P(!x)}},"edit")),t&&t!==o&&i&&r.a.createElement(_n,{userId:t,profile:i,following:n})),r.a.createElement("div",{className:"ProfileBlock__personalInfo"},r.a.createElement("label",{className:"ProfileBlock__personalInfoLabel"},"NAME"),r.a.createElement("input",{className:(j="name",x?"ProfileBlock__".concat(j," ProfileBlock__editing"):"ProfileBlock__".concat(j)),value:p||""===p?p:k,onChange:function(e){return b(e.target.value)},disabled:!x}),r.a.createElement("label",{className:"ProfileBlock__personalInfoLabel"},"HANDLE"),r.a.createElement("input",{className:"ProfileBlock__handle",value:E||""===E?E:u,onChange:function(e){return O(e.target.value)},disabled:!0}),r.a.createElement("label",{className:"ProfileBlock__personalInfoLabel"},"SOCIAL ADDRESS"),r.a.createElement("input",{className:"ProfileBlock__dsnpUserId",value:o||"Anonymous",disabled:!0}))),r.a.createElement(Pn,null))},Cn=function(){var e=h((function(e){return e.user.id})),t=h((function(e){return e.user.displayId}));return r.a.createElement("div",{className:"ProfileBlock__block"},e||t?r.a.createElement(Ln,null):r.a.createElement(jn,null))},Bn=function(){var e=g(),t=h((function(e){return e.user.walletType}));return Object(a.useEffect)((function(){var n;if(t&&t!==w.NONE)return Object(s.a)(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,J(t).reload();case 3:return ke(t),a.next=6,e(Bt);case 6:n=a.sent,a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),a.t0.message.match(/login cancelled/i)?(e(ie(w.NONE)),ee(w.NONE)):console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))(),function(){n&&Object.values(n).forEach((function(e){return e()}))}})),r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(tt,null),r.a.createElement("main",{className:"App__content"},r.a.createElement(yn,null),r.a.createElement(Cn,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Un=Object(O.a)({reducer:{user:se,profiles:kt,graphs:Lt,feed:ht}});c.a.render(r.a.createElement(A.a,{store:Un},r.a.createElement(Bn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},479:function(e,t,n){e.exports=n(1001)},502:function(e,t){},526:function(e,t){},528:function(e,t){},602:function(e,t){},604:function(e,t){},614:function(e,t){},616:function(e,t){},641:function(e,t){},647:function(e,t){},660:function(e,t){},682:function(e,t){}},[[479,1,2]]]);
//# sourceMappingURL=main.f8cd8b33.chunk.js.map