"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateVideoAttachment = exports.generateImageAttachment = exports.generatePerson = exports.generateNote = exports.generateReply = void 0;
const activityPub_1 = require("../core/activityPub/activityPub");
const test_generators_1 = require("@dsnp/test-generators");
const PREFAB_FIRST_NAMES = test_generators_1.sampleText.prefabFirstNames;
const PREFAB_LAST_NAMES = test_generators_1.sampleText.prefabLastNames;
const PREFAB_URLS = test_generators_1.sampleText.prefabURLs;
const PREFAB_VIDEOS = test_generators_1.sampleText.prefabVideos;
const generateReply = (address, reply, inReplyTo) => {
    const note = exports.generateNote(address, reply, true);
    note.inReplyTo = inReplyTo;
    return note;
};
exports.generateReply = generateReply;
const generateNote = (address, message, hasAttachment) => {
    return activityPub_1.create({
        attributedTo: address,
        "@context": "https://www.w3.org/ns/activitystreams",
        content: message,
        attachments: hasAttachment ? [exports.generateImageAttachment()] : [],
        type: "Note",
    });
};
exports.generateNote = generateNote;
const generatePerson = (address, name) => {
    const newName = name ? name : [test_generators_1.sample(PREFAB_FIRST_NAMES), test_generators_1.sample(PREFAB_LAST_NAMES)].join(" ");
    return activityPub_1.create({
        attributedTo: address,
        "@context": "https://www.w3.org/ns/activitystreams",
        name: newName,
        url: "",
        type: "Person",
    });
};
exports.generatePerson = generatePerson;
const generateImageAttachment = (url) => {
    const theURL = url ? url : test_generators_1.sample(PREFAB_URLS);
    return {
        mediaType: theURL.replace(/(^\w+:|^)\/\//, ""),
        type: "Image",
        url: theURL,
    };
};
exports.generateImageAttachment = generateImageAttachment;
const generateVideoAttachment = (url) => {
    const theURL = url ? url : test_generators_1.sample(PREFAB_VIDEOS);
    return {
        mediaType: theURL.replace(/(^\w+:|^)\/\//, ""),
        type: "Video",
        url: theURL,
    };
};
exports.generateVideoAttachment = generateVideoAttachment;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aXZpdHlQdWJHZW5lcmF0b3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2dlbmVyYXRvcnMvYWN0aXZpdHlQdWJHZW5lcmF0b3JzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLGlFQUE2RjtBQUc3RiwyREFBMkQ7QUFFM0QsTUFBTSxrQkFBa0IsR0FBRyw0QkFBVSxDQUFDLGdCQUFnQixDQUFDO0FBQ3ZELE1BQU0saUJBQWlCLEdBQUcsNEJBQVUsQ0FBQyxlQUFlLENBQUM7QUFDckQsTUFBTSxXQUFXLEdBQUcsNEJBQVUsQ0FBQyxVQUFVLENBQUM7QUFDMUMsTUFBTSxhQUFhLEdBQUcsNEJBQVUsQ0FBQyxZQUFZLENBQUM7QUFRdkMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxPQUFrQixFQUFFLEtBQWEsRUFBRSxTQUFvQixFQUFlLEVBQUU7SUFDcEcsTUFBTSxJQUFJLEdBQUcsb0JBQVksQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2hELElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzNCLE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyxDQUFDO0FBSlcsUUFBQSxhQUFhLGlCQUl4QjtBQVNLLE1BQU0sWUFBWSxHQUFHLENBQUMsT0FBa0IsRUFBRSxPQUFlLEVBQUUsYUFBdUIsRUFBZSxFQUFFO0lBQ3hHLE9BQU8sb0JBQU0sQ0FBQztRQUNaLFlBQVksRUFBRSxPQUFPO1FBQ3JCLFVBQVUsRUFBRSx1Q0FBdUM7UUFDbkQsT0FBTyxFQUFFLE9BQU87UUFDaEIsV0FBVyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQywrQkFBdUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDN0QsSUFBSSxFQUFFLE1BQU07S0FDYixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFSVyxRQUFBLFlBQVksZ0JBUXZCO0FBUUssTUFBTSxjQUFjLEdBQUcsQ0FBQyxPQUFrQixFQUFFLElBQWEsRUFBZSxFQUFFO0lBQy9FLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLHdCQUFNLENBQUMsa0JBQWtCLENBQUMsRUFBRSx3QkFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDaEcsT0FBTyxvQkFBTSxDQUFDO1FBQ1osWUFBWSxFQUFFLE9BQU87UUFDckIsVUFBVSxFQUFFLHVDQUF1QztRQUNuRCxJQUFJLEVBQUUsT0FBTztRQUNiLEdBQUcsRUFBRSxFQUFFO1FBQ1AsSUFBSSxFQUFFLFFBQVE7S0FDZixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFUVyxRQUFBLGNBQWMsa0JBU3pCO0FBT0ssTUFBTSx1QkFBdUIsR0FBRyxDQUFDLEdBQVksRUFBeUIsRUFBRTtJQUM3RSxNQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsd0JBQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMvQyxPQUFPO1FBQ0wsU0FBUyxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLEVBQUUsQ0FBQztRQUM5QyxJQUFJLEVBQUUsT0FBTztRQUNiLEdBQUcsRUFBRSxNQUFNO0tBQ1osQ0FBQztBQUNKLENBQUMsQ0FBQztBQVBXLFFBQUEsdUJBQXVCLDJCQU9sQztBQU9LLE1BQU0sdUJBQXVCLEdBQUcsQ0FBQyxHQUFZLEVBQXlCLEVBQUU7SUFDN0UsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLHdCQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDakQsT0FBTztRQUNMLFNBQVMsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxFQUFFLENBQUM7UUFDOUMsSUFBSSxFQUFFLE9BQU87UUFDYixHQUFHLEVBQUUsTUFBTTtLQUNaLENBQUM7QUFDSixDQUFDLENBQUM7QUFQVyxRQUFBLHVCQUF1QiwyQkFPbEMifQ==