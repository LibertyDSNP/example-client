import { sortObject } from "../utilities/json";
const ISO8601_REGEX = /(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})([+-](\d{2}):(\d{2}))?/;
export const create = (options) => (Object.assign({ "@context": "https://www.w3.org/ns/activitystreams", type: "Note", published: new Date().toISOString() }, options));
export const isValid = (activityPub) => {
    if (activityPub["@context"] !== "https://www.w3.org/ns/activitystreams")
        return false;
    if (!activityPub.type || typeof activityPub.type !== "string")
        return false;
    if (activityPub.published && !activityPub.published.match(ISO8601_REGEX))
        return false;
    return true;
};
export const isValidReply = (activityPub) => {
    if (!isValid(activityPub))
        return false;
    if (!activityPub["inReplyTo"])
        return false;
    return true;
};
export const isValidProfile = (activityPub) => {
    if (!isValid(activityPub))
        return false;
    if (activityPub["type"] !== "Person")
        return false;
    return true;
};
export const serialize = (data) => {
    const sortedData = sortObject(data);
    return JSON.stringify(sortedData);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aXZpdHlQdWIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29yZS9hY3Rpdml0eVB1Yi9hY3Rpdml0eVB1Yi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFL0MsTUFBTSxhQUFhLEdBQUcsdUVBQXVFLENBQUM7QUF5QzlGLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxDQUFDLE9BQXdCLEVBQWUsRUFBRSxDQUM5RCxDQUFDLGdCQUNDLFVBQVUsRUFBRSx1Q0FBdUMsRUFDbkQsSUFBSSxFQUFFLE1BQU0sRUFDWixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsSUFDaEMsT0FBTyxDQUNLLENBQUEsQ0FBQztBQVNwQixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxXQUF3QixFQUFXLEVBQUU7SUFDM0QsSUFBSSxXQUFXLENBQUMsVUFBVSxDQUFDLEtBQUssdUNBQXVDO1FBQUUsT0FBTyxLQUFLLENBQUM7SUFDdEYsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLElBQUksT0FBTyxXQUFXLENBQUMsSUFBSSxLQUFLLFFBQVE7UUFBRSxPQUFPLEtBQUssQ0FBQztJQUM1RSxJQUFJLFdBQVcsQ0FBQyxTQUFTLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7UUFBRSxPQUFPLEtBQUssQ0FBQztJQUV2RixPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQztBQVNGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLFdBQXdCLEVBQVcsRUFBRTtJQUNoRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQztRQUFFLE9BQU8sS0FBSyxDQUFDO0lBQ3hDLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDO1FBQUUsT0FBTyxLQUFLLENBQUM7SUFFNUMsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUM7QUFTRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxXQUF3QixFQUFXLEVBQUU7SUFDbEUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7UUFBRSxPQUFPLEtBQUssQ0FBQztJQUN4QyxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxRQUFRO1FBQUUsT0FBTyxLQUFLLENBQUM7SUFFbkQsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUM7QUFTRixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxJQUFpQixFQUFVLEVBQUU7SUFDckQsTUFBTSxVQUFVLEdBQUksVUFBVSxDQUFFLElBQTJDLENBQTRCLENBQUM7SUFDeEcsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3BDLENBQUMsQ0FBQyJ9