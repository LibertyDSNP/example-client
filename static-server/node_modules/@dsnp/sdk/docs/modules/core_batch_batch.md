[@dsnp/sdk](../README.md) / [Modules](../modules.md) / core/batch/batch

# Module: core/batch/batch

## Table of contents

### Functions

- [createFile](core_batch_batch.md#createfile)
- [includes](core_batch_batch.md#includes)
- [openFile](core_batch_batch.md#openfile)
- [openURL](core_batch_batch.md#openurl)
- [readFile](core_batch_batch.md#readfile)
- [writeBatch](core_batch_batch.md#writebatch)

## Functions

### createFile

▸ `Const` **createFile**<T\>(`targetPath`, `messages`, `opts?`): `Promise`<BatchFileData\>

createFile() takes a series of Batch DSNP messages, writes them to a file at
specified target path and returns a BatchFileData object.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | `T`: [DSNPType](../enums/core_messages_messages.dsnptype.md) |

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `targetPath` | `string` | The path to and name of file |
| `messages` | `BatchIterable`<T\> | An array of DSNPMessage to include in the batch file |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as store, if any |

#### Returns

`Promise`<BatchFileData\>

A BatchFileData object including a URL and keccak hash of the file

___

### includes

▸ `Const` **includes**(`reader`, `column`, `item`): `Promise`<boolean\>

includes() checks if a column/field in a Parquet batch file contains an item.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `reader` | `any` | a ParquetReader object. |
| `column` | `string` | the column name to check if a value is included. |
| `item` | `string` \| `number` | a value. |

#### Returns

`Promise`<boolean\>

void.

___

### openFile

▸ `Const` **openFile**(`path`): `Promise`<any\>

openFile() allows users to open a parquet file with a path.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | to parquet file. |

#### Returns

`Promise`<any\>

a ParquetReader object.

___

### openURL

▸ `Const` **openURL**(`url`): `Promise`<any\>

openURL() allows users to open a parquet file with a URL.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `url` | `URL` | a URL to fetch parquet file from. |

#### Returns

`Promise`<any\>

a ParquetReader object.

___

### readFile

▸ `Const` **readFile**(`reader`, `doReadRow`): `Promise`<void\>

readFile() reads a Parquet file by row.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `reader` | `any` | a ParquetReader object. |
| `doReadRow` | `ReadRowFunction` | The callback for each row |

#### Returns

`Promise`<void\>

void.

___

### writeBatch

▸ `Const` **writeBatch**<T\>(`writeStream`, `schema`, `messages`, `opts?`): `Promise`<void\>

writeBatch() takes a series of Batch DSNP messages, writes them to the given
stream and returns a void promise which resolves when done.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | `T`: [DSNPType](../enums/core_messages_messages.dsnptype.md) |

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `writeStream` | [WriteStream](../interfaces/core_store_interface.writestream.md) | A writable stream |
| `schema` | [Schema](core_batch_parquetschema.md#schema) | The ParquetJS schema for the messages DSNP type |
| `messages` | `BatchIterable`<T\> | An array of DSNPMessage to include in the batch file |
| `opts?` | [BloomFilterOptions](../interfaces/core_batch_parquetschema.bloomfilteroptions.md) | Options for creating a Parquet file |

#### Returns

`Promise`<void\>

A void promise which will either resolve or reject
