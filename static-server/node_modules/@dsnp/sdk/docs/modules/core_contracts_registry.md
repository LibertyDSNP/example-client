[@dsnp/sdk](../README.md) / [Modules](../modules.md) / core/contracts/registry

# Module: core/contracts/registry

## Table of contents

### Interfaces

- [Registration](../interfaces/core_contracts_registry.registration.md)

### Type aliases

- [Handle](core_contracts_registry.md#handle)

### Functions

- [changeAddress](core_contracts_registry.md#changeaddress)
- [changeHandle](core_contracts_registry.md#changehandle)
- [getDSNPRegistryUpdateEvents](core_contracts_registry.md#getdsnpregistryupdateevents)
- [isMessageSignatureAuthorizedTo](core_contracts_registry.md#ismessagesignatureauthorizedto)
- [register](core_contracts_registry.md#register)
- [resolveRegistration](core_contracts_registry.md#resolveregistration)

## Type aliases

### Handle

Ƭ **Handle**: `string`

## Functions

### changeAddress

▸ `Const` **changeAddress**(`handle`, `identityContractAddress`, `opts?`): `Promise`<ContractTransaction\>

changeAddress() changes the identity contract address of a DSNP User Id

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `handle` | `string` | The string handle to alter |
| `identityContractAddress` | `string` | Address of the new identity contract to use |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | (optional) any config overrides. |

#### Returns

`Promise`<ContractTransaction\>

The contract Transaction

___

### changeHandle

▸ `Const` **changeHandle**(`oldHandle`, `newHandle`, `opts?`): `Promise`<ContractTransaction\>

changeHandle() changes the handle of a DSNP User Id

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `oldHandle` | `string` | The string handle to alter |
| `newHandle` | `string` | The new handle to use instead |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | (optional) any config overrides. |

#### Returns

`Promise`<ContractTransaction\>

The contract Transaction

___

### getDSNPRegistryUpdateEvents

▸ `Const` **getDSNPRegistryUpdateEvents**(`filter`, `opts?`): `Promise`<[Registration](../interfaces/core_contracts_registry.registration.md)[]\>

getDSNPRegistryUpdateEvents() Get all the DSNPRegistryUpdate events

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `filter` | `Partial`<Omit<[Registration](../interfaces/core_contracts_registry.registration.md), ``"handle"``\>\> | By dsnpUserId or Contract Address |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | (optional) any config overrides. |

#### Returns

`Promise`<[Registration](../interfaces/core_contracts_registry.registration.md)[]\>

An array of all the matching events

___

### isMessageSignatureAuthorizedTo

▸ `Const` **isMessageSignatureAuthorizedTo**(`signature`, `message`, `dsnpUserId`, `permission`, `blockTag?`, `opts?`): `Promise`<boolean\>

isMessageSignatureAuthorizedTo() validates a serialized message or DSNPMessage against a signature and then checks that the
signer has the permissions specified.  DSNPMessages should be passed as is,
without serializing, to guarantee consistent results.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `signature` | `string` | the signature for the message |
| `message` | `string` \| [DSNPMessage](core_messages_messages.md#dsnpmessage) | the signed message |
| `dsnpUserId` | `string` | the DSNP User Id of the supposed signer |
| `permission` | [Permission](../enums/core_contracts_identity.permission.md) | the permissions to check for |
| `blockTag?` | `BlockTag` | (optional). A block number or string BlockTag    (see https://docs.ethers.io/v5/api/providers/types/)    Defaults to 0x0, which checks for "forever" permissions. |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | (optional) any config overrides. |

#### Returns

`Promise`<boolean\>

___

### register

▸ `Const` **register**(`identityContractAddress`, `handle`, `opts?`): `Promise`<ContractTransaction\>

register() registers a handle to get a new DSNP User Id

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `identityContractAddress` | `string` | Address of the identity contract to use |
| `handle` | `string` | The string handle to register |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | (optional) any config overrides. |

#### Returns

`Promise`<ContractTransaction\>

The contract Transaction

___

### resolveRegistration

▸ `Const` **resolveRegistration**(`handle`, `opts?`): `Promise`<``null`` \| [Registration](../interfaces/core_contracts_registry.registration.md)\>

resolveRegistration() Try to resolve a handle into a DSNP User Id

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `handle` | `string` | String handle to resolve |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | (optional) any config overrides. |

#### Returns

`Promise`<``null`` \| [Registration](../interfaces/core_contracts_registry.registration.md)\>

The Hex for the DSNP User Id or null if not found
