[@dsnp/sdk](../README.md) / [Modules](../modules.md) / core/messages/messages

# Module: core/messages/messages

## Table of contents

### Enumerations

- [DSNPGraphChangeType](../enums/core_messages_messages.dsnpgraphchangetype.md)
- [DSNPType](../enums/core_messages_messages.dsnptype.md)

### Interfaces

- [BroadcastMessage](../interfaces/core_messages_messages.broadcastmessage.md)
- [DSNPTypedMessage](../interfaces/core_messages_messages.dsnptypedmessage.md)
- [GraphChangeMessage](../interfaces/core_messages_messages.graphchangemessage.md)
- [ProfileMessage](../interfaces/core_messages_messages.profilemessage.md)
- [ReactionMessage](../interfaces/core_messages_messages.reactionmessage.md)
- [ReplyMessage](../interfaces/core_messages_messages.replymessage.md)

### Type aliases

- [DSNPMessage](core_messages_messages.md#dsnpmessage)

### Functions

- [createBroadcastMessage](core_messages_messages.md#createbroadcastmessage)
- [createFollowGraphChangeMessage](core_messages_messages.md#createfollowgraphchangemessage)
- [createProfileMessage](core_messages_messages.md#createprofilemessage)
- [createReactionMessage](core_messages_messages.md#createreactionmessage)
- [createReplyMessage](core_messages_messages.md#createreplymessage)
- [createUnfollowGraphChangeMessage](core_messages_messages.md#createunfollowgraphchangemessage)
- [recoverPublicKey](core_messages_messages.md#recoverpublickey)
- [serialize](core_messages_messages.md#serialize)
- [sign](core_messages_messages.md#sign)

## Type aliases

### DSNPMessage

Ƭ **DSNPMessage**: [DSNPTypedMessage](../interfaces/core_messages_messages.dsnptypedmessage.md)<[DSNPType](../enums/core_messages_messages.dsnptype.md)\>

DSNPMessage: a message intended for inclusion in a batch file

## Functions

### createBroadcastMessage

▸ `Const` **createBroadcastMessage**(`fromId`, `url`, `hash`): [BroadcastMessage](../interfaces/core_messages_messages.broadcastmessage.md)

createBroadcastMessage() generates a broadcast message from a given URL and
hash.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `fromId` | `string` | The id of the user from whom the message is posted |
| `url` | `string` | The URL of the activity content to reference |
| `hash` | `string` | The hash of the content at the URL |

#### Returns

[BroadcastMessage](../interfaces/core_messages_messages.broadcastmessage.md)

A BroadcastMessage

___

### createFollowGraphChangeMessage

▸ `Const` **createFollowGraphChangeMessage**(`fromId`, `followeeId`): [GraphChangeMessage](../interfaces/core_messages_messages.graphchangemessage.md)

createFollowGraphChangeMessage() generates a follow graph change message from
a given DSNP user id.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `fromId` | `string` | The id of the user from whom the message is posted |
| `followeeId` | `string` | The id of the user to follow |

#### Returns

[GraphChangeMessage](../interfaces/core_messages_messages.graphchangemessage.md)

A GraphChangeMessage

___

### createProfileMessage

▸ `Const` **createProfileMessage**(`fromId`, `url`, `hash`): [ProfileMessage](../interfaces/core_messages_messages.profilemessage.md)

createProfileMessage() generates a profile message from a given URL and hash.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `fromId` | `string` | The id of the user from whom the message is posted |
| `url` | `string` | The URL of the activity content to reference |
| `hash` | `string` | The hash of the content at the URL |

#### Returns

[ProfileMessage](../interfaces/core_messages_messages.profilemessage.md)

A ProfileMessage

___

### createReactionMessage

▸ `Const` **createReactionMessage**(`fromId`, `emoji`, `inReplyTo`): [ReactionMessage](../interfaces/core_messages_messages.reactionmessage.md)

createReactionMessage() generates a reply message from a given URL, hash and
message identifier.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `fromId` | `string` | The id of the user from whom the message is posted |
| `emoji` | `string` | The emoji to respond with |
| `inReplyTo` | `string` | The message id of the parent message |

#### Returns

[ReactionMessage](../interfaces/core_messages_messages.reactionmessage.md)

A ReactionMessage

___

### createReplyMessage

▸ `Const` **createReplyMessage**(`fromId`, `url`, `hash`, `inReplyTo`): [ReplyMessage](../interfaces/core_messages_messages.replymessage.md)

createReplyMessage() generates a reply message from a given URL, hash and
message identifier.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `fromId` | `string` | The id of the user from whom the message is posted |
| `url` | `string` | The URL of the activity content to reference |
| `hash` | `string` | The hash of the content at the URL |
| `inReplyTo` | `string` | The message id of the parent message |

#### Returns

[ReplyMessage](../interfaces/core_messages_messages.replymessage.md)

A ReplyMessage

___

### createUnfollowGraphChangeMessage

▸ `Const` **createUnfollowGraphChangeMessage**(`fromId`, `followeeId`): [GraphChangeMessage](../interfaces/core_messages_messages.graphchangemessage.md)

createUnfollowGraphChangeMessage() generates an unfollow graph change message
from a given DSNP user id.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `fromId` | `string` | The id of the user from whom the message is posted |
| `followeeId` | `string` | The id of the user to unfollow |

#### Returns

[GraphChangeMessage](../interfaces/core_messages_messages.graphchangemessage.md)

A GraphChangeMessage

___

### recoverPublicKey

▸ `Const` **recoverPublicKey**(`message`, `signature`): `string`

recoverPublicKey() takes a DSNP message and a message signature and returns
the corresponding public key for validation.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `message` | [DSNPMessage](core_messages_messages.md#dsnpmessage) | The DSNP message to sign |
| `signature` | `string` | The message signature to validate |

#### Returns

`string`

The address of the signer in hex

___

### serialize

▸ `Const` **serialize**(`message`): `string`

serialize() takes a DSNP message and returns a serialized string.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `message` | [DSNPMessage](core_messages_messages.md#dsnpmessage) | The DSNP message to serialized |

#### Returns

`string`

A string serialization of the message

___

### sign

▸ `Const` **sign**<T\>(`message`, `opts?`): `Promise`<[DSNPMessageSigned](core_batch_batchmessages.md#dsnpmessagesigned)<T\>\>

sign() takes a DSNP message and returns a signed DSNP message ready for
inclusion in a batch.

**`throws`** [MissingSigner](index.md#missingsigner)
This error is thrown if no Signer is defined in the configuration options.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | `T`: [DSNPTypedMessage](../interfaces/core_messages_messages.dsnptypedmessage.md)<[DSNPType](../enums/core_messages_messages.dsnptype.md), T\> |

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `message` | `T` | The DSNP message to sign |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as from address, if any |

#### Returns

`Promise`<[DSNPMessageSigned](core_batch_batchmessages.md#dsnpmessagesigned)<T\>\>

The signed DSNP message
