[@dsnp/sdk](../README.md) / [Modules](../modules.md) / core/contracts/identity

# Module: core/contracts/identity

## Table of contents

### Enumerations

- [DelegationRole](../enums/core_contracts_identity.delegationrole.md)
- [Permission](../enums/core_contracts_identity.permission.md)

### Interfaces

- [DelegateAddParams](../interfaces/core_contracts_identity.delegateaddparams.md)

### Functions

- [createAddDelegateEip712TypedData](core_contracts_identity.md#createadddelegateeip712typeddata)
- [createAndRegisterBeaconProxy](core_contracts_identity.md#createandregisterbeaconproxy)
- [createBeaconProxy](core_contracts_identity.md#createbeaconproxy)
- [createBeaconProxyWithOwner](core_contracts_identity.md#createbeaconproxywithowner)
- [createCloneProxy](core_contracts_identity.md#createcloneproxy)
- [createCloneProxyWithOwner](core_contracts_identity.md#createcloneproxywithowner)
- [getDomainSeparator](core_contracts_identity.md#getdomainseparator)
- [getNonceForDelegate](core_contracts_identity.md#getnoncefordelegate)
- [isAuthorizedTo](core_contracts_identity.md#isauthorizedto)
- [upsertDelegate](core_contracts_identity.md#upsertdelegate)
- [upsertDelegateBySignature](core_contracts_identity.md#upsertdelegatebysignature)

## Functions

### createAddDelegateEip712TypedData

▸ `Const` **createAddDelegateEip712TypedData**(`contractAddress`, `message`, `opts?`): `Promise`<[TypedData](../interfaces/core_contracts_utilities.typeddata.md)\>

createAddDelegateEip712TypedData() Allows users to create typed structure data for signing addDelegate messages
following the EIP-712 standard.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `contractAddress` | `string` | Address of the identity contract to use |
| `message` | [DelegateAddParams](../interfaces/core_contracts_identity.delegateaddparams.md) | The DelegateAdd message to be signed |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as store, if any |

#### Returns

`Promise`<[TypedData](../interfaces/core_contracts_utilities.typeddata.md)\>

Typed structure data for signing addDelegate messages

___

### createAndRegisterBeaconProxy

▸ `Const` **createAndRegisterBeaconProxy**(`userAddress`, `handle`, `opts?`): `Promise`<ContractTransaction\>

createAndRegisterBeaconProxy() Create a new identity and register
it to a handle to get a new DSNP Id. This will create and register
a new beacon proxy identity.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `userAddress` | `string` | User's public key address |
| `handle` | `string` | The string handle to register |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as from address, if any |

#### Returns

`Promise`<ContractTransaction\>

The contract Transaction

___

### createBeaconProxy

▸ `Const` **createBeaconProxy**(`beacon`, `opts?`): `Promise`<ContractTransaction\>

createBeaconProxy(beacon: EthereumAddress) Creates a new identity with the message sender as the owner

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `beacon` | `string` | The beacon address to use logic contract resolution |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as from address, if any |

#### Returns

`Promise`<ContractTransaction\>

A contract receipt promise

___

### createBeaconProxyWithOwner

▸ `Const` **createBeaconProxyWithOwner**(`owner`, `beacon`, `opts?`): `Promise`<ContractTransaction\>

createBeaconProxyWithOwner(beacon: EthereumAddress, owner: EthereumAddress) Creates a new identity with the ecrecover address as the owner

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `owner` | `string` | The initial owner's address of the new contract |
| `beacon` | `string` | The beacon address to use logic contract resolution |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as from address, if any |

#### Returns

`Promise`<ContractTransaction\>

A contract receipt promise

___

### createCloneProxy

▸ `Const` **createCloneProxy**(`logic?`, `opts?`): `Promise`<ContractTransaction\>

createCloneProxy(logic?: Ethereum Address) Creates a new identity with the message sender as the owner

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `logic?` | `string` | The address to use for the logic contract |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as from address, if any |

#### Returns

`Promise`<ContractTransaction\>

A contract receipt promise

___

### createCloneProxyWithOwner

▸ `Const` **createCloneProxyWithOwner**(`owner`, `logic?`, `opts?`): `Promise`<ContractTransaction\>

createCloneProxyWithOwner() Creates a new identity with the ecrecover address as the owner

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `owner` | `string` | The initial owner's address of the new contract |
| `logic?` | `string` | The address to use for the logic contract |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as from address, if any |

#### Returns

`Promise`<ContractTransaction\>

A contract receipt promise

___

### getDomainSeparator

▸ `Const` **getDomainSeparator**(`contractAddress`, `opts?`): `Promise`<[TypedDomainData](core_contracts_utilities.md#typeddomaindata)\>

getDomainSeparator() Gets unique data that identifies the Identity contract to prevent phishing attacks

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `contractAddress` | `string` | Address of the identity contract to use |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as store, if any |

#### Returns

`Promise`<[TypedDomainData](core_contracts_utilities.md#typeddomaindata)\>

A EIP-712 domain structure that is unique to the Identity contract

___

### getNonceForDelegate

▸ `Const` **getNonceForDelegate**(`contractAddress`, `delegateAddress`, `opts?`): `Promise`<number\>

getNonceForDelegate() Get a delegate's nonce
following the EIP-712 standard.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `contractAddress` | `string` | Address of the identity contract to use |
| `delegateAddress` | `string` | The delegate's address to get the nonce for |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as store, if any |

#### Returns

`Promise`<number\>

nonce value for delegate

___

### isAuthorizedTo

▸ `Const` **isAuthorizedTo**(`address`, `contractAddress`, `permission`, `blockNumber`, `opts?`): `Promise`<boolean\>

isAuthorizedTo() Checks to see if address is authorized with the given permission

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `address` | `string` | Address that is used to test permission |
| `contractAddress` | `string` | Address of contract to check against |
| `permission` | [Permission](../enums/core_contracts_identity.permission.md) | Level of permission check. See Permission for details |
| `blockNumber` | `number` | Check for authorization at a particular block number,        0x0 reserved for endless permissions |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as from address, if any |

#### Returns

`Promise`<boolean\>

boolean

___

### upsertDelegate

▸ `Const` **upsertDelegate**(`contractAddress`, `address`, `role`, `opts?`): `Promise`<ContractTransaction\>

upsertDelegate() Add or change permissions for delegate

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `contractAddress` | `string` | Address of the identity contract to use |
| `address` | `string` | Address of delegate to add permissions to |
| `role` | [DelegationRole](../enums/core_contracts_identity.delegationrole.md) | The role to give delegate |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | Optional. Configuration overrides, such as from address, if any |

#### Returns

`Promise`<ContractTransaction\>

___

### upsertDelegateBySignature

▸ `Const` **upsertDelegateBySignature**(`contractAddress`, `signature`, `message`, `opts?`): `Promise`<ContractTransaction\>

upsertDelegateBySignature() Add or change permissions for delegate using EIP-712 signature

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `contractAddress` | `string` | Address of the identity contract to use |
| `signature` | [EIP712Signature](core_contracts_utilities.md#eip712signature) | ECDSA signature r value, s value and EIP-155 calculated Signature v value |
| `message` | `DelegateAdd` | DelegateAdd data containing new delegate address, role, and nonce |
| `opts?` | `Partial`<[Config](../interfaces/index.config.md)\> | delegateadd data containing new delegate address, role, and nonce |

#### Returns

`Promise`<ContractTransaction\>
